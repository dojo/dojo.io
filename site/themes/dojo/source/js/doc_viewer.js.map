{"version":3,"sources":["webpack:///./src/docs.ts","webpack:///./src/doc_viewer.ts","webpack:///html-element (ignored)","webpack:///./src/renderer/api.ts","webpack:///./src/hash.ts","webpack:///./src/renderer/markdown.ts","webpack:///./src/search.ts","webpack:///./src/dom.ts"],"names":[],"mappings":"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","file":"doc_viewer.js","sourcesContent":["import { parseHash } from './hash';\n\nexport enum DocType {\n\tapi = 'api',\n\tdocs = 'docs'\n}\n\nexport interface ProjectDocs {\n\turl: string;\n\tlogo?: string;\n\tlatest: string;\n\tnext: string;\n\tversions: { [version: string]: DocSet };\n}\n\n/**\n * A specific doc set. If a branch is specified but url or docBase are not,\n * they will be constructed using the standard GitHub URL format.\n */\nexport interface DocSet {\n\t// The base URL for the doc set\n\turl?: string;\n\t// The base URL from which the pages should be loaded\n\tdocBase?: string;\n\t// The branch or tag in the repo where docs will be loaded from.\n\tbranch?: string;\n\t// The path to an API data file\n\tapi?: string;\n\n\t// The paths to  markdown pages that make up the doc set, relative to\n\t// docBase\n\tpages: string[];\n\t// A cache of rendered documents\n\tpageCache?: { [name: string]: DocPage };\n\t// The rendered menu element\n\tmenu?: Element;\n\t// A promise that resolves when the pages and menu have been rendered\n\tready?: Promise<void>;\n\n\t// The IDs of generated API pages\n\tapiPages?: string[];\n\t// A cache of rendered api doc pages\n\tapiCache?: { [name: string]: DocPage };\n\t// The rendered api menu element\n\tapiMenu?: Element;\n\t// A promise that resolves when the API pages and menu have been rendered\n\tapiReady?: Promise<void>;\n}\n\n/**\n * A single doc page\n */\nexport interface DocPage {\n\tname: string;\n\telement: Element;\n\ttitle: string;\n}\n\n/**\n * An ID for a particular doc set\n */\nexport interface DocSetId {\n\tproject: string;\n\tversion: string;\n}\n\n/**\n * An ID for a specific page in a doc set\n */\nexport interface PageId extends DocSetId {\n\ttype: DocType;\n\tpage: string;\n\tsection?: string;\n}\n\n/**\n * Get information about the currently displayed page.\n *\n * Returns a page ID if the current hash is valid, or throws.\n */\nexport function getCurrentPageId(includeSection = true) {\n\tconst docSetId = getCurrentDocSetId();\n\tconst { type, page, section } = parseHash();\n\n\tif (!type || !(type in DocType)) {\n\t\tthrow new Error(`Missing or invalid doc type: ${type}`);\n\t}\n\n\tif (!page) {\n\t\tthrow new Error('Missing page name');\n\t}\n\n\tconst docSet = getDocSet(docSetId);\n\tconst pageNames = type === DocType.api ? docSet.apiPages : docSet.pages;\n\tif (!pageNames) {\n\t\tthrow new Error(`No pages of type \"${type}\"`);\n\t}\n\n\tif (pageNames.indexOf(page) === -1) {\n\t\tthrow new Error(`Invalid page: ${page}`);\n\t}\n\n\tconst { project, version } = docSetId;\n\tconst id: PageId = { project, version, type, page };\n\tif (includeSection) {\n\t\tid.section = section;\n\t}\n\n\treturn id;\n}\n\n/**\n * Get the current doc set ID\n */\nexport function getCurrentDocSetId() {\n\tconst { project, version } = parseHash();\n\n\tif (!project || !docSets[project]) {\n\t\tthrow new Error(`Missing or invalid project: ${project}`);\n\t}\n\n\tif (!version) {\n\t\tthrow new Error(`Missing version`);\n\t}\n\n\tconst projectDocs = docSets[project];\n\n\tlet realVersion = resolveVersion({ project, version });\n\tif (!projectDocs.versions[realVersion]) {\n\t\tthrow new Error(`Invalid version: ${version}`);\n\t}\n\n\treturn { project, version: realVersion };\n}\n\n/**\n * Get a doc set by id\n */\nexport function getDocSet(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('getDocSet called with invalid ID');\n\t}\n\tconst project = docSets[id.project];\n\tlet version = resolveVersion(id);\n\treturn project.versions[version];\n}\n\n/**\n * Return the ID of the default doc set\n */\nexport function getDefaultDocSetId() {\n\treturn {\n\t\tproject: 'core',\n\t\tversion: docSets['core'].latest\n\t};\n}\n\n/**\n * Return the ID of the default page for a given doc set\n */\nexport function getDefaultPageId(docSetId: DocSetId, type = DocType.docs) {\n\tconst docSet = getDocSet(docSetId);\n\tconst { project, version } = docSetId;\n\tif (!type || !(type in DocType)) {\n\t\tthrow new Error(`Invalid doc type: ${type}`);\n\t}\n\tconst page = type === DocType.api ? docSet.apiPages![0] : docSet.pages[0];\n\treturn { project, version, page, type };\n}\n\n/**\n * Get the project base URL for a given project version. If the doc set\n * version structure contains a `url` field, it will be used. Otherwise, a\n * URL will be constructed using the doc set version branch and standard\n * GitHub URL formats.\n */\nexport function getDocVersionUrl(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('Invalid docSet');\n\t}\n\n\tconst projectDocs = docSets[id.project];\n\tconst version = resolveVersion(id);\n\tconst dv = projectDocs.versions[version];\n\tif (dv.url) {\n\t\treturn dv.url;\n\t}\n\treturn `${projectDocs.url}/tree/${dv.branch}`;\n}\n\n/**\n * Get the doc base URL for a given project version. If the doc set version\n * structure contains a `docBase` field, it will be used. Otherwise, a URL\n * will be constructed using the doc set version branch and standard GitHub\n * URL formats.\n */\nexport function getDocBaseUrl(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('Invalid docSet');\n\t}\n\n\tconst projectDocs = docSets[id.project];\n\tconst version = resolveVersion(id);\n\tconst dv = projectDocs.versions[version];\n\tif (dv.docBase) {\n\t\treturn dv.docBase;\n\t}\n\n\tconst url = projectDocs.url.replace(\n\t\t/\\/\\/github\\./,\n\t\t'//raw.githubusercontent.'\n\t);\n\treturn `${url}/${dv.branch}/`;\n}\n\n/**\n * Return true if a given doc set ID is valid. To be valid, it must\n * specify a valid project and version\n */\nexport function isValidDocSetId(id: Partial<DocSetId>): id is DocSetId {\n\tconst { project, version } = id;\n\n\tif (!project || !docSets[project]) {\n\t\treturn false;\n\t}\n\n\tif (!version) {\n\t\treturn false;\n\t}\n\n\tconst realVersion = resolveVersion({ project, version });\n\tif (!docSets[project].versions[realVersion]) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Return true if a given page ID is valid. To be valid it must\n * specify a valid project, version, and type\n */\nexport function isValidPageId(id: Partial<PageId>): id is PageId {\n\tif (!isValidDocSetId(id)) {\n\t\treturn false;\n\t}\n\n\tconst { type, page } = <Partial<PageId>> id;\n\n\tif (!type || !(type in DocType)) {\n\t\treturn false;\n\t}\n\n\tif (!page) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Return the 'latest' version of a given project. This may be the highest\n * version number, or the version tagged as the 'latest' in the doc set data.\n */\nexport function getLatestVersion(project: string) {\n\tconst docSet = docSets[project];\n\tlet version = docSet.latest;\n\tif (!version) {\n\t\tconst versions = Object.keys(docSet.versions).sort(compareVersions);\n\t\tversion = versions[versions.length - 1];\n\t}\n\treturn version;\n}\n\n/**\n * Return the 'next' version of a given project. This may be the version\n * directly after the 'latest' version, or the version tagged as 'next' in the\n * docSet data.\n */\nexport function getNextVersion(project: string) {\n\tconst docSet = docSets[project];\n\tlet version = docSet.next;\n\tif (!version) {\n\t\tconst versions = Object.keys(docSet.versions).sort(compareVersions);\n\t\tconst latest = getLatestVersion(project);\n\t\tconst idx = versions.indexOf(latest);\n\t\tif (idx !== -1 && versions[idx + 1]) {\n\t\t\tversion = versions[idx + 1];\n\t\t}\n\t}\n\treturn version;\n}\n\n/**\n * Return a list of available project names\n */\nexport function getProjects() {\n\treturn Object.keys(docSets);\n}\n\n/**\n * Return a list of available versions for a given project\n */\nexport function getVersions(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn Object.keys(docSets[project].versions).sort(compareVersions);\n}\n\n/**\n * Return a logo image URL for a project\n */\nexport function getProjectLogo(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn docSets[project].logo;\n}\n\n/**\n * Return the base URL for a project\n */\nexport function getProjectUrl(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn docSets[project].url;\n}\n\n/**\n * Resolve a version for a project\n */\nfunction resolveVersion(id: DocSetId) {\n\tif (id.version === 'latest') {\n\t\treturn getLatestVersion(id.project);\n\t}\n\tif (id.version === 'next') {\n\t\treturn getNextVersion(id.project);\n\t}\n\treturn id.version;\n}\n\n/**\n * Loosely compare two version strings\n */\nfunction compareVersions(a: string, b: string) {\n\tconst aParts = a.split('.').map(part => Number(part) || 0);\n\tconst bParts = b.split('.').map(part => Number(part) || 0);\n\tconst length = Math.max(aParts.length, bParts.length);\n\tfor (let i = 0; i < length; i++) {\n\t\tconst diff = aParts[i] - bParts[i];\n\t\tif (diff !== 0) {\n\t\t\treturn diff;\n\t\t}\n\t}\n\treturn aParts.length - bParts.length;\n}\n\ndeclare const docSets: { [name: string]: ProjectDocs };\n\n\n\n// WEBPACK FOOTER //\n// ./src/docs.ts","/**\n * Intern doc viewer\n */\n\nimport * as PromisePolyfill from 'promise-polyfill';\nimport * as h from 'hyperscript';\n\nimport {\n\tDocSet,\n\tDocSetId,\n\tDocPage,\n\tDocType,\n\tgetProjects,\n\tgetVersions,\n\tgetCurrentDocSetId,\n\tgetDefaultDocSetId,\n\tgetDocSet,\n\tgetCurrentPageId,\n\tgetDefaultPageId,\n\tgetDocBaseUrl,\n\tgetDocVersionUrl,\n\tgetLatestVersion,\n\tgetNextVersion,\n\tgetProjectLogo\n} from './docs';\nimport { renderApiPages } from './renderer/api';\nimport { renderMenu, renderDocPage } from './renderer/markdown';\nimport { createHash, parseHash, updateHash, HashEvent } from './hash';\nimport search from './search';\nimport {place, queryExpected} from './dom';\n\nconst global = <any> window;\nif (!global.Promise) {\n\tglobal.Promise = <typeof Promise> (<any> PromisePolyfill);\n}\n\nlet viewer: HTMLElement;\nlet content: HTMLElement;\nlet messageModal: HTMLElement;\nlet ignoreScroll = false;\nlet searchPanel: HTMLElement;\nlet scrollState: {\n\tpageHash: string;\n\theadings: NodeListOf<Element>;\n} = Object.create(null);\n\nconst searchDelay = 300;\nconst menuHighlightDelay = 20;\n\n// Super simple router. The location hash fully controls the state of the\n// doc viewer. Changes to the project and version selectors will update the\n// hash, which will cause new content to be rendered.\nwindow.addEventListener('hashchange', processHash);\n\n// If the base docs page is loaded without a hash, set a default hash to\n// get a docset to load.\nif (!location.hash) {\n\tupdateHash({ ...getDefaultDocSetId(), type: DocType.docs });\n\tprocessHash();\n}\n\n// Create a promise that resolves when the doc is ready (just for\n// convenience)\nconst ready = new Promise(resolve => {\n\twindow.addEventListener('load', resolve);\n});\n\nready.then(() => {\n\tviewer = queryExpected('.page-docs');\n\tcontent = queryExpected('.docs-content');\n\tmessageModal = queryExpected('.message-modal');\n\tsearchPanel = queryExpected('.search-panel');\n\n\tplace(queryExpected('.docs-nav'), (docsNavNode) => {\n\t\t// Handle updates to the project + version selects.\n\t\tdocsNavNode.addEventListener('change', event => {\n\t\t\tconst target: Element = <Element> event.target;\n\t\t\tif (target.tagName !== 'SELECT') {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst select = <HTMLSelectElement> target;\n\t\t\tconst docSetId = getCurrentDocSetId();\n\n\t\t\tif (target.getAttribute('data-select-property') === 'project') {\n\t\t\t\t// The project was changed\n\t\t\t\tdocSetId.project = select.value;\n\t\t\t\tdocSetId.version = getLatestVersion(select.value);\n\t\t\t} else {\n\t\t\t\t// The version was changed\n\t\t\t\tdocSetId.version = select.value;\n\t\t\t}\n\n\t\t\tupdateHash({ ...docSetId, type: DocType.docs, page: 'README.md' });\n\t\t\tprocessHash();\n\t\t});\n\n\t\t// Open the search dropdown if the user clicks a search button\n\t\tdocsNavNode.addEventListener('click', event => {\n\t\t\tlet target = <HTMLElement> event.target;\n\n\t\t\tif (target.classList.contains('fa')) {\n\t\t\t\t// An icon was clicked, get its parent\n\t\t\t\ttarget = target.parentElement!;\n\t\t\t}\n\n\t\t\tif (target.classList.contains('search-button')) {\n\t\t\t\ttarget.classList.toggle('is-active');\n\t\t\t\tviewer.classList.toggle('is-searching');\n\t\t\t\tif (viewer.classList.contains('is-searching')) {\n\t\t\t\t\tsearchPanel.querySelector('input')!.focus();\n\t\t\t\t}\n\t\t\t} else if (target.classList.contains('navbar-burger')) {\n\t\t\t\tconst menuId = target.getAttribute('data-target')!;\n\t\t\t\tconst menu = document.getElementById(menuId)!;\n\t\t\t\ttarget.classList.toggle('is-active');\n\t\t\t\tmenu.classList.toggle('is-active');\n\t\t\t}\n\t\t});\n\t});\n\n\tplace(searchPanel, (searchPanel) => {\n\t\t// Live search as the user types into the search dropdown input\n\t\tlet searchTimer: number | undefined;\n\t\tsearchPanel.addEventListener('input', event => {\n\t\t\tif (searchTimer) {\n\t\t\t\tclearTimeout(searchTimer);\n\t\t\t}\n\t\t\tsearchTimer = <any> setTimeout(() => {\n\t\t\t\tconst results = queryExpected('.search-results', searchPanel);\n\t\t\t\tconst docType = <DocType> viewer.getAttribute('data-doc-type')!;\n\t\t\t\tsearch((<HTMLInputElement> event.target).value, docType, results);\n\t\t\t}, searchDelay);\n\t\t});\n\n\t\t// Clear the search field when the user clicks the 'x' in the search box\n\t\tsearchPanel.querySelector('.button')!.addEventListener('click', () => {\n\t\t\tconst results = searchPanel.querySelector('.search-results')!;\n\t\t\tconst docType = <DocType> viewer.getAttribute('data-doc-type')!;\n\t\t\tconst input = <HTMLInputElement> searchPanel.querySelector('input');\n\t\t\tinput.value = '';\n\t\t\tsearch('', docType, results);\n\t\t\tsearchPanel.querySelector('input')!.focus();\n\t\t});\n\t});\n\n\tplace(content, (content) => {\n\t\t// Update the url hash as the user scrolls\n\t\tlet menuTimer: number | undefined;\n\t\tcontent.addEventListener('scroll', () => {\n\t\t\tconst ignoring = ignoreScroll;\n\t\t\tignoreScroll = false;\n\t\t\tif (ignoring) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (menuTimer) {\n\t\t\t\tclearTimeout(menuTimer);\n\t\t\t}\n\t\t\tmenuTimer = <any> setTimeout(() => {\n\t\t\t\tmenuTimer = undefined;\n\t\t\t\tupdateHashFromContent();\n\t\t\t}, menuHighlightDelay);\n\t\t});\n\t});\n\n\tprocessHash();\n});\n\n/**\n * Load a docset.\n *\n * An optional page and section may be provided. When the docset is\n * finished loading, the given page, or the first page in the set, will be\n * shown.\n */\nfunction loadDocSet(id: DocSetId): Promise<DocSet> {\n\tconst docSet = getDocSet(id);\n\n\tif (docSet.ready) {\n\t\t// The docset is already visible, so don't do anything\n\t\treturn Promise.resolve(docSet);\n\t}\n\n\t// The message will be hidden in process hash, after the UI has been\n\t// updated\n\tshowMessage('', '', 'loading');\n\n\tconst docBase = getDocBaseUrl(id);\n\tconst cache = (docSet.pageCache = <{\n\t\t[name: string]: DocPage;\n\t}> Object.create(null));\n\n\treturn fetch(`${docBase}README.md`)\n\t\t.then(response => response.text())\n\t\t.then(readme => {\n\t\t\tconst logo = getProjectLogo(id.project);\n\t\t\trenderPage(readme, 'README.md', id, logo);\n\n\t\t\tconst matcher = /^<!--\\s+doc-viewer-config\\s/m;\n\t\t\tif (matcher.test(readme)) {\n\t\t\t\tconst result = matcher.exec(readme)!;\n\t\t\t\tconst index = result.index;\n\t\t\t\tconst start = readme.indexOf('{', index);\n\t\t\t\tconst end = readme.indexOf('-->', index);\n\t\t\t\tconst data = readme.slice(start, end).trim();\n\t\t\t\treturn <DocSet> JSON.parse(data);\n\t\t\t}\n\t\t\treturn null;\n\t\t})\n\t\t.then(config => {\n\t\t\tif (config) {\n\t\t\t\tfor (const key of Object.keys(config)) {\n\t\t\t\t\tconst prop = <keyof DocSet> key;\n\t\t\t\t\tdocSet[prop] = config[prop];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pageNames = (docSet.pages = ['README.md'].concat(\n\t\t\t\tdocSet.pages || []\n\t\t\t));\n\n\t\t\tdocSet.ready = Promise.all(\n\t\t\t\tpageNames.filter(name => name !== 'README.md').map(name => {\n\t\t\t\t\treturn fetch(docBase + name)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(text => renderPage(text, name, id));\n\t\t\t\t})\n\t\t\t).then(() => {\n\t\t\t\tdocSet.menu = renderMenu(id, DocType.docs);\n\t\t\t});\n\n\t\t\tif (docSet.api) {\n\t\t\t\tdocSet.apiReady = fetch(docBase + docSet.api)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\trenderApiPages(id, data);\n\t\t\t\t\t\tdocSet.apiMenu = renderMenu(id, DocType.api, 4);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn docSet;\n\t\t});\n\n\tfunction renderPage(\n\t\ttext: string,\n\t\tname: string,\n\t\tid: DocSetId,\n\t\tlogo?: string\n\t) {\n\t\treturn ready.then(() => {\n\t\t\tconst element = renderDocPage(text, name, id);\n\t\t\tconst h1 = element.querySelector('h1');\n\t\t\tconst title = (h1 && h1.textContent) || id.project;\n\t\t\tif (logo && h1) {\n\t\t\t\tconst logoImg = h('img.logo', { src: logo });\n\t\t\t\th1.insertBefore(logoImg, h1.firstChild);\n\t\t\t}\n\t\t\tcache[name] = { name, element, title };\n\t\t});\n\t}\n}\n\n/**\n * Update the links in doc navbar\n */\nfunction updateNavBarLinks(id: DocSetId) {\n\tconst docSet = getDocSet(id);\n\tconst navbar = <HTMLElement> document.querySelector(\n\t\t'.docs-nav .navbar-start'\n\t);\n\n\tnavbar.classList[docSet.api ? 'add' : 'remove']('has-api');\n\tnavbar.classList[docSet.pages ? 'add' : 'remove']('has-docs');\n\n\tconst docTypes = <DocType[]> Object.keys(DocType).filter(\n\t\ttype => !Number(type)\n\t);\n\tfor (const type of docTypes) {\n\t\tconst link = <HTMLLinkElement> navbar.querySelector(\n\t\t\t`.navbar-item[data-doc-type=\"${type}\"]`\n\t\t)!;\n\t\tlink.href = createHash({\n\t\t\tproject: id.project,\n\t\t\tversion: id.version,\n\t\t\ttype\n\t\t});\n\t}\n}\n\n/**\n * Select the currently active project in the project selector.\n */\nfunction updateDocsetSelector() {\n\tconst pageId = getCurrentPageId();\n\tconst selector = document.querySelector(\n\t\t'select[data-select-property=\"project\"]'\n\t)!;\n\n\tif (selector.children.length === 0) {\n\t\tfor (let name of getProjects()) {\n\t\t\tconst option = h('option', { value: name }, name);\n\t\t\tselector.appendChild(option);\n\t\t}\n\t}\n\n\tconst option = <HTMLOptionElement> selector.querySelector(\n\t\t`option[value=\"${getCurrentPageId().project}\"]`\n\t);\n\tif (option) {\n\t\toption.selected = true;\n\t}\n\n\tconst versions = getVersions(pageId.project).reverse();\n\t// If more than one version is available, show the version selector\n\tif (versions.length > 1) {\n\t\tviewer.classList.add('multi-version');\n\n\t\tconst selector = document.querySelector(\n\t\t\t'select[data-select-property=\"version\"]'\n\t\t)!;\n\t\tselector.innerHTML = '';\n\t\tconst latestVersion = getLatestVersion(pageId.project);\n\t\tconst nextVersion = getNextVersion(pageId.project);\n\t\tfor (const version of versions) {\n\t\t\tlet text = `v${version}`;\n\t\t\tif (version === latestVersion) {\n\t\t\t\ttext += ' (release)';\n\t\t\t} else if (version === nextVersion) {\n\t\t\t\ttext += ' (dev)';\n\t\t\t}\n\t\t\tselector.appendChild(\n\t\t\t\th(\n\t\t\t\t\t'option',\n\t\t\t\t\t{ value: version, selected: version === pageId.version },\n\t\t\t\t\ttext\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t} else {\n\t\tviewer.classList.remove('multi-version');\n\t}\n}\n\n/**\n * Show a page in the currently loaded docset\n */\nfunction showPage(type: DocType, name: string, section?: string) {\n\tconst docSet = getDocSet(getCurrentDocSetId());\n\tconst page = getPage(docSet, type, name);\n\tplace(queryExpected('.docs-content', document.body), (content) => {\n\t\tif (content.children.length > 0) {\n\t\t\tcontent.removeChild(content.children[0]);\n\t\t}\n\t\tcontent.appendChild(page.element);\n\n\t\t// Do highlighting before scrolling a sectoin into view. Highlighting\n\t\t// also involves scroll manipulation, and if the viewer is using a\n\t\t// mobile layout, we want the content scroll to take priority over the\n\t\t// menu scroll.\n\t\thighlightActivePage();\n\t\thighlightActiveSection();\n\n\t\t// Showing the page will probably scroll the content area, but we don't\n\t\t// want to invoke the normal scroll handling code in this case.\n\t\tignoreScroll = true;\n\n\t\tif (section) {\n\t\t\tconst header = <HTMLElement> document.querySelector(`#${section}`);\n\t\t\tif (header) {\n\t\t\t\theader.scrollIntoView();\n\t\t\t}\n\t\t} else {\n\t\t\tcontent.scrollTop = 0;\n\t\t}\n\t});\n}\n\n/**\n * Get a rendered page from a doc set\n */\nfunction getPage(docSet: DocSet, type: DocType, name?: string) {\n\tif (!name) {\n\t\tconst pageNames =\n\t\t\ttype === DocType.api ? docSet.apiPages! : docSet.pages;\n\t\tname = pageNames[0];\n\t}\n\treturn type === DocType.api\n\t\t? docSet.apiCache![name]\n\t\t: docSet.pageCache![name];\n}\n\n/**\n * Highlight the active page in the sidebar menu\n */\nfunction highlightActivePage() {\n\tconst menu = document.querySelector('.docs-menu .menu .menu-list')!;\n\tconst active = menu.querySelector('.is-active-page');\n\tif (active) {\n\t\tactive.classList.remove('is-active-page');\n\t}\n\n\tconst pageId = getCurrentPageId(false);\n\tconst currentPage = createHash(pageId);\n\n\tconst pageLink = menu.querySelector(`li > a[href=\"${currentPage}\"]`)!;\n\tif (pageLink) {\n\t\tpageLink.parentElement!.classList.add('is-active-page');\n\t}\n}\n\n/**\n * Highlight the active element in the sidebar menu\n */\nfunction highlightActiveSection() {\n\tconst menu = document.querySelector('.docs-menu .menu-list')!;\n\tif (!menu) {\n\t\treturn;\n\t}\n\n\tconst active = menu.querySelector('.is-active');\n\tif (active) {\n\t\tactive.classList.remove('is-active');\n\t}\n\n\tconst currentSection = location.hash;\n\tlet link = <HTMLElement> menu.querySelector(\n\t\t`li > a[href=\"${currentSection}\"]`\n\t)!;\n\tif (!link) {\n\t\ttry {\n\t\t\tconst docs = getCurrentPageId();\n\t\t\tconst currentPage = createHash({\n\t\t\t\tproject: docs.project,\n\t\t\t\tversion: docs.version,\n\t\t\t\ttype: docs.type,\n\t\t\t\tpage: docs.page\n\t\t\t});\n\t\t\tlink = <HTMLElement> menu.querySelector(\n\t\t\t\t`li > a[href=\"${currentPage}\"]`\n\t\t\t)!;\n\t\t} catch (error) {\n\t\t\t// ignore\n\t\t}\n\t}\n\n\tif (link) {\n\t\tlink.classList.add('is-active');\n\t\tscrollIntoViewIfNessary(link, <HTMLElement> document.querySelector(\n\t\t\t'.docs-menu'\n\t\t)!);\n\t}\n}\n\n/**\n * Install the current docset's docs menu in the menu container\n */\nfunction showMenu(type?: DocType) {\n\ttype = type || DocType.docs;\n\tconst docSet = getDocSet(getCurrentDocSetId());\n\tconst menu = queryExpected('.docs-menu .menu');\n\tplace(menu, (menu) => {\n\t\tconst menuList = menu.querySelector('.menu-list');\n\t\tif (menuList) {\n\t\t\tmenu.removeChild(menuList);\n\t\t}\n\t\tconst docMenu = type === DocType.api ? docSet.apiMenu! : docSet.menu!;\n\t\tmenu.appendChild(docMenu);\n\t});\n}\n\n/**\n * Process the current URL hash value.\n */\nfunction processHash() {\n\thighlightActiveSection();\n\n\ttry {\n\t\tconst docSetId = getCurrentDocSetId();\n\t\tloadDocSet(docSetId)\n\t\t\t.then(docSet => {\n\t\t\t\tconst { type } = parseHash();\n\t\t\t\tconst ready =\n\t\t\t\t\ttype === DocType.api ? docSet.apiReady! : docSet.ready!;\n\t\t\t\tready\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconst pageId = getCurrentPageId();\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tproject,\n\t\t\t\t\t\t\tversion,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tpage,\n\t\t\t\t\t\t\tsection\n\t\t\t\t\t\t} = pageId;\n\n\t\t\t\t\t\tif (viewer) {\n\t\t\t\t\t\t\tviewer.setAttribute('data-doc-type', type);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconsole.warn('missing .viewer');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tconst container = document.querySelector('.docs-content');\n\t\t\t\t\t\tif (container) {\n\t\t\t\t\t\t\tcontainer.setAttribute('data-doc-project', project);\n\t\t\t\t\t\t\tcontainer.setAttribute('data-doc-version', version);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tconsole.warn('missing .docs-content');\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tshowMenu(type);\n\t\t\t\t\t\tshowPage(type, page, section);\n\t\t\t\t\t\tupdateGitHubButtons(pageId);\n\t\t\t\t\t\tupdateNavBarLinks(pageId);\n\t\t\t\t\t\tupdateDocsetSelector();\n\t\t\t\t\t\thideMessage();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t// The current hash doesn't specify a valid page ID\n\t\t\t\t\t\tconst { type, page } = parseHash();\n\t\t\t\t\t\tif (page) {\n\t\t\t\t\t\t\t// The URL contains a page, and it is invalid\n\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The URL doesn't contain a page\n\t\t\t\t\t\tupdateHash(\n\t\t\t\t\t\t\tcreateHash(\n\t\t\t\t\t\t\t\tgetDefaultPageId(docSetId, type || DocType.docs)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tHashEvent.rename\n\t\t\t\t\t\t);\n\t\t\t\t\t\tprocessHash();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tlet { type } = parseHash();\n\t\t\t\t\t\ttype = type in DocType ? type : DocType.docs;\n\t\t\t\t\t\tconst newHash = createHash({ ...docSetId, type });\n\t\t\t\t\t\tshowError(error, newHash);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newHash = createHash({ ...docSetId, type: DocType.docs });\n\t\t\t\tshowError(error, newHash);\n\t\t\t});\n\t} catch (error) {\n\t\t// The current hash doesn't identify a valid doc set\n\t\tif (!location.hash.slice(1)) {\n\t\t\t// No hash was specified -- load a default\n\t\t\tupdateHash(\n\t\t\t\tcreateHash({ ...getDefaultDocSetId(), type: DocType.docs }),\n\t\t\t\tHashEvent.rename\n\t\t\t);\n\t\t\tprocessHash();\n\t\t} else {\n\t\t\tconst { project } = parseHash();\n\t\t\tif (getProjects().indexOf(project) !== -1) {\n\t\t\t\tconst version = getLatestVersion(project);\n\t\t\t\tupdateHash(\n\t\t\t\t\tcreateHash({ project, version, type: DocType.docs }),\n\t\t\t\t\tHashEvent.rename\n\t\t\t\t);\n\t\t\t\tprocessHash();\n\t\t\t} else {\n\t\t\t\t// An invalid hash was specified -- show an error\n\t\t\t\tshowError(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction showError(error: Error, newHash?: string) {\n\t\tconsole.error(error);\n\t\tshowMessage(\n\t\t\t'Oops...',\n\t\t\th('span', {}, [\n\t\t\t\t'The URL hash ',\n\t\t\t\th('code', {}, location.hash),\n\t\t\t\t` isn't valid. Click `,\n\t\t\t\th('a', { href: `${newHash || '#'}` }, 'here'),\n\t\t\t\t' to open the default doc set.'\n\t\t\t]),\n\t\t\t'error'\n\t\t);\n\t}\n}\n\n/**\n * Show a message in the error modal\n */\nfunction showMessage(heading: string, message: string | Element, type = '') {\n\tif (!messageModal) {\n\t\treturn console.warn('missing .message-modal');\n\t}\n\tconst messageHeadingNode = messageModal.querySelector('.message-heading');\n\tconst content = messageModal.querySelector('.message-content');\n\n\tif (!messageHeadingNode) {\n\t\treturn console.warn('missing .message-heading');\n\t}\n\tif (!content) {\n\t\treturn console.warn('missing .message-content');\n\t}\n\n\tmessageHeadingNode.textContent = heading;\n\tcontent.innerHTML = '';\n\tif (typeof message === 'string') {\n\t\tcontent.textContent = message;\n\t} else {\n\t\tcontent.appendChild(message);\n\t}\n\tmessageModal.classList.add('is-active');\n\tmessageModal.setAttribute('data-message-type', type);\n}\n\n/**\n * Show a message in the error modal\n */\nfunction hideMessage() {\n\tmessageModal.classList.remove('is-active');\n}\n\n/**\n * Update the hrefs for the navbar GitHub buttons\n */\nfunction updateGitHubButtons(docs: DocSetId) {\n\tconst links = <NodeListOf<HTMLAnchorElement>> document.querySelectorAll(\n\t\t'.github-button'\n\t);\n\tconst url = getDocVersionUrl(docs);\n\tfor (let i = 0; i < links.length; i++) {\n\t\tlinks[i].href = url;\n\t}\n}\n\n/**\n * Scroll an element into view if it's not currently visible within its\n * container.\n */\nfunction scrollIntoViewIfNessary(element: HTMLElement, container: HTMLElement) {\n\tconst viewportTop = container.offsetTop + container.scrollTop;\n\tconst viewportBottom = viewportTop + container.clientHeight;\n\tconst elementTop = element.offsetTop;\n\tconst elementBottom = elementTop + element.offsetHeight;\n\tif (elementTop < viewportTop) {\n\t\telement.scrollIntoView(true);\n\t} else if (elementBottom > viewportBottom) {\n\t\telement.scrollIntoView(false);\n\t}\n}\n\n/**\n * Update the location hash based on the currently visible doc contents.\n */\nfunction updateHashFromContent() {\n\tconst pageId = getCurrentPageId(false);\n\tconst pageHash = createHash(pageId);\n\n\tif (pageHash !== scrollState.pageHash) {\n\t\tconst content = <HTMLElement> document.querySelector('.docs-content')!;\n\t\tconst menu = document.querySelector('.docs-menu .menu-list');\n\t\tconst depth = <number> (<any> menu).menuDepth || 3;\n\t\tconst tags: string[] = [];\n\t\tfor (let i = 1; i < depth; i++) {\n\t\t\ttags.push(`h${i + 1}`);\n\t\t}\n\t\tscrollState.pageHash = pageHash;\n\t\tscrollState.headings = content.querySelectorAll(tags.join(','))!;\n\t}\n\n\tconst viewportTop = content.offsetTop + content.scrollTop;\n\tconst { headings } = scrollState;\n\n\tlet above: Element | undefined;\n\tlet below: Element | undefined;\n\tfor (let i = 1; i < headings.length; i++) {\n\t\tconst heading = <HTMLElement> headings[i];\n\t\tconst headingTop = getOffsetTop(heading);\n\t\tif (headingTop > viewportTop) {\n\t\t\tbelow = headings[i];\n\t\t\tabove = headings[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!above) {\n\t\tabove = headings[headings.length - 1];\n\t}\n\n\tupdateHash(\n\t\t{\n\t\t\tproject: pageId.project,\n\t\t\tversion: pageId.version,\n\t\t\ttype: <DocType> viewer.getAttribute('data-doc-type')!,\n\t\t\tpage: pageId.page,\n\t\t\tsection: above.id\n\t\t},\n\t\tHashEvent.scroll\n\t);\n\n\thighlightActiveSection();\n\n\tfunction getOffsetTop(element: HTMLElement) {\n\t\tlet top = element.offsetTop;\n\t\twhile (\n\t\t\t(element = <HTMLElement> element.offsetParent) &&\n\t\t\telement !== content\n\t\t) {\n\t\t\ttop += element.offsetTop;\n\t\t}\n\t\treturn top;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/doc_viewer.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// html-element (ignored)\n// module id = 31\n// module chunks = 0","import { ProjectReflection } from 'typedoc';\nimport { Comment } from 'typedoc/dist/lib/models/comments/comment';\nimport { SourceReference } from 'typedoc/dist/lib/models/sources/file';\nimport { DeclarationReflection } from 'typedoc/dist/lib/models/reflections/declaration';\nimport { SignatureReflection } from 'typedoc/dist/lib/models/reflections/signature';\nimport { ParameterReflection } from 'typedoc/dist/lib/models/reflections/parameter';\nimport { ContainerReflection } from 'typedoc/dist/lib/models/reflections/container';\nimport { TypeParameterReflection } from 'typedoc/dist/lib/models/reflections/type-parameter';\nimport { Reflection } from 'typedoc/dist/lib/models/reflections/abstract';\nimport { Type } from 'typedoc/dist/lib/models/types/abstract';\nimport { StringLiteralType } from 'typedoc/dist/lib/models/types/string-literal';\nimport { TypeParameterType } from 'typedoc/dist/lib/models/types/type-parameter';\nimport { UnionType } from 'typedoc/dist/lib/models/types/union';\nimport { ArrayType } from 'typedoc/dist/lib/models/types/array';\nimport { ReflectionType } from 'typedoc/dist/lib/models/types/reflection';\nimport { ReferenceType } from 'typedoc/dist/lib/models/types/reference';\nimport { IntrinsicType } from 'typedoc/dist/lib/models/types/intrinsic';\nimport { UnknownType } from 'typedoc/dist/lib/models/types/unknown';\nimport * as h from 'hyperscript';\nimport * as hljs from 'highlight.js';\n\nimport { DocSetId, DocPage, DocType, getDocSet } from '../docs';\nimport { createHash } from '../hash';\nimport {\n\taddHeadingIcons,\n\tcreateGitHubLink,\n\tcreateSlugifier,\n\trenderMarkdown,\n\tSlugifier\n} from './markdown';\n\nconst preferredSignatureWidth = 60;\n\nhljs.registerLanguage(\n\t'typescript',\n\trequire('highlight.js/lib/languages/typescript')\n);\nhljs.registerLanguage(\n\t'javascript',\n\trequire('highlight.js/lib/languages/javascript')\n);\n\ninterface GenericReflection extends Reflection {\n\ttypeParameter: TypeParameterReflection[];\n}\n\n/**\n * Render the API pages for a docset\n */\nexport function renderApiPages(docSetId: DocSetId, data: ProjectReflection) {\n\tconst docSet = getDocSet(docSetId)!;\n\tconst pages = (docSet.apiPages = <string[]> []);\n\tconst cache = (docSet.apiCache = <{\n\t\t[key: string]: DocPage;\n\t}> Object.create(null));\n\tconst modules = getExports(data)!;\n\tconst apiIndex = createApiIndex(data);\n\tconst slugIndex: SlugIndex = {};\n\tconst pageIndex: { [id: number]: string } = {};\n\tconst linksToResolve: { link: HTMLAnchorElement; id: number }[] = [];\n\tconst nameRefs: NameRefs = Object.create(null);\n\n\tfor (const module of modules) {\n\t\tif (getExports(module).length === 0 && !hasComment(module)) {\n\t\t\t// Only show modules that have exports\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst renderHeading = getHeadingRenderer(createSlugifier());\n\t\tconst name = module.name.replace(/^\"/, '').replace(/\"$/, '');\n\t\tpages.push(name);\n\t\tpageIndex[module.id] = name;\n\n\t\tconst element = h('div');\n\t\tconst page = (cache[name] = { name, title: name, element });\n\t\tconst context: RenderContext = {\n\t\t\tpage,\n\t\t\trenderHeading,\n\t\t\tapi: data,\n\t\t\tapiIndex,\n\t\t\tslugIndex,\n\t\t\tdocSetId,\n\t\t\tlinksToResolve,\n\t\t\tnameRefs\n\t\t};\n\n\t\trenderModule(module, 1, context);\n\t}\n\n\t// Fixup other links\n\tfor (const { link, id } of linksToResolve) {\n\t\tconst type = apiIndex[id];\n\t\tif (id === -1) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst module = findModule(id, apiIndex);\n\n\t\tif (module === type) {\n\t\t\tlink.href = createHash({\n\t\t\t\tpage: pageIndex[module.id],\n\t\t\t\ttype: DocType.api,\n\t\t\t\t...docSetId\n\t\t\t});\n\t\t} else {\n\t\t\tlink.href = createHash({\n\t\t\t\tpage: pageIndex[module.id],\n\t\t\t\tsection: slugIndex[type.id],\n\t\t\t\ttype: DocType.api,\n\t\t\t\t...docSetId\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * Get the module containing a given reflection\n */\nfunction getContainingModule(reflection: Reflection) {\n\twhile (reflection && reflection.kindString !== 'External module') {\n\t\treflection = reflection.parent;\n\t}\n\treturn <ContainerReflection> reflection;\n}\n\n/**\n * Return the reflection ID corresponding to a given name.\n */\nfunction getReflectionIdForName(\n\tname: string,\n\tcontext: RenderContext,\n\t_module: ContainerReflection\n) {\n\tconst { nameRefs } = context;\n\tif (!(name in nameRefs)) {\n\t\tconst reflection = findReflectionByName(name, context.api);\n\t\tnameRefs[name] = reflection ? reflection.id : -1;\n\t}\n\treturn nameRefs[name];\n}\n\n/**\n * Recursively find a reflection in the API by dot-separated name\n */\nfunction findReflectionByName(\n\tname: string,\n\treflection: Reflection\n): Reflection | undefined {\n\tlet head = name;\n\tlet dot = head.indexOf('.');\n\tif (dot !== -1) {\n\t\thead = head.slice(0, dot);\n\t}\n\n\tif (isContainerReflection(reflection)) {\n\t\tfor (const child of reflection.children) {\n\t\t\tconst childName = child.name.replace(/^\"|\"$/g, '');\n\t\t\tif (childName === head) {\n\t\t\t\tif (head !== name) {\n\t\t\t\t\tconst tail = name.slice(dot + 1);\n\t\t\t\t\treturn findReflectionByName(tail, child);\n\t\t\t\t} else {\n\t\t\t\t\treturn child;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn;\n}\n\n/**\n * Render a module page\n */\nfunction renderModule(\n\tmodule: ContainerReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, module, context);\n\tslugIndex[module.id] = heading.id;\n\n\tif (hasComment(module)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(module.comment, module, context)\n\t\t);\n\t}\n\n\tconst exports = getExports(module);\n\n\tconst global = exports.filter(ex => ex.name === '__global')[0];\n\tif (global) {\n\t\trenderHeading(level, 'Globals', context);\n\t\tfor (const child of global.children.slice().sort(nameSorter)) {\n\t\t\trenderProperty(child, level + 1, context);\n\t\t}\n\t}\n\n\tconst classes = exports\n\t\t.filter(ex => ex.kindString === 'Class')\n\t\t.sort(nameSorter);\n\tfor (const cls of classes) {\n\t\trenderClass(cls, level + 1, context);\n\t}\n\n\tconst interfaces = exports\n\t\t.filter(ex => ex.kindString === 'Interface')\n\t\t.sort(nameSorter);\n\tfor (const iface of interfaces) {\n\t\trenderInterface(iface, level + 1, context);\n\t}\n\n\tconst functions = exports\n\t\t.filter(ex => ex.kindString === 'Function')\n\t\t.sort(nameSorter);\n\tfor (const func of functions) {\n\t\trenderFunction(func, level + 1, context);\n\t}\n\n\tconst constants = exports\n\t\t.filter(ex => ex.kindString === 'Object literal')\n\t\t.sort(nameSorter);\n\tfor (const constant of constants) {\n\t\trenderValue(constant, level + 1, context);\n\t}\n}\n\n/**\n * Render a class\n */\nfunction renderClass(\n\tcls: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, cls, context);\n\tslugIndex[cls.id] = heading.id;\n\n\tlet declaration = `class ${cls.name}`;\n\n\tif (isGenericReflection(cls)) {\n\t\tconst typeParams = cls.typeParameter\n\t\t\t.map(param => typeParameterToString(param))\n\t\t\t.join(', ');\n\t\tdeclaration += `<${typeParams}>`;\n\t}\n\n\tif (cls.extendedTypes) {\n\t\tconst types = cls.extendedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` extends ${types}`;\n\t}\n\n\tif (cls.implementedTypes) {\n\t\tconst types = cls.implementedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` implements ${types}`;\n\t}\n\n\tconst formatted = formatDeclaration(declaration);\n\tconst html = hljs.highlight('typescript', formatted, true).value;\n\tcontext.page.element.appendChild(\n\t\th('pre', {}, h('code.hljs.lang-typescript', { innerHTML: html }))\n\t);\n\n\tif (hasComment(cls)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(cls.comment, getContainingModule(cls), context)\n\t\t);\n\t}\n\n\tconst exports = getExports(cls);\n\n\tconst properties = exports\n\t\t.filter(\n\t\t\tex => ex.kindString === 'Property' || ex.kindString === 'Accessor'\n\t\t)\n\t\t.sort(nameSorter);\n\tfor (const property of properties) {\n\t\trenderProperty(property, level + 1, context);\n\t}\n\n\tconst constructors = exports.filter(ex => ex.kindString === 'Constructor');\n\tfor (const ctor of constructors) {\n\t\trenderMethod(ctor, level + 1, context);\n\t}\n\n\tconst methods = exports\n\t\t.filter(ex => ex.kindString === 'Method')\n\t\t.sort(nameSorter);\n\tfor (const method of methods) {\n\t\trenderMethod(method, level + 1, context);\n\t}\n}\n\n/**\n * Indicate whetehr a reflection is a GenericReflection\n */\nfunction isGenericReflection(type: Reflection): type is GenericReflection {\n\treturn (<any> type).typeParameter != null;\n}\n\n/**\n * Indicate whetehr a reflection is a ContainerReflection\n */\nfunction isContainerReflection(type: Reflection): type is ContainerReflection {\n\treturn (<any> type).children != null;\n}\n\n/**\n * Render a type parameter\n */\nfunction typeParameterToString(param: TypeParameterReflection) {\n\tif (param.type) {\n\t\treturn `${param.name} extends ${typeToString(param.type)}`;\n\t} else {\n\t\treturn param.name;\n\t}\n}\n\n/**\n * Render a class method\n */\nfunction renderMethod(\n\tmethod: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\trenderFunction(method, level, context);\n}\n\n/**\n * Render a class or interface inheritance chain\n */\nfunction renderParent(\n\ttypes: Type[],\n\trelationship: Relationship,\n\tcontext: RenderContext\n) {\n\tfor (const type of types) {\n\t\tconst p = h('p.api-metadata', {}, [\n\t\t\th('span.api-label', {}, `${relationship}: `)\n\t\t]);\n\t\tp.appendChild(renderType(type, context));\n\t\tcontext.page.element.appendChild(p);\n\t}\n}\n\n/**\n * Render a TypeScript interface\n */\nfunction renderInterface(\n\tiface: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, iface, context);\n\tslugIndex[iface.id] = heading.id;\n\n\tlet declaration = `interface ${iface.name}`;\n\n\tif (isGenericReflection(iface)) {\n\t\tconst typeParams = iface.typeParameter\n\t\t\t.map(param => typeParameterToString(param))\n\t\t\t.join(', ');\n\t\tdeclaration += `<${typeParams}>`;\n\t}\n\n\tif (iface.extendedTypes) {\n\t\tconst types = iface.extendedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` extends ${types}`;\n\t}\n\n\tif (iface.implementedTypes) {\n\t\tconst types = iface.implementedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` implements ${types}`;\n\t}\n\n\tconst formatted = formatDeclaration(declaration);\n\tconst html = hljs.highlight('typescript', formatted, true).value;\n\tcontext.page.element.appendChild(\n\t\th('pre', {}, h('code.hljs.lang-typescript', { innerHTML: html }))\n\t);\n\n\tif (hasComment(iface)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(iface.comment, getContainingModule(iface), context)\n\t\t);\n\t}\n\n\tif (iface.indexSignature) {\n\t\trenderHeading(level + 1, 'Index signature', context);\n\t\t// TypeDoc's typing is wrong -- this is always an array\n\t\tconst sig: SignatureReflection[] = <any> iface.indexSignature;\n\t\trenderSignatures(sig, iface, context);\n\t}\n\n\tif (iface.signatures) {\n\t\trenderHeading(level + 1, 'Call signatures', context);\n\t\trenderSignatures(iface.signatures, iface, context);\n\t}\n\n\tconst exports = getExports(iface);\n\n\tconst properties = exports\n\t\t.filter(ex => ex.kindString === 'Property')\n\t\t.sort(nameSorter);\n\tfor (const property of properties) {\n\t\trenderProperty(property, level + 1, context);\n\t}\n\n\tconst constructors = exports.filter(ex => ex.kindString === 'Constructor');\n\tfor (const ctor of constructors) {\n\t\trenderMethod(ctor, level + 1, context);\n\t}\n\n\tconst methods = exports\n\t\t.filter(ex => ex.kindString === 'Method')\n\t\t.sort(nameSorter);\n\tfor (const method of methods) {\n\t\trenderMethod(method, level + 1, context);\n\t}\n}\n\n/**\n * Render a class or interface property\n */\nfunction renderProperty(\n\tproperty: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { page, renderHeading, slugIndex } = context;\n\tconst heading = renderHeading(level, property, context);\n\tslugIndex[property.id] = heading.id;\n\n\tif (property.inheritedFrom) {\n\t\trenderParent([property.inheritedFrom], Relationship.Inherited, context);\n\t}\n\n\tlet typeString: string | undefined;\n\tlet access = { canRead: false, canWrite: false };\n\tlet comment: Comment | undefined;\n\n\tif (property.kindString === 'Accessor') {\n\t\tif (property.getSignature) {\n\t\t\taccess.canRead = true;\n\t\t\tconst sig = (<any> property.getSignature)[0];\n\t\t\ttypeString = typeToString(sig.type);\n\t\t\tif (hasComment(sig)) {\n\t\t\t\tcomment = sig.comment;\n\t\t\t}\n\t\t}\n\t\tif (property.setSignature) {\n\t\t\taccess.canWrite = true;\n\t\t\tconst sig = (<any> property.setSignature)[0];\n\t\t\tif (!typeString) {\n\t\t\t\ttypeString = typeToString(sig.parameters[0].type);\n\t\t\t}\n\t\t\tif (!comment && hasComment(sig)) {\n\t\t\t\tcomment = sig.comment;\n\t\t\t}\n\t\t}\n\t} else {\n\t\taccess.canRead = true;\n\t\taccess.canWrite = true;\n\t\tcomment = property.comment;\n\t\ttypeString = typeToString(property.type);\n\t}\n\n\tconst text = `${property.name}: ${formatSignature(typeString!)}`;\n\tconst codeP = renderCode(text);\n\tif (!access.canRead) {\n\t\tconst code = codeP.childNodes[0];\n\t\tconst tag = h('span.tag.is-primary', {}, 'write only');\n\t\tcode.insertBefore(tag, code.firstChild);\n\t} else if (!access.canWrite) {\n\t\tconst code = codeP.childNodes[0];\n\t\tconst tag = h('span.tag.is-primary', {}, 'read only');\n\t\tcode.insertBefore(tag, code.firstChild);\n\t}\n\n\tpage.element.appendChild(codeP);\n\n\tif (comment) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(comment, getContainingModule(property), context)\n\t\t);\n\t}\n}\n\n/**\n * Render an exported function\n */\nfunction renderFunction(\n\tfunc: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, func, context);\n\tslugIndex[func.id] = heading.id;\n\n\trenderSignatures(func.signatures!, func, context);\n\n\tfor (const signature of func.signatures!) {\n\t\tif (hasComment(signature)) {\n\t\t\tpage.element.appendChild(\n\t\t\t\trenderComment(\n\t\t\t\t\tsignature.comment,\n\t\t\t\t\tgetContainingModule(func),\n\t\t\t\t\tcontext\n\t\t\t\t)\n\t\t\t);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/**\n * Render an array of function/method signatures\n */\nfunction renderSignatures(\n\tsignatures: SignatureReflection[],\n\tparent: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page } = context;\n\tfor (const sig of signatures) {\n\t\tconst text = signatureToString(sig);\n\t\tconst formatted = formatSignature(text);\n\t\tconst html = hljs.highlight('typescript', formatted, true).value;\n\t\tpage.element.appendChild(\n\t\t\th('pre', {}, [h('code.hljs.lang-typescript', { innerHTML: html })])\n\t\t);\n\t}\n\n\tconst parameters = signatures.reduce(\n\t\t(params, sig) => {\n\t\t\treturn params.concat(sig.parameters || []);\n\t\t},\n\t\t<ParameterReflection[]> []\n\t);\n\tif (parameters.length > 0) {\n\t\trenderParameterTable(parameters, parent, context);\n\t}\n}\n\n/**\n * Render a table of signature parameters\n */\nfunction renderParameterTable(\n\tparameters: ParameterReflection[],\n\tparent: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page } = context;\n\tconst params = parameters.filter(param => {\n\t\treturn hasComment(param) || param.defaultValue;\n\t});\n\n\tif (params.length > 0) {\n\t\tconst rows = params.map(param => {\n\t\t\tlet comment: Element | undefined;\n\t\t\tif (hasComment(param)) {\n\t\t\t\tcomment = renderComment(\n\t\t\t\t\tparam.comment,\n\t\t\t\t\tgetContainingModule(parent),\n\t\t\t\t\tcontext\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn [param.name, comment || '', param.defaultValue || ''];\n\t\t});\n\n\t\tconst header = ['Parameter', 'Description', 'Default'];\n\t\tif (!rows.some(row => Boolean(row[2]))) {\n\t\t\theader.pop();\n\t\t\trows.forEach(row => row.pop());\n\t\t}\n\n\t\tpage.element.appendChild(h('p', {}, [createTable(header, rows)]));\n\t}\n}\n\n/**\n * Render a literal value\n */\nfunction renderValue(\n\tvalue: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { page, renderHeading, slugIndex } = context;\n\tconst heading = renderHeading(level, value, context);\n\tslugIndex[value.id] = heading.id;\n\n\tif (hasComment(value)) {\n\t\tpage.element.appendChild(renderComment(value.comment, value, context));\n\t}\n\n\tif (value.kindString === 'Object literal') {\n\t\tconst parts = value.children.map(child => {\n\t\t\tif (child.name) {\n\t\t\t\treturn `${child.name}: ${child.defaultValue}`;\n\t\t\t}\n\t\t\treturn child.defaultValue;\n\t\t});\n\t\tlet type = typeToString(value.type!);\n\t\tconst text = `${value.name}: ${type} = {\\n\\t${parts.join(',\\n\\t')}\\n}`;\n\t\tpage.element.appendChild(renderCode(text));\n\t}\n}\n\n/**\n * Render a declaration comment\n */\nfunction renderComment(\n\tcomment: Comment,\n\tmodule: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page, linksToResolve } = context;\n\tconst element = h('p', { innerHTML: commentToHtml(comment, page.name) });\n\n\tconst links = <NodeListOf<HTMLAnchorElement>> element.querySelectorAll('a');\n\tfor (let i = 0; i < links.length; i++) {\n\t\tif (links[i].href.indexOf('api:') === 0) {\n\t\t\tconst link = links[i];\n\t\t\tconst name = link.href.slice('api:'.length);\n\t\t\tconst id = getReflectionIdForName(name, context, module);\n\t\t\tlinksToResolve.push({ link, id });\n\t\t}\n\t}\n\n\treturn element;\n}\n\n/**\n * Generate HTML for an API comment\n */\nfunction commentToHtml(comment: Comment, pageName: string) {\n\tlet parts: string[] = [];\n\n\tif (comment.shortText) {\n\t\tparts.push(renderText(comment.shortText, pageName));\n\t}\n\n\tif (comment.text) {\n\t\tparts.push(renderText(comment.text, pageName));\n\t}\n\n\tif (comment.returns) {\n\t\tconst returns =\n\t\t\tcomment.returns[0].toLowerCase() + comment.returns.slice(1);\n\t\tparts.push(renderText(`Returns ${returns}`, pageName));\n\t}\n\n\treturn parts.join('');\n}\n\n/**\n * Render comment text\n */\nfunction renderText(text: string, pageName: string) {\n\t// Fix jsdoc-style links\n\ttext = text.replace(/\\[\\[(.*?)(?:\\|(.*?))?]]/g, (_match, p1, p2) => {\n\t\tlet name = p2 || p1;\n\t\t// If the target name is dotted or slashed (e.g., Executor.Config) and\n\t\t// the user didn't provide a name, use the last element in the list as\n\t\t// the link text\n\t\tif (!p2 && (p1.indexOf('.') !== -1 || p1.indexOf('/') !== -1)) {\n\t\t\tconst lastDot = p1.lastIndexOf('.');\n\t\t\tconst lastSlash = p1.lastIndexOf('/');\n\t\t\tname = p1.slice(Math.max(lastDot, lastSlash) + 1);\n\t\t}\n\t\tif (/^https?:\\/\\//.test(p1)) {\n\t\t\t// p1 is an absolute address\n\t\t\treturn `[${name}](${p1})`;\n\t\t} else {\n\t\t\treturn `[${name}](api:${p1})`;\n\t\t}\n\t});\n\treturn renderMarkdown(text, {\n\t\tinfo: { page: pageName, type: DocType.api }\n\t});\n}\n\n/**\n * Render a syntax-highlighted block of code\n */\nfunction renderCode(text: string, language = 'typescript') {\n\tconst html = hljs\n\t\t.highlight(language, text, true)\n\t\t.value.replace(/\\n/g, '<br>')\n\t\t.replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');\n\treturn h('pre', {}, [h(`code.hljs.lang-${language}`, { innerHTML: html })]);\n}\n\n/**\n * Render a link to an element's source code\n */\nfunction createSourceLink(source: SourceReference, context: RenderContext) {\n\t// Don't try to create links for files with absolute paths\n\tif (source.fileName[0] === '/') {\n\t\treturn;\n\t}\n\n\tconst link = <HTMLElement> createGitHubLink(\n\t\t{\n\t\t\tproject: context.docSetId.project,\n\t\t\tversion: context.docSetId.version!\n\t\t},\n\t\t`src/${source.fileName}#L${source.line}`\n\t);\n\tlink.title = `${source.fileName}#L${source.line}`;\n\treturn <HTMLAnchorElement> link;\n}\n\n/**\n * Generate a string representation of a function/method signature\n */\nfunction signatureToString(\n\tsignature: SignatureReflection,\n\tisParameter = false\n): string {\n\tif (signature.name === '__index') {\n\t\tconst param = signature.parameters[0];\n\t\treturn `[${param.name}: ${typeToString(param.type)}]: ${typeToString(\n\t\t\tsignature.type\n\t\t)}`;\n\t} else {\n\t\tlet name = signature.name;\n\t\tif (name === '__call') {\n\t\t\tname = '';\n\t\t}\n\n\t\tlet text = `${name}`;\n\n\t\tif (isGenericReflection(signature)) {\n\t\t\tconst typeParams = signature.typeParameter\n\t\t\t\t.map(param => typeParameterToString(param))\n\t\t\t\t.join(', ');\n\t\t\ttext += `<${typeParams}>`;\n\t\t}\n\n\t\ttext += '(';\n\t\tif (signature.parameters) {\n\t\t\tconst params = signature.parameters.map(param => {\n\t\t\t\tconst optional = param.flags.isOptional ? '?' : '';\n\t\t\t\treturn `${param.name}${optional}: ${typeToString(param.type)}`;\n\t\t\t});\n\t\t\ttext += params.join(', ');\n\t\t}\n\n\t\ttext += `)`;\n\n\t\tif (signature.kindString !== 'Constructor signature') {\n\t\t\tconst sep = isParameter ? ' => ' : ': ';\n\t\t\ttext += `${sep}${typeToString(signature.type)}`;\n\t\t}\n\n\t\treturn text;\n\t}\n}\n\n/**\n * Generate a string representation of a type\n */\nfunction typeToString(type: Type): string {\n\tif (isStringLiteralType(type)) {\n\t\treturn `'${type.value}'`;\n\t} else if (isUnionType(type)) {\n\t\tconst strings = type.types!.map(typeToString);\n\t\treturn strings.join(' | ');\n\t} else if (isArrayType(type)) {\n\t\treturn `${typeToString(type.elementType!)}[]`;\n\t} else if (isReflectionType(type)) {\n\t\tconst d = type.declaration!;\n\t\tif (d.kindString === 'Type literal') {\n\t\t\tif (d.children) {\n\t\t\t\tconst parts = d.children.map((child: any) => {\n\t\t\t\t\treturn `${child.name}: ${typeToString(\n\t\t\t\t\t\tchild.type || child.kindString\n\t\t\t\t\t)}`;\n\t\t\t\t});\n\t\t\t\treturn `{ ${parts.join(', ')} }`;\n\t\t\t} else if (d.signatures) {\n\t\t\t\treturn signatureToString(d.signatures[0], true);\n\t\t\t} else if (d.name === '__type') {\n\t\t\t\treturn '{ ... }';\n\t\t\t}\n\t\t}\n\t} else if (isReferenceType(type)) {\n\t\tlet str = type.name!;\n\t\tif (type.typeArguments) {\n\t\t\tconst args = type.typeArguments.map((arg: any) => {\n\t\t\t\treturn typeToString(arg);\n\t\t\t});\n\t\t\tstr += `<${args.join(', ')}>`;\n\t\t}\n\t\treturn str;\n\t} else if (isIntrinsicType(type)) {\n\t\treturn type.name;\n\t} else if (isTypeParameterType(type)) {\n\t\tif (type.constraint) {\n\t\t\treturn `${type.name}<${typeToString(type.constraint)}>`;\n\t\t} else {\n\t\t\treturn type.name;\n\t\t}\n\t} else if (isUnknownType(type)) {\n\t\treturn type.name;\n\t}\n\n\treturn type.type;\n}\n\n/**\n * Indicate whether a value is a string literal\n */\nfunction isStringLiteralType(type: Type): type is StringLiteralType {\n\treturn type.type === 'stringLiteral';\n}\n\n/**\n * Indicate whether a value is a union\n */\nfunction isUnionType(type: Type): type is UnionType {\n\treturn type.type === 'union';\n}\n\n/**\n * Indicate whether a value is an array\n */\nfunction isArrayType(type: Type): type is ArrayType {\n\treturn type.type === 'array';\n}\n\n/**\n * Indicate whether a value is a reflection\n */\nfunction isReflectionType(type: Type): type is ReflectionType {\n\treturn type.type === 'reflection';\n}\n\n/**\n * Indicate whether a value is a reference type\n */\nfunction isReferenceType(type: Type): type is ReferenceType {\n\treturn type.type === 'reference';\n}\n\n/**\n * Indicate whether a value is an intrinsic type\n */\nfunction isIntrinsicType(type: Type): type is IntrinsicType {\n\treturn type.type === 'intrinsic';\n}\n\n/**\n * Indicate whether a value is a type parameter\n */\nfunction isTypeParameterType(type: Type): type is TypeParameterType {\n\treturn type.type === 'typeParameter';\n}\n\nfunction isUnknownType(type: Type): type is UnknownType {\n\treturn type.type === 'unknown';\n}\n\n// Render a type to a DOM node\nfunction renderType(type: any, context: RenderContext): HTMLElement {\n\tif (type.type === 'stringLiteral') {\n\t\treturn h('span.type-literal', {}, type.value);\n\t} else if (type.type === 'union') {\n\t\treturn h('span.type-union', {}, type.types!.map(renderType));\n\t} else if (type.type === 'array') {\n\t\tconst node = renderType(type.elementType!, context);\n\t\tnode.classList.add('type-array');\n\t\treturn node;\n\t} else if (type.type === 'reflection') {\n\t\tconst d = type.declaration!;\n\t\tif (d.kindString === 'Type literal') {\n\t\t\tif (d.children) {\n\t\t\t\tconst parts = d.children.map((child: any) => {\n\t\t\t\t\tconst typeNode = renderType(child.type, context);\n\t\t\t\t\treturn h('span', {}, [\n\t\t\t\t\t\th('span.type-label', {}, child.name),\n\t\t\t\t\t\ttypeNode\n\t\t\t\t\t]);\n\t\t\t\t});\n\n\t\t\t\treturn h('span.type-list', {}, parts);\n\t\t\t} else if (d.signatures) {\n\t\t\t\treturn h('span.type-signature', {\n\t\t\t\t\tinnerHTML: signatureToString(d.signatures[0], true)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tconst returnType = h('span');\n\tif (type.type === 'reference' && type.id != null) {\n\t\tconst link = h('a', {}, type.name);\n\t\treturnType.appendChild(link);\n\n\t\t// Push this link onto the list to be resolved later, once all the\n\t\t// slugs have been generated\n\t\tcontext.linksToResolve.push({\n\t\t\tlink,\n\t\t\tid: type.id\n\t\t});\n\t} else {\n\t\treturnType.appendChild(document.createTextNode(type.name));\n\t}\n\n\tif (type.typeArguments) {\n\t\tconst args = type.typeArguments.map((arg: any) => {\n\t\t\treturn renderType(arg, context);\n\t\t});\n\t\treturnType.appendChild(h('span.type-list.type-arg', {}, args));\n\t}\n\n\treturn returnType;\n}\n\n/**\n * Find the module that contains a given declaration ID\n */\nfunction findModule(id: number, index: ApiIndex) {\n\tlet declaration = <Reflection> index[id];\n\twhile (declaration && declaration.kindString !== 'External module') {\n\t\tdeclaration = declaration.parent;\n\t}\n\treturn declaration;\n}\n\n/**\n * Get all the exported, public members from an API item. Members\n * prefixed by '_' and those inherited from external sources are currently\n * excluded.\n */\nfunction getExports(reflection: ContainerReflection) {\n\tif (!reflection.children) {\n\t\treturn [];\n\t}\n\tconst exports: DeclarationReflection[] = [];\n\tfor (let child of reflection.children) {\n\t\tif (child.name === '_global') {\n\t\t\texports.push(child);\n\t\t}\n\t\tif (child.flags.isExported) {\n\t\t\tconst source = child.sources[0].fileName;\n\t\t\t// Don't include private (by convention) members\n\t\t\tif (!/^_/.test(child.name) && !/node_modules\\//.test(source)) {\n\t\t\t\texports.push(child);\n\t\t\t}\n\t\t}\n\t}\n\treturn exports;\n}\n\n// Create a heading element at a given level, including an anchor ID.\nfunction getHeadingRenderer(slugify: Slugifier) {\n\treturn (\n\t\tlevel: number,\n\t\tcontent: Reflection | string,\n\t\tcontext: RenderContext\n\t) => {\n\t\tconst classes: string[] = [];\n\n\t\tlet type: string | undefined;\n\t\tif (typeof content !== 'string') {\n\t\t\ttype = content.kindString;\n\t\t} else if (content === 'Call signatures') {\n\t\t\ttype = 'Function';\n\t\t}\n\n\t\tif (type) {\n\t\t\tclasses.push('is-type');\n\t\t}\n\n\t\tif (type === 'Method' || type === 'Function') {\n\t\t\tclasses.push('is-type-callable');\n\t\t} else if (type === 'Property' || type === 'Accessor') {\n\t\t\tclasses.push('is-type-property');\n\t\t} else if (type === 'Constructor') {\n\t\t\tclasses.push('is-type-constructor');\n\t\t} else if (type === 'Class') {\n\t\t\tclasses.push('is-type-class');\n\t\t} else if (type === 'Interface') {\n\t\t\tclasses.push('is-type-interface');\n\t\t} else if (type === 'Object literal') {\n\t\t\tclasses.push('is-type-value');\n\t\t}\n\n\t\tconst text =\n\t\t\ttypeof content === 'string'\n\t\t\t\t? content\n\t\t\t\t: // Module names are surrounded by '\"'\n\t\t\t\t\tcontent.name.replace(/^\"|\"$/g, '');\n\t\tconst className = classes.join(' ');\n\t\tconst heading = <HTMLElement> h(\n\t\t\t`h${level}`,\n\t\t\t{ className, id: slugify(text) },\n\t\t\ttext\n\t\t);\n\n\t\tlet sourceLink: HTMLAnchorElement | undefined;\n\t\tif (typeof content !== 'string' && content.sources) {\n\t\t\tsourceLink = createSourceLink(content.sources[0], context);\n\t\t}\n\n\t\tif (sourceLink) {\n\t\t\tconst icons = addHeadingIcons(heading);\n\t\t\ticons.appendChild(sourceLink);\n\t\t}\n\n\t\tcontext.page.element.appendChild(heading);\n\n\t\treturn heading;\n\t};\n}\n\n// Create a DOM table\nfunction createTable(headings: string[], rows: (string | Element)[][]) {\n\treturn h('table.table.is-bordered', {}, [\n\t\th('thead', {}, [\n\t\t\th('tr', {}, [headings.map(heading => h('th', {}, heading))])\n\t\t]),\n\t\th(\n\t\t\t'tbody',\n\t\t\t{},\n\t\t\trows.map(row =>\n\t\t\t\th(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{},\n\t\t\t\t\trow.map(content => {\n\t\t\t\t\t\tif (typeof content === 'string') {\n\t\t\t\t\t\t\treturn h('td', { innerHTML: content });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn h('td', {}, content);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t]);\n}\n\n/**\n * Indicate whether a reflection has a comment element wiht content\n */\nfunction hasComment(reflection: Reflection) {\n\tconst comment = reflection.comment;\n\treturn comment && (comment.text || comment.shortText);\n}\n\n/**\n * Create an index of TypeDoc declaration IDs to data structures. This function\n * also creates parent relationships.\n */\nfunction createApiIndex(data: ProjectReflection) {\n\tconst index: ApiIndex = {};\n\tfor (const child of data.children) {\n\t\tchild.parent = data;\n\t\twalkTree(child);\n\t}\n\treturn index;\n\n\tfunction walkTree(data: DeclarationReflection) {\n\t\tindex[data.id] = data;\n\t\tif (data.children) {\n\t\t\tfor (const child of data.children) {\n\t\t\t\tchild.parent = data;\n\t\t\t\twalkTree(child);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Sorter function for sorting API reflections\n */\nfunction nameSorter(a: Reflection, b: Reflection) {\n\tif (a.name < b.name) {\n\t\treturn -1;\n\t}\n\tif (a.name > b.name) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\n/**\n * Format a TypeScript class or interface declaration.\n *\n * This is an extremely simple format function whose goal is to keep\n * declaration lines from being too long.\n */\nfunction formatDeclaration(text: string) {\n\tif (text.length <= preferredSignatureWidth) {\n\t\treturn text;\n\t}\n\n\treturn formatSignature(text);\n}\n\n/**\n * Format a TypeScript method signature.\n *\n * This is an extremely simple format function whose goal is to keep\n * declaration lines from being too long.\n */\nfunction formatSignature(text: string) {\n\tif (text.length <= preferredSignatureWidth) {\n\t\treturn text;\n\t}\n\n\tlet output = [text];\n\tlet input: string[] = [];\n\tlet changed = true;\n\n\twhile (\n\t\toutput.some(line => line.length > preferredSignatureWidth) &&\n\t\tchanged\n\t) {\n\t\tinput = output;\n\t\toutput = [];\n\t\tchanged = false;\n\n\t\twhile (input.length > 0) {\n\t\t\tconst text = input.shift()!;\n\t\t\tif (text.length <= preferredSignatureWidth) {\n\t\t\t\toutput.push(text);\n\t\t\t} else {\n\t\t\t\tconst range = findSplitCandidate(text);\n\t\t\t\tif (range) {\n\t\t\t\t\tconst indent = getIndent(text);\n\t\t\t\t\toutput.push(text.slice(0, range[0]));\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\t...splitList(text, range[0], range[1]).map(line => {\n\t\t\t\t\t\t\treturn `${indent}    ${line}`;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\toutput.push(`${indent}${text.slice(range[1])}`);\n\t\t\t\t\tchanged = true;\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(text);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join('\\n');\n}\n\n/**\n * Find the best group expression to split in a given line of code\n */\nfunction findSplitCandidate(text: string) {\n\tlet width = 0;\n\tlet best: number[] | undefined;\n\tlet hasGroups = true;\n\n\tfor (let i = 0; i < text.length; i++) {\n\t\tconst char = text[i];\n\t\tlet end = i;\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tend = findGroupEnd(text, i + 1);\n\t\t}\n\t\tif (end > i) {\n\t\t\thasGroups = true;\n\t\t\tif (canSplit(text, i + 1, end)) {\n\t\t\t\tif (!best || end - i > width) {\n\t\t\t\t\tif (text[i + 1] === ' ') {\n\t\t\t\t\t\t// There are spaces around the expression, like { foo }\n\t\t\t\t\t\tbest = [i + 2, end - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbest = [i + 1, end];\n\t\t\t\t\t}\n\t\t\t\t\twidth = end - i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!best && hasGroups) {\n\t\t// There wasn't a list to split, so split the longest group\n\t\tfor (let i = 0; i < text.length; i++) {\n\t\t\tconst char = text[i];\n\t\t\tlet end = i;\n\t\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\t\tend = findGroupEnd(text, i + 1);\n\t\t\t}\n\t\t\tif (end > i) {\n\t\t\t\tif (!best || end - i > width) {\n\t\t\t\t\tif (text[i + 1] === ' ') {\n\t\t\t\t\t\t// There are spaces around the expression, like { foo }\n\t\t\t\t\t\tbest = [i + 2, end - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbest = [i + 1, end];\n\t\t\t\t\t}\n\t\t\t\t\twidth = end - i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn best;\n}\n\n/**\n * Find the end of a group expression\n */\nfunction findGroupEnd(text: string, start: number) {\n\tlet depth = 1;\n\tfor (let i = start; i < text.length; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t}\n\t\tif (depth === 0) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * Return true if the given segment be split as an expression list\n */\nfunction canSplit(text: string, start: number, end: number) {\n\tlet depth = 0;\n\tfor (let i = start; i < end; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t} else if (char === ',' && depth === 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Split a list of TS expressions\n */\nfunction splitList(text: string, start: number, end: number) {\n\tlet depth = 0;\n\tlet partStart = start;\n\tconst parts: string[] = [];\n\tfor (let i = start; i < end; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t} else if (char === ',' && depth === 0) {\n\t\t\tparts.push(text.slice(partStart, i + 1));\n\t\t\tpartStart = i + 2;\n\t\t}\n\t}\n\tparts.push(text.slice(partStart, end));\n\treturn parts;\n}\n\n/**\n * Get the initial blank space at the start of a string\n */\nfunction getIndent(text: string) {\n\tconst textStart = text.search(/\\S/);\n\tif (textStart !== -1) {\n\t\treturn text.slice(0, textStart);\n\t}\n\treturn '';\n}\n\ntype ApiIndex = { [key: number]: DeclarationReflection };\ntype SlugIndex = { [key: number]: string };\n\ninterface HeadingRenderer {\n\t(\n\t\tlevel: number,\n\t\tcontent: Reflection | string,\n\t\tcontext: RenderContext\n\t): HTMLElement;\n}\n\ninterface NameRefs {\n\t[key: string]: number;\n}\n\ninterface RenderContext {\n\tpage: DocPage;\n\trenderHeading: HeadingRenderer;\n\tapiIndex: ApiIndex;\n\tslugIndex: SlugIndex;\n\tapi: ProjectReflection;\n\tdocSetId: DocSetId;\n\tlinksToResolve: { link: HTMLAnchorElement; id: number }[];\n\tnameRefs: NameRefs;\n}\n\nenum Relationship {\n\tExtends = 'Extends',\n\tInherited = 'Inherited from'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer/api.ts","import { DocSetId, DocType, PageId, isValidPageId } from './docs';\n\n/**\n * Create a link hash for a given docset\n *\n * The hash has the following format:\n *\n *     <project>/<version>/<type>/<page>/<section>\n */\nexport function createHash(id: (DocSetId & { type: DocType }) | PageId) {\n\tconst parts = [id.project, id.version, id.type];\n\tif (isValidPageId(id)) {\n\t\tparts.push(id.page);\n\t\tif (id.section) {\n\t\t\tparts.push(id.section);\n\t\t}\n\t}\n\treturn '#' + parts.map(encodeURIComponent).join('/');\n}\n\n/**\n * Parse the hash into a DocId\n */\nexport function parseHash() {\n\tconst hash = location.hash.slice(1);\n\tlet [project, version, type, page, section] = hash\n\t\t.split('/')\n\t\t.map(part => decodeURIComponent(part));\n\treturn <PageId> { project, version, type, page, section };\n}\n\n/**\n * Push a new URL onto the history stack.\n *\n * By default this function replaces the current URL. Set `push` to true to\n * push the new URL onto the stack instead.\n */\nexport function updateHash(\n\tnewHash: string | PageId | (DocSetId & { type: DocType }),\n\tevent = HashEvent.nav\n) {\n\tlet hash = typeof newHash === 'string' ? newHash : createHash(newHash);\n\tif (location.hash === hash) {\n\t\treturn;\n\t}\n\n\tconst state = { event };\n\n\tif (event === HashEvent.rename) {\n\t\thistory.replaceState(state, '', hash);\n\t} else if (\n\t\tevent === HashEvent.nav ||\n\t\t(!history.state || history.state.event !== event)\n\t) {\n\t\thistory.pushState(state, '', hash);\n\t} else {\n\t\thistory.replaceState(state, '', hash);\n\t}\n}\n\nexport enum HashEvent {\n\t// nav actions like norml navigation -- a new entry is pushed onto the\n\t// stack\n\tnav = 'nav',\n\n\t// rename replaces the top entry on the stack\n\trename = 'rename',\n\n\t// scroll initially pushes, then replaces as long as scroll updates are\n\t// received\n\tscroll = 'scroll'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/hash.ts","import * as MarkdownIt from 'markdown-it';\nimport * as hljs from 'highlight.js';\nimport * as h from 'hyperscript';\n\nimport {\n\tPageId,\n\tDocSetId,\n\tDocType,\n\tgetDocSet,\n\tgetCurrentDocSetId,\n\tgetProjectUrl\n} from '../docs';\nimport { createHash } from '../hash';\n\nhljs.registerLanguage(\n\t'html',\n\trequire('highlight.js/lib/languages/xml')\n);\nhljs.registerLanguage(\n\t'nginx',\n\trequire('highlight.js/lib/languages/nginx')\n);\nhljs.registerLanguage(\n\t'javascript',\n\trequire('highlight.js/lib/languages/javascript')\n);\nhljs.registerLanguage(\n\t'typescript',\n\trequire('highlight.js/lib/languages/typescript')\n);\n\nexport interface Slugifier {\n\t(url: string): string;\n}\n\n/**\n * Create a link to a page's source on GitHub\n */\nexport function createGitHubLink(id: DocSetId, page: string) {\n\tconst docSet = getDocSet(id);\n\tconst url = getProjectUrl(id.project);\n\treturn h('a.source-link', {\n\t\ttitle: 'View page source',\n\t\thref: `${url}/blob/${docSet.branch}/${page}`\n\t});\n}\n\n/**\n * Create a link item for a menu\n */\nexport function createLinkItem(content: Element | string, id: PageId) {\n\tlet text: string;\n\tlet classes: string[] = [];\n\tif (typeof content === 'string') {\n\t\ttext = content;\n\t} else {\n\t\ttext = content.textContent!;\n\t\tfor (let i = 0; i < content.classList.length; i++) {\n\t\t\tclasses.push(content.classList[i]);\n\t\t}\n\t}\n\treturn h(\n\t\t'li',\n\t\t{},\n\t\th(\n\t\t\t'a',\n\t\t\t{\n\t\t\t\thref: createHash(id),\n\t\t\t\ttitle: text,\n\t\t\t\tclassName: classes.join(' ')\n\t\t\t},\n\t\t\th('span', {}, text)\n\t\t)\n\t);\n}\n\n/**\n * Setup an HTML heading to support icons\n */\nexport function addHeadingIcons(heading: Element) {\n\tconst existing = heading.querySelector('.heading-icons');\n\tif (existing != null) {\n\t\treturn existing.childNodes[1];\n\t}\n\n\tconst container = h('span.heading-icons', {}, [h('span'), h('span')]);\n\tconst icons = container.childNodes[1];\n\n\tconst content = heading.textContent!;\n\theading.textContent = '';\n\theading.appendChild(document.createTextNode(content));\n\theading.appendChild(container);\n\theading.classList.add('has-heading-icons');\n\n\treturn icons;\n}\n\n/**\n * Create a function to generate URL slugs for a page.\n */\nexport function createSlugifier() {\n\tconst cache: { [slug: string]: boolean } = Object.create(null);\n\treturn (str: string) => {\n\t\tlet slug = str\n\t\t\t.toLowerCase()\n\t\t\t.replace(/[^A-Za-z0-9_ ]/g, '')\n\t\t\t.replace(/\\s+/g, '-');\n\t\tif (cache[slug]) {\n\t\t\tlet i = 1;\n\t\t\tlet next = `${slug}-${i}`;\n\t\t\twhile (cache[next]) {\n\t\t\t\ti++;\n\t\t\t\tnext = `${slug}-${i}`;\n\t\t\t}\n\t\t\tslug = next;\n\t\t}\n\t\tcache[slug] = true;\n\t\treturn slug;\n\t};\n}\n\n/**\n * Render markdown into HTML. Lazily initialize the markdown renderer.\n */\nexport function renderMarkdown(text: string, context: Partial<RenderContext>) {\n\tif (!markdown) {\n\t\tmarkdown = new MarkdownIt({\n\t\t\t// Customize the syntax highlighting process\n\t\t\thighlight: (str: string, lang: string) => {\n\t\t\t\tif (lang && hljs.getLanguage(lang)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<pre><code class=\"hljs language-' +\n\t\t\t\t\t\t\tlang +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\thljs.highlight(lang, str, true).value +\n\t\t\t\t\t\t\t'</code></pre>'\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn '<pre><code class=\"hljs\">' + str + '</code></pre>';\n\t\t\t},\n\n\t\t\t// allow HTML in markdown to pass through\n\t\t\thtml: true\n\t\t});\n\n\t\t// Add 'table' class to tables\n\t\tmarkdown.renderer.rules.table_open = () => {\n\t\t\treturn '<table class=\"table is-bordered\">';\n\t\t};\n\n\t\tmarkdown.renderer.rules.thead_open = (tokens: any[], idx: number) => {\n\t\t\tlet i = idx + 2;\n\t\t\tlet token = tokens[i];\n\t\t\tlet empty = true;\n\t\t\twhile (token && token.type !== 'tr_close') {\n\t\t\t\tlet token2 = tokens[i + 2];\n\t\t\t\tif (\n\t\t\t\t\ttoken.type !== 'th_open' ||\n\t\t\t\t\t!token2 ||\n\t\t\t\t\ttoken2.type !== 'th_close'\n\t\t\t\t) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlet token1 = tokens[i + 1];\n\t\t\t\tif (token1.type !== 'inline' || token1.children.length > 0) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ti += 3;\n\t\t\t\ttoken = tokens[i];\n\t\t\t}\n\t\t\treturn `<thead${empty ? ' class=\"is-hidden\"' : ''}>`;\n\t\t};\n\n\t\t// Style blockquotes that are used for warning or info asides\n\t\tmarkdown.renderer.rules.blockquote_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number\n\t\t) => {\n\t\t\t// Get the token representing the first chunk of the block\n\t\t\t// quote\n\t\t\tconst token = tokens[idx + 2].children[0];\n\n\t\t\tconst warning = '';\n\t\t\tconst info = '';\n\t\t\tconst deprecated = '';\n\n\t\t\tif (token.content.indexOf(warning) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(warning, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"warning\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-warning\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t} else if (token.content.indexOf(info) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(info, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"info\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-lightbulb-o\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t} else if (token.content.indexOf(deprecated) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(deprecated, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"deprecated\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-thumbs-o-down\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn '<blockquote>';\n\t\t};\n\n\t\t// Update relative links to markdown files\n\t\tconst defaultLinkRender =\n\t\t\tmarkdown.renderer.rules.link_open ||\n\t\t\t((\n\t\t\t\ttokens: any[],\n\t\t\t\tidx: number,\n\t\t\t\toptions: any,\n\t\t\t\t_env: RenderContext,\n\t\t\t\tself: any\n\t\t\t) => {\n\t\t\t\treturn self.renderToken(tokens, idx, options);\n\t\t\t});\n\t\tmarkdown.renderer.rules.link_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number,\n\t\t\toptions: any,\n\t\t\tenv: RenderContext,\n\t\t\tself: any\n\t\t) => {\n\t\t\tconst hrefIdx = tokens[idx].attrIndex('href');\n\t\t\tconst hrefToken = tokens[idx].attrs[hrefIdx];\n\t\t\tconst [file, hash] = hrefToken[1].split('#');\n\t\t\tconst docSetId = getCurrentDocSetId();\n\t\t\tconst { page, type } = env.info;\n\n\t\t\tif (!file) {\n\t\t\t\t// This is an in-page anchor link\n\t\t\t\threfToken[1] = createHash({\n\t\t\t\t\tpage,\n\t\t\t\t\ttype,\n\t\t\t\t\tsection: hash,\n\t\t\t\t\t...docSetId\n\t\t\t\t});\n\t\t\t} else if (!/\\/\\//.test(file)) {\n\t\t\t\t// Ignore api: links; these will be fixed up by the API\n\t\t\t\t// renderer later\n\t\t\t\tif (type !== 'api' || file.indexOf('api:') !== 0) {\n\t\t\t\t\tif (/\\.md$/.test(file)) {\n\t\t\t\t\t\t// This is a link to a markdown file -- make a\n\t\t\t\t\t\t// page-relative link\n\t\t\t\t\t\tconst cleanFile = file.replace(/^\\.\\//, '');\n\t\t\t\t\t\tlet pageBase = '';\n\t\t\t\t\t\tif (page.indexOf('/') !== -1) {\n\t\t\t\t\t\t\tpageBase = page.slice(0, page.lastIndexOf('/') + 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\threfToken[1] = createHash({\n\t\t\t\t\t\t\tpage: pageBase + cleanFile,\n\t\t\t\t\t\t\tsection: hash,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t...docSetId\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a link to some other local resource -- make a\n\t\t\t\t\t\t// repo link\n\t\t\t\t\t\threfToken[1] = createGitHubLink(docSetId, file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn defaultLinkRender(tokens, idx, options, env, self);\n\t\t};\n\n\t\t// Generating heading IDs for in-page links\n\t\tmarkdown.renderer.rules.heading_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number,\n\t\t\t_options: any,\n\t\t\tenv: RenderContext\n\t\t) => {\n\t\t\tconst token = tokens[idx];\n\t\t\tconst content = tokens[idx + 1].content;\n\t\t\tconst id = env.slugify(content);\n\t\t\treturn `<${token.tag} id=\"${id}\">`;\n\t\t};\n\t}\n\n\tif (!context.slugify) {\n\t\tcontext.slugify = context.slugify || createSlugifier();\n\t}\n\n\treturn markdown.render(text, context);\n}\n\n/**\n * Create the sidebar menu for a docset\n */\nexport function renderMenu(id: DocSetId, type: DocType, maxDepth = 3) {\n\n\tconst docSet = getDocSet(id);\n\tconst pageNames = type === 'api' ? docSet.apiPages! : docSet.pages;\n\tconst cache = type === 'api' ? docSet.apiCache! : docSet.pageCache!;\n\tconst menu = h('ul.menu-list', { menuDepth: maxDepth });\n\n\tfor (let pageName of pageNames) {\n\t\tconst page = cache[pageName];\n\t\tlet root: MenuNode;\n\t\ttry {\n\t\t\troot = createNode(page.element.querySelector('h1')!);\n\t\t} catch (error) {\n\t\t\troot = {\n\t\t\t\tlevel: 1,\n\t\t\t\telement: h('li'),\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t}\n\n\t\tconst headingTags = [];\n\t\tfor (let i = 2; i <= maxDepth; i++) {\n\t\t\theadingTags.push(`h${i}`);\n\t\t}\n\n\t\tconst headings = page.element.querySelectorAll(headingTags.join(','))!;\n\t\tconst stack: MenuNode[][] = <MenuNode[][]> [[root]];\n\t\tlet children: MenuNode[];\n\n\t\tfor (let i = 0; i < headings.length; i++) {\n\t\t\tlet heading = headings[i];\n\t\t\tlet newNode = createNode(heading);\n\t\t\tlet level = newNode.level;\n\n\t\t\tif (level === stack[0][0].level) {\n\t\t\t\tstack[0].unshift(newNode);\n\t\t\t} else if (level > stack[0][0].level) {\n\t\t\t\tstack.unshift([newNode]);\n\t\t\t} else {\n\t\t\t\twhile (stack[0][0].level > level) {\n\t\t\t\t\tchildren = stack.shift()!.reverse();\n\t\t\t\t\tstack[0][0].children = children;\n\t\t\t\t}\n\t\t\t\tif (level === stack[0][0].level) {\n\t\t\t\t\tstack[0].unshift(newNode);\n\t\t\t\t} else {\n\t\t\t\t\tstack.unshift([newNode]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twhile (stack.length > 1) {\n\t\t\tchildren = stack.shift()!.reverse();\n\t\t\tstack[0][0].children = children;\n\t\t}\n\n\t\tconst { project, version } = id;\n\t\tconst pageId = { project, version, page: pageName, type };\n\t\tconst li = createLinkItem(page.title, pageId);\n\n\t\tif (root.children.length > 0) {\n\t\t\tli.appendChild(renderSubMenu(root.children, pageId));\n\t\t}\n\n\t\tmenu.appendChild(li);\n\t}\n\n\treturn menu;\n}\n\n/**\n * Render a doc page\n */\nexport function renderDocPage(text: string, pageName: string, id: DocSetId) {\n\ttext = filterGhContent(text);\n\tconst html = renderMarkdown(text, {\n\t\tinfo: { page: pageName, type: DocType.docs }\n\t});\n\tconst element = h('div', { innerHTML: html });\n\n\tconst h1 = element.querySelector('h1')!;\n\tif (!h1) {\n\t\treturn element;\n\t}\n\tconst icons = addHeadingIcons(h1);\n\tconst link = createGitHubLink(id, pageName);\n\tlink.classList.add('edit-page');\n\ticons.appendChild(link);\n\telement.insertBefore(h1, element.firstChild);\n\n\treturn element;\n}\n\n/**\n * Create a nested submenu\n */\nfunction renderSubMenu(children: MenuNode[], pageId: PageId) {\n\tconst ul = h('ul');\n\n\tfor (let child of children) {\n\t\tconst heading = child.element;\n\t\tconst li = createLinkItem(heading, {\n\t\t\t...pageId,\n\t\t\tsection: heading.id\n\t\t});\n\t\tif (child.children.length > 0) {\n\t\t\tli.appendChild(renderSubMenu(child.children, pageId));\n\t\t}\n\t\tul.appendChild(li);\n\t}\n\n\treturn ul;\n}\n\n/**\n * Create a menu node\n */\nfunction createNode(heading: Element) {\n\tconst level = parseInt(heading.tagName.slice(1), 10);\n\treturn { level, element: heading, children: <MenuNode[]> [] };\n}\n\n/**\n * Remove content that may be in the raw GH pages documents but shouldn't be\n */\nfunction filterGhContent(text: string) {\n\t// This would be simpler with regular expressions, but that makes IE10\n\t// sad.\n\tconst markers = [\n\t\t['<!-- vim-markdown-toc GFM -->', '<!-- vim-markdown-toc -->'],\n\t\t['<!-- start-github-only -->', '<!-- end-github-only -->']\n\t];\n\treturn markers.reduce((text, marker) => {\n\t\tconst chunks = [];\n\t\tlet start = 0;\n\t\tlet left = text.indexOf(marker[0]);\n\t\tlet right = 0;\n\t\twhile (left !== -1) {\n\t\t\tchunks.push(text.slice(start, left));\n\t\t\tright = text.indexOf(marker[1], left);\n\t\t\tif (right === -1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstart = right + marker[1].length;\n\t\t\tleft = text.indexOf(marker[0], start);\n\t\t}\n\t\tif (right !== -1) {\n\t\t\tchunks.push(text.slice(start));\n\t\t}\n\t\treturn chunks.join('');\n\t}, text);\n}\n\nlet markdown: MarkdownIt.MarkdownIt;\n\ninterface MenuNode {\n\tlevel: number;\n\telement: Element;\n\tchildren: MenuNode[];\n}\n\ninterface RenderContext {\n\tinfo: { page: string; type: DocType };\n\tslugify: Slugifier;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/renderer/markdown.ts","import * as h from 'hyperscript';\nimport * as Mark from 'mark.js';\n\nimport { DocType, getDocSet, getCurrentDocSetId } from './docs';\nimport { createLinkItem } from './renderer/markdown';\n\nconst maxSnippetLength = 60;\nconst minSearchTermLength = 4;\n\n/**\n * Search the loaded docset for a given string. Update the search results\n * box with the results.\n */\nexport default function search(\n\tterm: string,\n\tdocType: DocType,\n\tresults: Element | string\n) {\n\tconst searchResults =\n\t\ttypeof results === 'string'\n\t\t\t? document.querySelector(results)!\n\t\t\t: results;\n\tsearchResults.innerHTML = '';\n\n\tconst highlightTerm = term.trim();\n\tconst searchTerm = highlightTerm.toLowerCase();\n\n\tif (searchTerm && searchTerm.length < minSearchTermLength) {\n\t\treturn;\n\t}\n\n\tconst docSetId = getCurrentDocSetId();\n\tconst docs = getDocSet(docSetId);\n\tconst pages = docType === 'api' ? docs.apiPages! : docs.pages;\n\tconst cache = docType === 'api' ? docs.apiCache! : docs.pageCache!;\n\tconst finders: PromiseLike<any>[] = [];\n\n\tfor (let name of pages) {\n\t\tconst page = cache[name];\n\t\tfinders.push(\n\t\t\tfindAllMatches(searchTerm, page.element).then(matches => {\n\t\t\t\tif (matches.length > 0) {\n\t\t\t\t\tconst link = createLinkItem(page.title, {\n\t\t\t\t\t\tpage: name,\n\t\t\t\t\t\ttype: docType,\n\t\t\t\t\t\t...docSetId\n\t\t\t\t\t});\n\n\t\t\t\t\tconst submenu = h(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tmatches.map(match => {\n\t\t\t\t\t\t\treturn createLinkItem(match.snippet, {\n\t\t\t\t\t\t\t\ttype: docType,\n\t\t\t\t\t\t\t\tpage: name,\n\t\t\t\t\t\t\t\tsection: match.section,\n\t\t\t\t\t\t\t\t...docSetId\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tlink.appendChild(submenu);\n\t\t\t\t\tsearchResults.appendChild(link);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tPromise.all(finders).then(() => {\n\t\tif (searchResults.childNodes.length === 0) {\n\t\t\tif (searchTerm) {\n\t\t\t\tsearchResults.innerHTML =\n\t\t\t\t\t'<li class=\"no-results\">No results found</li>';\n\t\t\t}\n\t\t} else {\n\t\t\t// Run the finder over the search results to make the searched\n\t\t\t// word easier to see.\n\t\t\tfindAllMatches(searchTerm, searchResults, false);\n\t\t}\n\t});\n}\n\n/**\n * Find all the matches for the user's text\n */\nfunction findAllMatches(\n\tsearchTerm: string,\n\tpage: Element,\n\tsaveMatches = true\n): Promise<SearchResult[]> {\n\treturn new Promise(resolve => {\n\t\tconst highlighter = new Mark(page);\n\t\thighlighter.unmark();\n\n\t\tconst matches: SearchResult[] = [];\n\t\thighlighter.mark(searchTerm, {\n\t\t\tacrossElements: true,\n\t\t\tcaseSensitive: false,\n\t\t\tignorePunctuation: ['', '', '', ''],\n\t\t\tseparateWordSearch: false,\n\t\t\teach: (element: Element) => {\n\t\t\t\tif (saveMatches) {\n\t\t\t\t\telement.id = `search-result-${matches.length}`;\n\t\t\t\t\tmatches.push({\n\t\t\t\t\t\telement,\n\t\t\t\t\t\tsection: element.id,\n\t\t\t\t\t\tsnippet: createSnippet(element)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tdone: () => {\n\t\t\t\tresolve(matches);\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Get some text surrounding a search match\n */\nfunction createSnippet(searchMatch: Element) {\n\tconst searchText = searchMatch.textContent!;\n\tconst container = getContainer(searchMatch);\n\tconst extraLength = maxSnippetLength - searchText.length;\n\n\tconst previousSibling = (node: HTMLElement) => node.previousSibling;\n\tlet previousText = '';\n\tlet previous = getNextTextNode(searchMatch, previousSibling, getRightLeaf);\n\twhile (previous && previousText.length < extraLength) {\n\t\tpreviousText = previous.textContent! + previousText;\n\t\tprevious = getNextTextNode(previous, previousSibling, getRightLeaf)!;\n\t}\n\n\tconst nextSibling = (node: HTMLElement) => node.nextSibling;\n\tlet nextText = '';\n\tlet next = getNextTextNode(searchMatch, nextSibling, getLeftLeaf);\n\twhile (next && nextText.length < extraLength) {\n\t\tnextText += next.textContent!;\n\t\tnext = getNextTextNode(next, nextSibling, getLeftLeaf);\n\t}\n\n\tconst halfExtra = extraLength / 2;\n\tlet nextTarget = halfExtra;\n\tlet prevTarget = halfExtra;\n\tif (nextText.length > halfExtra && previousText.length > halfExtra) {\n\t\tnextTarget = halfExtra;\n\t\tprevTarget = halfExtra;\n\t} else if (nextText.length > halfExtra) {\n\t\tnextTarget = halfExtra + (halfExtra - previousText.length);\n\t} else if (previousText.length > halfExtra) {\n\t\tprevTarget = halfExtra + (halfExtra - nextText.length);\n\t}\n\n\tif (previousText.length > prevTarget) {\n\t\tpreviousText = `...${previousText.slice(\n\t\t\tpreviousText.length - prevTarget\n\t\t)}`;\n\t}\n\tif (nextText.length > nextTarget) {\n\t\tnextText = `${nextText.slice(0, nextTarget)}...`;\n\t}\n\n\treturn [previousText, searchText, nextText].join('');\n\n\t// Get the next (or previous) text node from a given node. This may\n\t// involve some traversal of the DOM.\n\tfunction getNextTextNode(\n\t\tnode: Node | null,\n\t\tgetNext: (node: Node) => Node | null,\n\t\tgetLeaf: (node: Node) => Node | null\n\t): Node | null {\n\t\tif (!node || node === container) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet next = getNext(node);\n\t\tif (!next) {\n\t\t\treturn getNextTextNode(node.parentElement, getNext, getLeaf);\n\t\t}\n\n\t\tif (next.childNodes.length > 0) {\n\t\t\tnext = getLeaf(next);\n\t\t}\n\n\t\tif (next && next.nodeType !== Node.TEXT_NODE) {\n\t\t\treturn getNextTextNode(next, getNext, getLeaf);\n\t\t}\n\n\t\treturn next;\n\t}\n\n\t// Get the leftmost leaf in the DOM, starting from a given node\n\tfunction getLeftLeaf(node: Node): Node {\n\t\twhile (node.childNodes.length > 0) {\n\t\t\treturn getLeftLeaf(node.childNodes[0]);\n\t\t}\n\t\treturn node;\n\t}\n\n\t// Get the rightmost leaf in the DOM, starting from a given node\n\tfunction getRightLeaf(node: Node): Node {\n\t\twhile (node.childNodes.length > 0) {\n\t\t\treturn getRightLeaf(node.childNodes[node.childNodes.length - 1]);\n\t\t}\n\t\treturn node;\n\t}\n\n\t// Get the container for an element. This is just the first\n\t// 'interesting' container in its ancestry tree.\n\tfunction getContainer(node: Element): Element {\n\t\tswitch (node.tagName) {\n\t\t\tcase 'H1':\n\t\t\tcase 'H2':\n\t\t\tcase 'H3':\n\t\t\tcase 'H4':\n\t\t\tcase 'P':\n\t\t\tcase 'BLOCKQUOTE':\n\t\t\tcase 'PRE':\n\t\t\tcase 'LI':\n\t\t\tcase 'TR':\n\t\t\tcase 'TABLE':\n\t\t\t\treturn node;\n\t\t\tdefault:\n\t\t\t\treturn getContainer(node.parentElement!);\n\t\t}\n\t}\n}\n\ninterface SearchResult {\n\telement: Element;\n\tsection?: string;\n\tsnippet: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/search.ts","export interface NodeModifier {\n\t(node: Element): void;\n}\n\nexport function place(node: Element | undefined, modifier: NodeModifier) {\n\tif (node) {\n\t\tmodifier(node);\n\t}\n}\n\nexport function queryExpected<T extends Element = HTMLElement>(selector: string, root: NodeSelector = document): T | undefined {\n\tconst node = <T> root.querySelector(selector);\n\n\tif (!node) {\n\t\tconsole.warn(`missing ${ selector }`);\n\t}\n\n\treturn node;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/dom.ts"],"sourceRoot":""}