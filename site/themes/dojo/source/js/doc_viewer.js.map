{"version":3,"sources":["webpack:///./apiviewer","webpack:///./apiviewer/docs.ts","webpack:///./apiviewer/doc_viewer.ts","webpack:///./apiviewer/render_api.ts","webpack:///html-element (ignored)","webpack:///./apiviewer/hash.ts","webpack:///./apiviewer/render.ts","webpack:///./apiviewer/search.ts"],"names":[],"mappings":"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","file":"doc_viewer.js","sourcesContent":["function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 1;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./apiviewer\n// module id = 1\n// module chunks = 0","import { parseHash } from './hash';\n\nexport enum DocType {\n\tapi = 'api',\n\tdocs = 'docs'\n}\n\nexport interface ProjectDocs {\n\turl: string;\n\tlogo?: string;\n\tlatest: string;\n\tnext: string;\n\tversions: { [version: string]: DocSet };\n}\n\n/**\n * A specific doc set. If a branch is specified but url or docBase are not,\n * they will be constructed using the standard GitHub URL format.\n */\nexport interface DocSet {\n\t// The base URL for the doc set\n\turl?: string;\n\t// The base URL from which the pages should be loaded\n\tdocBase?: string;\n\t// The branch or tag in the repo where docs will be loaded from.\n\tbranch?: string;\n\t// The path to an API data file\n\tapi?: string;\n\n\t// The paths to  markdown pages that make up the doc set, relative to\n\t// docBase\n\tpages: string[];\n\t// A cache of rendered documents\n\tpageCache?: { [name: string]: DocPage };\n\t// The rendered menu element\n\tmenu?: Element;\n\t// A promise that resolves when the pages and menu have been rendered\n\tready?: Promise<void>;\n\n\t// The IDs of generated API pages\n\tapiPages?: string[];\n\t// A cache of rendered api doc pages\n\tapiCache?: { [name: string]: DocPage };\n\t// The rendered api menu element\n\tapiMenu?: Element;\n\t// A promise that resolves when the API pages and menu have been rendered\n\tapiReady?: Promise<void>;\n}\n\n/**\n * A single doc page\n */\nexport interface DocPage {\n\tname: string;\n\telement: Element;\n\ttitle: string;\n}\n\n/**\n * An ID for a particular doc set\n */\nexport interface DocSetId {\n\tproject: string;\n\tversion: string;\n}\n\n/**\n * An ID for a specific page in a doc set\n */\nexport interface PageId extends DocSetId {\n\ttype: DocType;\n\tpage: string;\n\tsection?: string;\n}\n\n/**\n * Get information about the currently displayed page.\n *\n * Returns a page ID if the current hash is valid, or throws.\n */\nexport function getCurrentPageId(includeSection = true) {\n\tconst docSetId = getCurrentDocSetId();\n\tconst { type, page, section } = parseHash();\n\n\tif (!type || !(type in DocType)) {\n\t\tthrow new Error(`Missing or invalid doc type: ${type}`);\n\t}\n\n\tif (!page) {\n\t\tthrow new Error('Missing page name');\n\t}\n\n\tconst docSet = getDocSet(docSetId);\n\tconst pageNames = type === DocType.api ? docSet.apiPages : docSet.pages;\n\tif (!pageNames) {\n\t\tthrow new Error(`No pages of type \"${type}\"`);\n\t}\n\n\tif (pageNames.indexOf(page) === -1) {\n\t\tthrow new Error(`Invalid page: ${page}`);\n\t}\n\n\tconst { project, version } = docSetId;\n\tconst id: PageId = { project, version, type, page };\n\tif (includeSection) {\n\t\tid.section = section;\n\t}\n\n\treturn id;\n}\n\n/**\n * Get the current doc set ID\n */\nexport function getCurrentDocSetId() {\n\tconst { project, version } = parseHash();\n\n\tif (!project || !docSets[project]) {\n\t\tthrow new Error(`Missing or invalid project: ${project}`);\n\t}\n\n\tif (!version) {\n\t\tthrow new Error(`Missing version`);\n\t}\n\n\tconst projectDocs = docSets[project];\n\n\tlet realVersion = resolveVersion({ project, version });\n\tif (!projectDocs.versions[realVersion]) {\n\t\tthrow new Error(`Invalid version: ${version}`);\n\t}\n\n\treturn { project, version: realVersion };\n}\n\n/**\n * Get a doc set by id\n */\nexport function getDocSet(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('getDocSet called with invalid ID');\n\t}\n\tconst project = docSets[id.project];\n\tlet version = resolveVersion(id);\n\treturn project.versions[version];\n}\n\n/**\n * Return the ID of the default doc set\n */\nexport function getDefaultDocSetId() {\n\treturn {\n\t\tproject: 'Intern',\n\t\tversion: docSets['Intern'].latest\n\t};\n}\n\n/**\n * Return the ID of the default page for a given doc set\n */\nexport function getDefaultPageId(docSetId: DocSetId, type = DocType.docs) {\n\tconst docSet = getDocSet(docSetId);\n\tconst { project, version } = docSetId;\n\tif (!type || !(type in DocType)) {\n\t\tthrow new Error(`Invalid doc type: ${type}`);\n\t}\n\tconst page = type === DocType.api ? docSet.apiPages![0] : docSet.pages[0];\n\treturn { project, version, page, type };\n}\n\n/**\n * Get the project base URL for a given project version. If the doc set\n * version structure contains a `url` field, it will be used. Otherwise, a\n * URL will be constructed using the doc set version branch and standard\n * GitHub URL formats.\n */\nexport function getDocVersionUrl(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('Invalid docSet');\n\t}\n\n\tconst projectDocs = docSets[id.project];\n\tconst version = resolveVersion(id);\n\tconst dv = projectDocs.versions[version];\n\tif (dv.url) {\n\t\treturn dv.url;\n\t}\n\treturn `${projectDocs.url}/tree/${dv.branch}`;\n}\n\n/**\n * Get the doc base URL for a given project version. If the doc set version\n * structure contains a `docBase` field, it will be used. Otherwise, a URL\n * will be constructed using the doc set version branch and standard GitHub\n * URL formats.\n */\nexport function getDocBaseUrl(id: DocSetId) {\n\tif (!isValidDocSetId(id)) {\n\t\tthrow new Error('Invalid docSet');\n\t}\n\n\tconst projectDocs = docSets[id.project];\n\tconst version = resolveVersion(id);\n\tconst dv = projectDocs.versions[version];\n\tif (dv.docBase) {\n\t\treturn dv.docBase;\n\t}\n\n\tconst url = projectDocs.url.replace(\n\t\t/\\/\\/github\\./,\n\t\t'//raw.githubusercontent.'\n\t);\n\treturn `${url}/${dv.branch}/`;\n}\n\n/**\n * Return true if a given doc set ID is valid. To be valid, it must\n * specify a valid project and version\n */\nexport function isValidDocSetId(id: Partial<DocSetId>): id is DocSetId {\n\tconst { project, version } = id;\n\n\tif (!project || !docSets[project]) {\n\t\treturn false;\n\t}\n\n\tif (!version) {\n\t\treturn false;\n\t}\n\n\tconst realVersion = resolveVersion({ project, version });\n\tif (!docSets[project].versions[realVersion]) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Return true if a given page ID is valid. To be valid it must\n * specify a valid project, version, and type\n */\nexport function isValidPageId(id: Partial<PageId>): id is PageId {\n\tif (!isValidDocSetId(id)) {\n\t\treturn false;\n\t}\n\n\tconst { type, page } = <Partial<PageId>>id;\n\n\tif (!type || !(type in DocType)) {\n\t\treturn false;\n\t}\n\n\tif (!page) {\n\t\treturn false;\n\t}\n\n\treturn true;\n}\n\n/**\n * Return the 'latest' version of a given project. This may be the highest\n * version number, or the version tagged as the 'latest' in the doc set data.\n */\nexport function getLatestVersion(project: string) {\n\tconst docSet = docSets[project];\n\tlet version = docSet.latest;\n\tif (!version) {\n\t\tconst versions = Object.keys(docSet.versions).sort(compareVersions);\n\t\tversion = versions[versions.length - 1];\n\t}\n\treturn version;\n}\n\n/**\n * Return the 'next' version of a given project. This may be the version\n * directly after the 'latest' version, or the version tagged as 'next' in the\n * docSet data.\n */\nexport function getNextVersion(project: string) {\n\tconst docSet = docSets[project];\n\tlet version = docSet.next;\n\tif (!version) {\n\t\tconst versions = Object.keys(docSet.versions).sort(compareVersions);\n\t\tconst latest = getLatestVersion(project);\n\t\tconst idx = versions.indexOf(latest);\n\t\tif (idx !== -1 && versions[idx + 1]) {\n\t\t\tversion = versions[idx + 1];\n\t\t}\n\t}\n\treturn version;\n}\n\n/**\n * Return a list of available project names\n */\nexport function getProjects() {\n\treturn Object.keys(docSets);\n}\n\n/**\n * Return a list of available versions for a given project\n */\nexport function getVersions(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn Object.keys(docSets[project].versions).sort(compareVersions);\n}\n\n/**\n * Return a logo image URL for a project\n */\nexport function getProjectLogo(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn docSets[project].logo;\n}\n\n/**\n * Return the base URL for a project\n */\nexport function getProjectUrl(project: string) {\n\tif (!docSets[project]) {\n\t\tthrow new Error(`Invalid project: ${project}`);\n\t}\n\treturn docSets[project].url;\n}\n\n/**\n * Resolve a version for a project\n */\nfunction resolveVersion(id: DocSetId) {\n\tif (id.version === 'latest') {\n\t\treturn getLatestVersion(id.project);\n\t}\n\tif (id.version === 'next') {\n\t\treturn getNextVersion(id.project);\n\t}\n\treturn id.version;\n}\n\n/**\n * Loosely compare two version strings\n */\nfunction compareVersions(a: string, b: string) {\n\tconst aParts = a.split('.').map(part => Number(part) || 0);\n\tconst bParts = b.split('.').map(part => Number(part) || 0);\n\tconst length = Math.max(aParts.length, bParts.length);\n\tfor (let i = 0; i < length; i++) {\n\t\tconst diff = aParts[i] - bParts[i];\n\t\tif (diff !== 0) {\n\t\t\treturn diff;\n\t\t}\n\t}\n\treturn aParts.length - bParts.length;\n}\n\ndeclare const docSets: { [name: string]: ProjectDocs };\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/docs.ts","/**\n * Intern doc viewer\n */\n\nimport * as PromisePolyfill from 'promise-polyfill';\nimport * as h from 'hyperscript';\n\nimport {\n\tDocSet,\n\tDocSetId,\n\tDocPage,\n\tDocType,\n\tgetProjects,\n\tgetVersions,\n\tgetCurrentDocSetId,\n\tgetDefaultDocSetId,\n\tgetDocSet,\n\tgetCurrentPageId,\n\tgetDefaultPageId,\n\tgetDocBaseUrl,\n\tgetDocVersionUrl,\n\tgetLatestVersion,\n\tgetNextVersion,\n\tgetProjectLogo\n} from './docs';\nimport { renderApiPages } from './render_api';\nimport { renderMenu, renderDocPage } from './render';\nimport { createHash, parseHash, updateHash, HashEvent } from './hash';\nimport search from './search';\n\nconst global = <any>window;\nif (!global.Promise) {\n\tglobal.Promise = <typeof Promise>(<any>PromisePolyfill);\n}\n\nlet viewer: HTMLElement;\nlet content: HTMLElement;\nlet messageModal: HTMLElement;\nlet ignoreScroll = false;\nlet searchPanel: HTMLElement;\nlet scrollState: {\n\tpageHash: string;\n\theadings: NodeListOf<Element>;\n} = Object.create(null);\n\nconst searchDelay = 300;\nconst menuHighlightDelay = 20;\n\n// Super simple router. The location hash fully controls the state of the\n// doc viewer. Changes to the project and version selectors will update the\n// hash, which will cause new content to be rendered.\nwindow.addEventListener('hashchange', processHash);\n\n// If the base docs page is loaded without a hash, set a default hash to\n// get a docset to load.\nif (!location.hash) {\n\tupdateHash({ ...getDefaultDocSetId(), type: DocType.docs });\n\tprocessHash();\n}\n\n// Create a promise that resolves when the doc is ready (just for\n// convenience)\nconst ready = new Promise(resolve => {\n\twindow.addEventListener('load', resolve);\n});\n\nready.then(() => {\n\tviewer = <HTMLElement>document.body;\n\tcontent = <HTMLElement>document.querySelector('.docs-content');\n\tmessageModal = <HTMLElement>document.querySelector('.message-modal')!;\n\tsearchPanel = <HTMLElement>document.querySelector('.search-panel')!;\n\n\t// Handle updates to the project + version selects.\n\tdocument.querySelector('.docs-nav')!.addEventListener('change', event => {\n\t\tconst target: Element = <Element>event.target;\n\t\tif (target.tagName !== 'SELECT') {\n\t\t\treturn;\n\t\t}\n\n\t\tconst select = <HTMLSelectElement>target;\n\t\tconst docSetId = getCurrentDocSetId();\n\n\t\tif (target.getAttribute('data-select-property') === 'project') {\n\t\t\t// The project was changed\n\t\t\tdocSetId.project = select.value;\n\t\t\tdocSetId.version = getLatestVersion(select.value);\n\t\t} else {\n\t\t\t// The version was changed\n\t\t\tdocSetId.version = select.value;\n\t\t}\n\n\t\tupdateHash({ ...docSetId, type: DocType.docs, page: 'README.md' });\n\t\tprocessHash();\n\t});\n\n\t// Open the search dropdown if the user clicks a search button\n\tdocument.querySelector('.docs-nav')!.addEventListener('click', event => {\n\t\tlet target = <HTMLElement>event.target;\n\n\t\tif (target.classList.contains('fa')) {\n\t\t\t// An icon was clicked, get its parent\n\t\t\ttarget = target.parentElement!;\n\t\t}\n\n\t\tif (target.classList.contains('search-button')) {\n\t\t\ttarget.classList.toggle('is-active');\n\t\t\tviewer.classList.toggle('is-searching');\n\t\t\tif (viewer.classList.contains('is-searching')) {\n\t\t\t\tsearchPanel.querySelector('input')!.focus();\n\t\t\t}\n\t\t} else if (target.classList.contains('navbar-burger')) {\n\t\t\tconst menuId = target.getAttribute('data-target')!;\n\t\t\tconst menu = document.getElementById(menuId)!;\n\t\t\ttarget.classList.toggle('is-active');\n\t\t\tmenu.classList.toggle('is-active');\n\t\t}\n\t});\n\n\t// Live search as the user types into the search dropdown input\n\tlet searchTimer: number | undefined;\n\tsearchPanel.addEventListener('input', event => {\n\t\tif (searchTimer) {\n\t\t\tclearTimeout(searchTimer);\n\t\t}\n\t\tsearchTimer = <any>setTimeout(() => {\n\t\t\tconst results = searchPanel.querySelector('.search-results')!;\n\t\t\tconst docType = <DocType>viewer.getAttribute('data-doc-type')!;\n\t\t\tsearch((<HTMLInputElement>event.target).value, docType, results);\n\t\t}, searchDelay);\n\t});\n\n\t// Clear the search field when the user clicks the 'x' in the search box\n\tsearchPanel.querySelector('.button')!.addEventListener('click', () => {\n\t\tconst results = searchPanel.querySelector('.search-results')!;\n\t\tconst docType = <DocType>viewer.getAttribute('data-doc-type')!;\n\t\tconst input = <HTMLInputElement>searchPanel.querySelector('input');\n\t\tinput.value = '';\n\t\tsearch('', docType, results);\n\t\tsearchPanel.querySelector('input')!.focus();\n\t});\n\n\t// Update the url hash as the user scrolls\n\tlet menuTimer: number | undefined;\n\tcontent.addEventListener('scroll', () => {\n\t\tconst ignoring = ignoreScroll;\n\t\tignoreScroll = false;\n\t\tif (ignoring) {\n\t\t\treturn;\n\t\t}\n\t\tif (menuTimer) {\n\t\t\tclearTimeout(menuTimer);\n\t\t}\n\t\tmenuTimer = <any>setTimeout(() => {\n\t\t\tmenuTimer = undefined;\n\t\t\tupdateHashFromContent();\n\t\t}, menuHighlightDelay);\n\t});\n\n\tprocessHash();\n});\n\n/**\n * Load a docset.\n *\n * An optional page and section may be provided. When the docset is\n * finished loading, the given page, or the first page in the set, will be\n * shown.\n */\nfunction loadDocSet(id: DocSetId): Promise<DocSet> {\n\tconst docSet = getDocSet(id);\n\n\tif (docSet.ready) {\n\t\t// The docset is already visible, so don't do anything\n\t\treturn Promise.resolve(docSet);\n\t}\n\n\t// The message will be hidden in process hash, after the UI has been\n\t// updated\n\tshowMessage('', '', 'loading');\n\n\tconst docBase = getDocBaseUrl(id);\n\tconst cache = (docSet.pageCache = <{\n\t\t[name: string]: DocPage;\n\t}>Object.create(null));\n\n\treturn fetch(`${docBase}README.md`)\n\t\t.then(response => response.text())\n\t\t.then(readme => {\n\t\t\tconst logo = getProjectLogo(id.project);\n\t\t\trenderPage(readme, 'README.md', id, logo);\n\n\t\t\tconst matcher = /^<!--\\s+doc-viewer-config\\s/m;\n\t\t\tif (matcher.test(readme)) {\n\t\t\t\tconst result = matcher.exec(readme)!;\n\t\t\t\tconst index = result.index;\n\t\t\t\tconst start = readme.indexOf('{', index);\n\t\t\t\tconst end = readme.indexOf('-->', index);\n\t\t\t\tconst data = readme.slice(start, end).trim();\n\t\t\t\treturn <DocSet>JSON.parse(data);\n\t\t\t}\n\t\t\treturn null;\n\t\t})\n\t\t.then(config => {\n\t\t\tif (config) {\n\t\t\t\tfor (const key of Object.keys(config)) {\n\t\t\t\t\tconst prop = <keyof DocSet>key;\n\t\t\t\t\tdocSet[prop] = config[prop];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tconst pageNames = (docSet.pages = ['README.md'].concat(\n\t\t\t\tdocSet.pages || []\n\t\t\t));\n\n\t\t\tdocSet.ready = Promise.all(\n\t\t\t\tpageNames.filter(name => name !== 'README.md').map(name => {\n\t\t\t\t\treturn fetch(docBase + name)\n\t\t\t\t\t\t.then(response => response.text())\n\t\t\t\t\t\t.then(text => renderPage(text, name, id));\n\t\t\t\t})\n\t\t\t).then(() => {\n\t\t\t\tdocSet.menu = renderMenu(id, DocType.docs);\n\t\t\t});\n\n\t\t\tif (docSet.api) {\n\t\t\t\tdocSet.apiReady = fetch(docBase + docSet.api)\n\t\t\t\t\t.then(response => {\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t})\n\t\t\t\t\t.then(data => {\n\t\t\t\t\t\trenderApiPages(id, data);\n\t\t\t\t\t\tdocSet.apiMenu = renderMenu(id, DocType.api, 4);\n\t\t\t\t\t});\n\t\t\t}\n\n\t\t\treturn docSet;\n\t\t});\n\n\tfunction renderPage(\n\t\ttext: string,\n\t\tname: string,\n\t\tid: DocSetId,\n\t\tlogo?: string\n\t) {\n\t\treturn ready.then(() => {\n\t\t\tconst element = renderDocPage(text, name, id);\n\t\t\tconst h1 = element.querySelector('h1');\n\t\t\tconst title = (h1 && h1.textContent) || id.project;\n\t\t\tif (logo && h1) {\n\t\t\t\tconst logoImg = h('img.logo', { src: logo });\n\t\t\t\th1.insertBefore(logoImg, h1.firstChild);\n\t\t\t}\n\t\t\tcache[name] = { name, element, title };\n\t\t});\n\t}\n}\n\n/**\n * Update the links in doc navbar\n */\nfunction updateNavBarLinks(id: DocSetId) {\n\tconst docSet = getDocSet(id);\n\tconst navbar = <HTMLElement>document.querySelector(\n\t\t'.docs-nav .navbar-start'\n\t);\n\n\tnavbar.classList[docSet.api ? 'add' : 'remove']('has-api');\n\tnavbar.classList[docSet.pages ? 'add' : 'remove']('has-docs');\n\n\tconst docTypes = <DocType[]>Object.keys(DocType).filter(\n\t\ttype => !Number(type)\n\t);\n\tfor (const type of docTypes) {\n\t\tconst link = <HTMLLinkElement>navbar.querySelector(\n\t\t\t`.navbar-item[data-doc-type=\"${type}\"]`\n\t\t)!;\n\t\tlink.href = createHash({\n\t\t\tproject: id.project,\n\t\t\tversion: id.version,\n\t\t\ttype\n\t\t});\n\t}\n}\n\n/**\n * Select the currently active project in the project selector.\n */\nfunction updateDocsetSelector() {\n\tconst pageId = getCurrentPageId();\n\tconst selector = document.querySelector(\n\t\t'select[data-select-property=\"project\"]'\n\t)!;\n\n\tif (selector.children.length === 0) {\n\t\tfor (let name of getProjects()) {\n\t\t\tconst option = h('option', { value: name }, name);\n\t\t\tselector.appendChild(option);\n\t\t}\n\t}\n\n\tconst option = <HTMLOptionElement>selector.querySelector(\n\t\t`option[value=\"${getCurrentPageId().project}\"]`\n\t);\n\tif (option) {\n\t\toption.selected = true;\n\t}\n\n\tconst versions = getVersions(pageId.project).reverse();\n\t// If more than one version is available, show the version selector\n\tif (versions.length > 1) {\n\t\tviewer.classList.add('multi-version');\n\n\t\tconst selector = document.querySelector(\n\t\t\t'select[data-select-property=\"version\"]'\n\t\t)!;\n\t\tselector.innerHTML = '';\n\t\tconst latestVersion = getLatestVersion(pageId.project);\n\t\tconst nextVersion = getNextVersion(pageId.project);\n\t\tfor (const version of versions) {\n\t\t\tlet text = `v${version}`;\n\t\t\tif (version === latestVersion) {\n\t\t\t\ttext += ' (release)';\n\t\t\t} else if (version === nextVersion) {\n\t\t\t\ttext += ' (dev)';\n\t\t\t}\n\t\t\tselector.appendChild(\n\t\t\t\th(\n\t\t\t\t\t'option',\n\t\t\t\t\t{ value: version, selected: version === pageId.version },\n\t\t\t\t\ttext\n\t\t\t\t)\n\t\t\t);\n\t\t}\n\t} else {\n\t\tviewer.classList.remove('multi-version');\n\t}\n}\n\n/**\n * Show a page in the currently loaded docset\n */\nfunction showPage(type: DocType, name: string, section?: string) {\n\tconst docSet = getDocSet(getCurrentDocSetId());\n\tconst page = getPage(docSet, type, name);\n\tconst content = <HTMLElement>document.body.querySelector('.docs-content')!;\n\tif (content.children.length > 0) {\n\t\tcontent.removeChild(content.children[0]);\n\t}\n\tcontent.appendChild(page.element);\n\n\t// Do highlighting before scrolling a sectoin into view. Highlighting\n\t// also involves scroll manipulation, and if the viewer is using a\n\t// mobile layout, we want the content scroll to take priority over the\n\t// menu scroll.\n\thighlightActivePage();\n\thighlightActiveSection();\n\n\t// Showing the page will probably scroll the content area, but we don't\n\t// want to invoke the normal scroll handling code in this case.\n\tignoreScroll = true;\n\n\tif (section) {\n\t\tconst header = <HTMLElement>document.querySelector(`#${section}`);\n\t\tif (header) {\n\t\t\theader.scrollIntoView();\n\t\t}\n\t} else {\n\t\tcontent.scrollTop = 0;\n\t}\n}\n\n/**\n * Get a rendered page from a doc set\n */\nfunction getPage(docSet: DocSet, type: DocType, name?: string) {\n\tif (!name) {\n\t\tconst pageNames =\n\t\t\ttype === DocType.api ? docSet.apiPages! : docSet.pages;\n\t\tname = pageNames[0];\n\t}\n\treturn type === DocType.api\n\t\t? docSet.apiCache![name]\n\t\t: docSet.pageCache![name];\n}\n\n/**\n * Highlight the active page in the sidebar menu\n */\nfunction highlightActivePage() {\n\tconst menu = document.querySelector('.docs-menu .menu .menu-list')!;\n\tconst active = menu.querySelector('.is-active-page');\n\tif (active) {\n\t\tactive.classList.remove('is-active-page');\n\t}\n\n\tconst pageId = getCurrentPageId(false);\n\tconst currentPage = createHash(pageId);\n\n\tconst pageLink = menu.querySelector(`li > a[href=\"${currentPage}\"]`)!;\n\tif (pageLink) {\n\t\tpageLink.parentElement!.classList.add('is-active-page');\n\t}\n}\n\n/**\n * Highlight the active element in the sidebar menu\n */\nfunction highlightActiveSection() {\n\tconst menu = document.querySelector('.docs-menu .menu-list')!;\n\tif (!menu) {\n\t\treturn;\n\t}\n\n\tconst active = menu.querySelector('.is-active');\n\tif (active) {\n\t\tactive.classList.remove('is-active');\n\t}\n\n\tconst currentSection = location.hash;\n\tlet link = <HTMLElement>menu.querySelector(\n\t\t`li > a[href=\"${currentSection}\"]`\n\t)!;\n\tif (!link) {\n\t\ttry {\n\t\t\tconst docs = getCurrentPageId();\n\t\t\tconst currentPage = createHash({\n\t\t\t\tproject: docs.project,\n\t\t\t\tversion: docs.version,\n\t\t\t\ttype: docs.type,\n\t\t\t\tpage: docs.page\n\t\t\t});\n\t\t\tlink = <HTMLElement>menu.querySelector(\n\t\t\t\t`li > a[href=\"${currentPage}\"]`\n\t\t\t)!;\n\t\t} catch (error) {\n\t\t\t// ignore\n\t\t}\n\t}\n\n\tif (link) {\n\t\tlink.classList.add('is-active');\n\t\tscrollIntoViewIfNessary(link, <HTMLElement>document.querySelector(\n\t\t\t'.docs-menu'\n\t\t)!);\n\t}\n}\n\n/**\n * Install the current docset's docs menu in the menu container\n */\nfunction showMenu(type?: DocType) {\n\ttype = type || DocType.docs;\n\tconst docSet = getDocSet(getCurrentDocSetId());\n\tconst menu = document.querySelector('.docs-menu .menu')!;\n\tconst menuList = menu.querySelector('.menu-list');\n\tif (menuList) {\n\t\tmenu.removeChild(menuList);\n\t}\n\tconst docMenu = type === DocType.api ? docSet.apiMenu! : docSet.menu!;\n\tmenu.appendChild(docMenu);\n}\n\n/**\n * Process the current URL hash value.\n */\nfunction processHash() {\n\thighlightActiveSection();\n\n\ttry {\n\t\tconst docSetId = getCurrentDocSetId();\n\t\tloadDocSet(docSetId)\n\t\t\t.then(docSet => {\n\t\t\t\tconst { type } = parseHash();\n\t\t\t\tconst ready =\n\t\t\t\t\ttype === DocType.api ? docSet.apiReady! : docSet.ready!;\n\t\t\t\tready\n\t\t\t\t\t.then(() => {\n\t\t\t\t\t\tconst pageId = getCurrentPageId();\n\t\t\t\t\t\tconst {\n\t\t\t\t\t\t\tproject,\n\t\t\t\t\t\t\tversion,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\tpage,\n\t\t\t\t\t\t\tsection\n\t\t\t\t\t\t} = pageId;\n\n\t\t\t\t\t\tviewer.setAttribute('data-doc-type', type);\n\n\t\t\t\t\t\tconst container = document.querySelector(\n\t\t\t\t\t\t\t'.docs-content'\n\t\t\t\t\t\t)!;\n\t\t\t\t\t\tcontainer.setAttribute('data-doc-project', project);\n\t\t\t\t\t\tcontainer.setAttribute('data-doc-version', version);\n\n\t\t\t\t\t\tshowMenu(type);\n\t\t\t\t\t\tshowPage(type, page, section);\n\t\t\t\t\t\tupdateGitHubButtons(pageId);\n\t\t\t\t\t\tupdateNavBarLinks(pageId);\n\t\t\t\t\t\tupdateDocsetSelector();\n\t\t\t\t\t\thideMessage();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t// The current hash doesn't specify a valid page ID\n\t\t\t\t\t\tconst { type, page } = parseHash();\n\t\t\t\t\t\tif (page) {\n\t\t\t\t\t\t\t// The URL contains a page, and it is invalid\n\t\t\t\t\t\t\tthrow error;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// The URL doesn't contain a page\n\t\t\t\t\t\tupdateHash(\n\t\t\t\t\t\t\tcreateHash(\n\t\t\t\t\t\t\t\tgetDefaultPageId(docSetId, type || DocType.docs)\n\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\tHashEvent.rename\n\t\t\t\t\t\t);\n\t\t\t\t\t\tprocessHash();\n\t\t\t\t\t})\n\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\tlet { type } = parseHash();\n\t\t\t\t\t\ttype = type in DocType ? type : DocType.docs;\n\t\t\t\t\t\tconst newHash = createHash({ ...docSetId, type });\n\t\t\t\t\t\tshowError(error, newHash);\n\t\t\t\t\t});\n\t\t\t})\n\t\t\t.catch(error => {\n\t\t\t\tconst newHash = createHash({ ...docSetId, type: DocType.docs });\n\t\t\t\tshowError(error, newHash);\n\t\t\t});\n\t} catch (error) {\n\t\t// The current hash doesn't identify a valid doc set\n\t\tif (!location.hash.slice(1)) {\n\t\t\t// No hash was specified -- load a default\n\t\t\tupdateHash(\n\t\t\t\tcreateHash({ ...getDefaultDocSetId(), type: DocType.docs }),\n\t\t\t\tHashEvent.rename\n\t\t\t);\n\t\t\tprocessHash();\n\t\t} else {\n\t\t\tconst { project } = parseHash();\n\t\t\tif (getProjects().indexOf(project) !== -1) {\n\t\t\t\tconst version = getLatestVersion(project);\n\t\t\t\tupdateHash(\n\t\t\t\t\tcreateHash({ project, version, type: DocType.docs }),\n\t\t\t\t\tHashEvent.rename\n\t\t\t\t);\n\t\t\t\tprocessHash();\n\t\t\t} else {\n\t\t\t\t// An invalid hash was specified -- show an error\n\t\t\t\tshowError(error);\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction showError(error: Error, newHash?: string) {\n\t\tconsole.error(error);\n\t\tshowMessage(\n\t\t\t'Oops...',\n\t\t\th('span', {}, [\n\t\t\t\t'The URL hash ',\n\t\t\t\th('code', {}, location.hash),\n\t\t\t\t\" isn't valid. Click \",\n\t\t\t\th('a', { href: `${newHash || '#'}` }, 'here'),\n\t\t\t\t' to open the default doc set.'\n\t\t\t]),\n\t\t\t'error'\n\t\t);\n\t}\n}\n\n/**\n * Show a message in the error modal\n */\nfunction showMessage(heading: string, message: string | Element, type = '') {\n\tmessageModal.querySelector('.message-heading')!.textContent = heading;\n\tconst content = messageModal.querySelector('.message-content')!;\n\tcontent.innerHTML = '';\n\tif (typeof message === 'string') {\n\t\tcontent.textContent = message;\n\t} else {\n\t\tcontent.appendChild(message);\n\t}\n\tmessageModal.classList.add('is-active');\n\tmessageModal.setAttribute('data-message-type', type);\n}\n\n/**\n * Show a message in the error modal\n */\nfunction hideMessage() {\n\tmessageModal.classList.remove('is-active');\n}\n\n/**\n * Update the hrefs for the navbar GitHub buttons\n */\nfunction updateGitHubButtons(docs: DocSetId) {\n\tconst links = <NodeListOf<HTMLAnchorElement>>document.querySelectorAll(\n\t\t'.github-button'\n\t);\n\tconst url = getDocVersionUrl(docs);\n\tfor (let i = 0; i < links.length; i++) {\n\t\tlinks[i].href = url;\n\t}\n}\n\n/**\n * Scroll an element into view if it's not currently visible within its\n * container.\n */\nfunction scrollIntoViewIfNessary(element: HTMLElement, container: HTMLElement) {\n\tconst viewportTop = container.offsetTop + container.scrollTop;\n\tconst viewportBottom = viewportTop + container.clientHeight;\n\tconst elementTop = element.offsetTop;\n\tconst elementBottom = elementTop + element.offsetHeight;\n\tif (elementTop < viewportTop) {\n\t\telement.scrollIntoView(true);\n\t} else if (elementBottom > viewportBottom) {\n\t\telement.scrollIntoView(false);\n\t}\n}\n\n/**\n * Update the location hash based on the currently visible doc contents.\n */\nfunction updateHashFromContent() {\n\tconst pageId = getCurrentPageId(false);\n\tconst pageHash = createHash(pageId);\n\n\tif (pageHash !== scrollState.pageHash) {\n\t\tconst content = <HTMLElement>document.querySelector('.docs-content')!;\n\t\tconst menu = document.querySelector('.docs-menu .menu-list');\n\t\tconst depth = <number>(<any>menu).menuDepth || 3;\n\t\tconst tags = <string[]>[];\n\t\tfor (let i = 1; i < depth; i++) {\n\t\t\ttags.push(`h${i + 1}`);\n\t\t}\n\t\tscrollState.pageHash = pageHash;\n\t\tscrollState.headings = content.querySelectorAll(tags.join(','))!;\n\t}\n\n\tconst viewportTop = content.offsetTop + content.scrollTop;\n\tconst { headings } = scrollState;\n\n\tlet above: Element | undefined;\n\tlet below: Element | undefined;\n\tfor (let i = 1; i < headings.length; i++) {\n\t\tconst heading = <HTMLElement>headings[i];\n\t\tconst headingTop = getOffsetTop(heading);\n\t\tif (headingTop > viewportTop) {\n\t\t\tbelow = headings[i];\n\t\t\tabove = headings[i - 1];\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tif (!above) {\n\t\tabove = headings[headings.length - 1];\n\t}\n\n\tupdateHash(\n\t\t{\n\t\t\tproject: pageId.project,\n\t\t\tversion: pageId.version,\n\t\t\ttype: <DocType>viewer.getAttribute('data-doc-type')!,\n\t\t\tpage: pageId.page,\n\t\t\tsection: above.id\n\t\t},\n\t\tHashEvent.scroll\n\t);\n\n\thighlightActiveSection();\n\n\tfunction getOffsetTop(element: HTMLElement) {\n\t\tlet top = element.offsetTop;\n\t\twhile (\n\t\t\t(element = <HTMLElement>element.offsetParent) &&\n\t\t\telement !== content\n\t\t) {\n\t\t\ttop += element.offsetTop;\n\t\t}\n\t\treturn top;\n\t}\n}\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/doc_viewer.ts","import { ProjectReflection } from 'typedoc';\nimport { Comment } from 'typedoc/dist/lib/models/comments/comment';\nimport { SourceReference } from 'typedoc/dist/lib/models/sources/file';\nimport { DeclarationReflection } from 'typedoc/dist/lib/models/reflections/declaration';\nimport { SignatureReflection } from 'typedoc/dist/lib/models/reflections/signature';\nimport { ParameterReflection } from 'typedoc/dist/lib/models/reflections/parameter';\nimport { ContainerReflection } from 'typedoc/dist/lib/models/reflections/container';\nimport { TypeParameterReflection } from 'typedoc/dist/lib/models/reflections/type-parameter';\nimport { Reflection } from 'typedoc/dist/lib/models/reflections/abstract';\nimport { Type } from 'typedoc/dist/lib/models/types/abstract';\nimport { StringLiteralType } from 'typedoc/dist/lib/models/types/string-literal';\nimport { TypeParameterType } from 'typedoc/dist/lib/models/types/type-parameter';\nimport { UnionType } from 'typedoc/dist/lib/models/types/union';\nimport { ArrayType } from 'typedoc/dist/lib/models/types/array';\nimport { ReflectionType } from 'typedoc/dist/lib/models/types/reflection';\nimport { ReferenceType } from 'typedoc/dist/lib/models/types/reference';\nimport { IntrinsicType } from 'typedoc/dist/lib/models/types/intrinsic';\nimport { UnknownType } from 'typedoc/dist/lib/models/types/unknown';\nimport * as h from 'hyperscript';\nimport * as hljs from 'highlight.js';\n\nimport { DocSetId, DocPage, DocType, getDocSet } from './docs';\nimport { createHash } from './hash';\nimport {\n\taddHeadingIcons,\n\tcreateGitHubLink,\n\tcreateSlugifier,\n\trenderMarkdown,\n\tSlugifier\n} from './render';\n\nconst preferredSignatureWidth = 60;\n\nhljs.registerLanguage(\n\t'typescript',\n\trequire('highlight.js/lib/languages/typescript')\n);\nhljs.registerLanguage(\n\t'javascript',\n\trequire('highlight.js/lib/languages/javascript')\n);\n\ninterface GenericReflection extends Reflection {\n\ttypeParameter: TypeParameterReflection[];\n}\n\n/**\n * Render the API pages for a docset\n */\nexport function renderApiPages(docSetId: DocSetId, data: ProjectReflection) {\n\tconst docSet = getDocSet(docSetId)!;\n\tconst pages = (docSet.apiPages = <string[]>[]);\n\tconst cache = (docSet.apiCache = <{\n\t\t[key: string]: DocPage;\n\t}>Object.create(null));\n\tconst modules = getExports(data)!;\n\tconst apiIndex = createApiIndex(data);\n\tconst slugIndex: SlugIndex = {};\n\tconst pageIndex: { [id: number]: string } = {};\n\tconst linksToResolve: { link: HTMLAnchorElement; id: number }[] = [];\n\tconst nameRefs: NameRefs = Object.create(null);\n\n\tfor (const module of modules) {\n\t\tif (getExports(module).length === 0 && !hasComment(module)) {\n\t\t\t// Only show modules that have exports\n\t\t\tcontinue;\n\t\t}\n\n\t\tconst renderHeading = getHeadingRenderer(createSlugifier());\n\t\tconst name = module.name.replace(/^\"/, '').replace(/\"$/, '');\n\t\tpages.push(name);\n\t\tpageIndex[module.id] = name;\n\n\t\tconst element = h('div');\n\t\tconst page = (cache[name] = { name, title: name, element });\n\t\tconst context: RenderContext = {\n\t\t\tpage,\n\t\t\trenderHeading,\n\t\t\tapi: data,\n\t\t\tapiIndex,\n\t\t\tslugIndex,\n\t\t\tdocSetId,\n\t\t\tlinksToResolve,\n\t\t\tnameRefs\n\t\t};\n\n\t\trenderModule(module, 1, context);\n\t}\n\n\t// Fixup other links\n\tfor (const { link, id } of linksToResolve) {\n\t\tconst type = apiIndex[id];\n\t\tif (id === -1) {\n\t\t\tcontinue;\n\t\t}\n\t\tconst module = findModule(id, apiIndex);\n\n\t\tif (module === type) {\n\t\t\tlink.href = createHash({\n\t\t\t\tpage: pageIndex[module.id],\n\t\t\t\ttype: DocType.api,\n\t\t\t\t...docSetId\n\t\t\t});\n\t\t} else {\n\t\t\tlink.href = createHash({\n\t\t\t\tpage: pageIndex[module.id],\n\t\t\t\tsection: slugIndex[type.id],\n\t\t\t\ttype: DocType.api,\n\t\t\t\t...docSetId\n\t\t\t});\n\t\t}\n\t}\n}\n\n/**\n * Get the module containing a given reflection\n */\nfunction getContainingModule(reflection: Reflection) {\n\twhile (reflection && reflection.kindString !== 'External module') {\n\t\treflection = reflection.parent;\n\t}\n\treturn <ContainerReflection>reflection;\n}\n\n/**\n * Return the reflection ID corresponding to a given name.\n */\nfunction getReflectionIdForName(\n\tname: string,\n\tcontext: RenderContext,\n\t_module: ContainerReflection\n) {\n\tconst { nameRefs } = context;\n\tif (!(name in nameRefs)) {\n\t\tconst reflection = findReflectionByName(name, context.api);\n\t\tnameRefs[name] = reflection ? reflection.id : -1;\n\t}\n\treturn nameRefs[name];\n}\n\n/**\n * Recursively find a reflection in the API by dot-separated name\n */\nfunction findReflectionByName(\n\tname: string,\n\treflection: Reflection\n): Reflection | undefined {\n\tlet head = name;\n\tlet dot = head.indexOf('.');\n\tif (dot !== -1) {\n\t\thead = head.slice(0, dot);\n\t}\n\n\tif (isContainerReflection(reflection)) {\n\t\tfor (const child of reflection.children) {\n\t\t\tconst childName = child.name.replace(/^\"|\"$/g, '');\n\t\t\tif (childName === head) {\n\t\t\t\tif (head !== name) {\n\t\t\t\t\tconst tail = name.slice(dot + 1);\n\t\t\t\t\treturn findReflectionByName(tail, child);\n\t\t\t\t} else {\n\t\t\t\t\treturn child;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn;\n}\n\n/**\n * Render a module page\n */\nfunction renderModule(\n\tmodule: ContainerReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, module, context);\n\tslugIndex[module.id] = heading.id;\n\n\tif (hasComment(module)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(module.comment, module, context)\n\t\t);\n\t}\n\n\tconst exports = getExports(module);\n\n\tconst global = exports.filter(ex => ex.name === '__global')[0];\n\tif (global) {\n\t\trenderHeading(level, 'Globals', context);\n\t\tfor (const child of global.children.slice().sort(nameSorter)) {\n\t\t\trenderProperty(child, level + 1, context);\n\t\t}\n\t}\n\n\tconst classes = exports\n\t\t.filter(ex => ex.kindString === 'Class')\n\t\t.sort(nameSorter);\n\tfor (const cls of classes) {\n\t\trenderClass(cls, level + 1, context);\n\t}\n\n\tconst interfaces = exports\n\t\t.filter(ex => ex.kindString === 'Interface')\n\t\t.sort(nameSorter);\n\tfor (const iface of interfaces) {\n\t\trenderInterface(iface, level + 1, context);\n\t}\n\n\tconst functions = exports\n\t\t.filter(ex => ex.kindString === 'Function')\n\t\t.sort(nameSorter);\n\tfor (const func of functions) {\n\t\trenderFunction(func, level + 1, context);\n\t}\n\n\tconst constants = exports\n\t\t.filter(ex => ex.kindString === 'Object literal')\n\t\t.sort(nameSorter);\n\tfor (const constant of constants) {\n\t\trenderValue(constant, level + 1, context);\n\t}\n}\n\n/**\n * Render a class\n */\nfunction renderClass(\n\tcls: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, cls, context);\n\tslugIndex[cls.id] = heading.id;\n\n\tlet declaration = `class ${cls.name}`;\n\n\tif (isGenericReflection(cls)) {\n\t\tconst typeParams = cls.typeParameter\n\t\t\t.map(param => typeParameterToString(param))\n\t\t\t.join(', ');\n\t\tdeclaration += `<${typeParams}>`;\n\t}\n\n\tif (cls.extendedTypes) {\n\t\tconst types = cls.extendedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` extends ${types}`;\n\t}\n\n\tif (cls.implementedTypes) {\n\t\tconst types = cls.implementedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` implements ${types}`;\n\t}\n\n\tconst formatted = formatDeclaration(declaration);\n\tconst html = hljs.highlight('typescript', formatted, true).value;\n\tcontext.page.element.appendChild(\n\t\th('pre', {}, h('code.hljs.lang-typescript', { innerHTML: html }))\n\t);\n\n\tif (hasComment(cls)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(cls.comment, getContainingModule(cls), context)\n\t\t);\n\t}\n\n\tconst exports = getExports(cls);\n\n\tconst properties = exports\n\t\t.filter(\n\t\t\tex => ex.kindString === 'Property' || ex.kindString === 'Accessor'\n\t\t)\n\t\t.sort(nameSorter);\n\tfor (const property of properties) {\n\t\trenderProperty(property, level + 1, context);\n\t}\n\n\tconst constructors = exports.filter(ex => ex.kindString === 'Constructor');\n\tfor (const ctor of constructors) {\n\t\trenderMethod(ctor, level + 1, context);\n\t}\n\n\tconst methods = exports\n\t\t.filter(ex => ex.kindString === 'Method')\n\t\t.sort(nameSorter);\n\tfor (const method of methods) {\n\t\trenderMethod(method, level + 1, context);\n\t}\n}\n\n/**\n * Indicate whetehr a reflection is a GenericReflection\n */\nfunction isGenericReflection(type: Reflection): type is GenericReflection {\n\treturn (<any>type).typeParameter != null;\n}\n\n/**\n * Indicate whetehr a reflection is a ContainerReflection\n */\nfunction isContainerReflection(type: Reflection): type is ContainerReflection {\n\treturn (<any>type).children != null;\n}\n\n/**\n * Render a type parameter\n */\nfunction typeParameterToString(param: TypeParameterReflection) {\n\tif (param.type) {\n\t\treturn `${param.name} extends ${typeToString(param.type)}`;\n\t} else {\n\t\treturn param.name;\n\t}\n}\n\n/**\n * Render a class method\n */\nfunction renderMethod(\n\tmethod: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\trenderFunction(method, level, context);\n}\n\n/**\n * Render a class or interface inheritance chain\n */\nfunction renderParent(\n\ttypes: Type[],\n\trelationship: Relationship,\n\tcontext: RenderContext\n) {\n\tfor (const type of types) {\n\t\tconst p = h('p.api-metadata', {}, [\n\t\t\th('span.api-label', {}, `${relationship}: `)\n\t\t]);\n\t\tp.appendChild(renderType(type, context));\n\t\tcontext.page.element.appendChild(p);\n\t}\n}\n\n/**\n * Render a TypeScript interface\n */\nfunction renderInterface(\n\tiface: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, iface, context);\n\tslugIndex[iface.id] = heading.id;\n\n\tlet declaration = `interface ${iface.name}`;\n\n\tif (isGenericReflection(iface)) {\n\t\tconst typeParams = iface.typeParameter\n\t\t\t.map(param => typeParameterToString(param))\n\t\t\t.join(', ');\n\t\tdeclaration += `<${typeParams}>`;\n\t}\n\n\tif (iface.extendedTypes) {\n\t\tconst types = iface.extendedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` extends ${types}`;\n\t}\n\n\tif (iface.implementedTypes) {\n\t\tconst types = iface.implementedTypes\n\t\t\t.map(type => typeToString(type))\n\t\t\t.join(', ');\n\t\tdeclaration += ` implements ${types}`;\n\t}\n\n\tconst formatted = formatDeclaration(declaration);\n\tconst html = hljs.highlight('typescript', formatted, true).value;\n\tcontext.page.element.appendChild(\n\t\th('pre', {}, h('code.hljs.lang-typescript', { innerHTML: html }))\n\t);\n\n\tif (hasComment(iface)) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(iface.comment, getContainingModule(iface), context)\n\t\t);\n\t}\n\n\tif (iface.indexSignature) {\n\t\trenderHeading(level + 1, 'Index signature', context);\n\t\t// TypeDoc's typing is wrong -- this is always an array\n\t\tconst sig: SignatureReflection[] = <any>iface.indexSignature;\n\t\trenderSignatures(sig, iface, context);\n\t}\n\n\tif (iface.signatures) {\n\t\trenderHeading(level + 1, 'Call signatures', context);\n\t\trenderSignatures(iface.signatures, iface, context);\n\t}\n\n\tconst exports = getExports(iface);\n\n\tconst properties = exports\n\t\t.filter(ex => ex.kindString === 'Property')\n\t\t.sort(nameSorter);\n\tfor (const property of properties) {\n\t\trenderProperty(property, level + 1, context);\n\t}\n\n\tconst constructors = exports.filter(ex => ex.kindString === 'Constructor');\n\tfor (const ctor of constructors) {\n\t\trenderMethod(ctor, level + 1, context);\n\t}\n\n\tconst methods = exports\n\t\t.filter(ex => ex.kindString === 'Method')\n\t\t.sort(nameSorter);\n\tfor (const method of methods) {\n\t\trenderMethod(method, level + 1, context);\n\t}\n}\n\n/**\n * Render a class or interface property\n */\nfunction renderProperty(\n\tproperty: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { page, renderHeading, slugIndex } = context;\n\tconst heading = renderHeading(level, property, context);\n\tslugIndex[property.id] = heading.id;\n\n\tif (property.inheritedFrom) {\n\t\trenderParent([property.inheritedFrom], Relationship.Inherited, context);\n\t}\n\n\tlet typeString: string | undefined;\n\tlet access = { canRead: false, canWrite: false };\n\tlet comment: Comment | undefined;\n\n\tif (property.kindString === 'Accessor') {\n\t\tif (property.getSignature) {\n\t\t\taccess.canRead = true;\n\t\t\tconst sig = (<any>property.getSignature)[0];\n\t\t\ttypeString = typeToString(sig.type);\n\t\t\tif (hasComment(sig)) {\n\t\t\t\tcomment = sig.comment;\n\t\t\t}\n\t\t}\n\t\tif (property.setSignature) {\n\t\t\taccess.canWrite = true;\n\t\t\tconst sig = (<any>property.setSignature)[0];\n\t\t\tif (!typeString) {\n\t\t\t\ttypeString = typeToString(sig.parameters[0].type);\n\t\t\t}\n\t\t\tif (!comment && hasComment(sig)) {\n\t\t\t\tcomment = sig.comment;\n\t\t\t}\n\t\t}\n\t} else {\n\t\taccess.canRead = true;\n\t\taccess.canWrite = true;\n\t\tcomment = property.comment;\n\t\ttypeString = typeToString(property.type);\n\t}\n\n\tconst text = `${property.name}: ${formatSignature(typeString!)}`;\n\tconst codeP = renderCode(text);\n\tif (!access.canRead) {\n\t\tconst code = codeP.childNodes[0];\n\t\tconst tag = h('span.tag.is-primary', {}, 'write only');\n\t\tcode.insertBefore(tag, code.firstChild);\n\t} else if (!access.canWrite) {\n\t\tconst code = codeP.childNodes[0];\n\t\tconst tag = h('span.tag.is-primary', {}, 'read only');\n\t\tcode.insertBefore(tag, code.firstChild);\n\t}\n\n\tpage.element.appendChild(codeP);\n\n\tif (comment) {\n\t\tpage.element.appendChild(\n\t\t\trenderComment(comment, getContainingModule(property), context)\n\t\t);\n\t}\n}\n\n/**\n * Render an exported function\n */\nfunction renderFunction(\n\tfunc: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { renderHeading, slugIndex, page } = context;\n\tconst heading = renderHeading(level, func, context);\n\tslugIndex[func.id] = heading.id;\n\n\trenderSignatures(func.signatures!, func, context);\n\n\tfor (const signature of func.signatures!) {\n\t\tif (hasComment(signature)) {\n\t\t\tpage.element.appendChild(\n\t\t\t\trenderComment(\n\t\t\t\t\tsignature.comment,\n\t\t\t\t\tgetContainingModule(func),\n\t\t\t\t\tcontext\n\t\t\t\t)\n\t\t\t);\n\t\t\tbreak;\n\t\t}\n\t}\n}\n\n/**\n * Render an array of function/method signatures\n */\nfunction renderSignatures(\n\tsignatures: SignatureReflection[],\n\tparent: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page } = context;\n\tfor (const sig of signatures) {\n\t\tconst text = signatureToString(sig);\n\t\tconst formatted = formatSignature(text);\n\t\tconst html = hljs.highlight('typescript', formatted, true).value;\n\t\tpage.element.appendChild(\n\t\t\th('pre', {}, [h('code.hljs.lang-typescript', { innerHTML: html })])\n\t\t);\n\t}\n\n\tconst parameters = signatures.reduce(\n\t\t(params, sig) => {\n\t\t\treturn params.concat(sig.parameters || []);\n\t\t},\n\t\t<ParameterReflection[]>[]\n\t);\n\tif (parameters.length > 0) {\n\t\trenderParameterTable(parameters, parent, context);\n\t}\n}\n\n/**\n * Render a table of signature parameters\n */\nfunction renderParameterTable(\n\tparameters: ParameterReflection[],\n\tparent: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page } = context;\n\tconst params = parameters.filter(param => {\n\t\treturn hasComment(param) || param.defaultValue;\n\t});\n\n\tif (params.length > 0) {\n\t\tconst rows = params.map(param => {\n\t\t\tlet comment: Element | undefined;\n\t\t\tif (hasComment(param)) {\n\t\t\t\tcomment = renderComment(\n\t\t\t\t\tparam.comment,\n\t\t\t\t\tgetContainingModule(parent),\n\t\t\t\t\tcontext\n\t\t\t\t);\n\t\t\t}\n\t\t\treturn [param.name, comment || '', param.defaultValue || ''];\n\t\t});\n\n\t\tconst header = ['Parameter', 'Description', 'Default'];\n\t\tif (!rows.some(row => Boolean(row[2]))) {\n\t\t\theader.pop();\n\t\t\trows.forEach(row => row.pop());\n\t\t}\n\n\t\tpage.element.appendChild(h('p', {}, [createTable(header, rows)]));\n\t}\n}\n\n/**\n * Render a literal value\n */\nfunction renderValue(\n\tvalue: DeclarationReflection,\n\tlevel: number,\n\tcontext: RenderContext\n) {\n\tconst { page, renderHeading, slugIndex } = context;\n\tconst heading = renderHeading(level, value, context);\n\tslugIndex[value.id] = heading.id;\n\n\tif (hasComment(value)) {\n\t\tpage.element.appendChild(renderComment(value.comment, value, context));\n\t}\n\n\tif (value.kindString === 'Object literal') {\n\t\tconst parts = value.children.map(child => {\n\t\t\tif (child.name) {\n\t\t\t\treturn `${child.name}: ${child.defaultValue}`;\n\t\t\t}\n\t\t\treturn child.defaultValue;\n\t\t});\n\t\tlet type = typeToString(value.type!);\n\t\tconst text = `${value.name}: ${type} = {\\n\\t${parts.join(',\\n\\t')}\\n}`;\n\t\tpage.element.appendChild(renderCode(text));\n\t}\n}\n\n/**\n * Render a declaration comment\n */\nfunction renderComment(\n\tcomment: Comment,\n\tmodule: ContainerReflection,\n\tcontext: RenderContext\n) {\n\tconst { page, linksToResolve } = context;\n\tconst element = h('p', { innerHTML: commentToHtml(comment, page.name) });\n\n\tconst links = <NodeListOf<HTMLAnchorElement>>element.querySelectorAll('a');\n\tfor (let i = 0; i < links.length; i++) {\n\t\tif (links[i].href.indexOf('api:') === 0) {\n\t\t\tconst link = links[i];\n\t\t\tconst name = link.href.slice('api:'.length);\n\t\t\tconst id = getReflectionIdForName(name, context, module);\n\t\t\tlinksToResolve.push({ link, id });\n\t\t}\n\t}\n\n\treturn element;\n}\n\n/**\n * Generate HTML for an API comment\n */\nfunction commentToHtml(comment: Comment, pageName: string) {\n\tlet parts: string[] = [];\n\n\tif (comment.shortText) {\n\t\tparts.push(renderText(comment.shortText, pageName));\n\t}\n\n\tif (comment.text) {\n\t\tparts.push(renderText(comment.text, pageName));\n\t}\n\n\tif (comment.returns) {\n\t\tconst returns =\n\t\t\tcomment.returns[0].toLowerCase() + comment.returns.slice(1);\n\t\tparts.push(renderText(`Returns ${returns}`, pageName));\n\t}\n\n\treturn parts.join('');\n}\n\n/**\n * Render comment text\n */\nfunction renderText(text: string, pageName: string) {\n\t// Fix jsdoc-style links\n\ttext = text.replace(/\\[\\[(.*?)(?:\\|(.*?))?]]/g, (_match, p1, p2) => {\n\t\tlet name = p2 || p1;\n\t\t// If the target name is dotted or slashed (e.g., Executor.Config) and\n\t\t// the user didn't provide a name, use the last element in the list as\n\t\t// the link text\n\t\tif (!p2 && (p1.indexOf('.') !== -1 || p1.indexOf('/') !== -1)) {\n\t\t\tconst lastDot = p1.lastIndexOf('.');\n\t\t\tconst lastSlash = p1.lastIndexOf('/');\n\t\t\tname = p1.slice(Math.max(lastDot, lastSlash) + 1);\n\t\t}\n\t\tif (/^https?:\\/\\//.test(p1)) {\n\t\t\t// p1 is an absolute address\n\t\t\treturn `[${name}](${p1})`;\n\t\t} else {\n\t\t\treturn `[${name}](api:${p1})`;\n\t\t}\n\t});\n\treturn renderMarkdown(text, {\n\t\tinfo: { page: pageName, type: DocType.api }\n\t});\n}\n\n/**\n * Render a syntax-highlighted block of code\n */\nfunction renderCode(text: string, language = 'typescript') {\n\tconst html = hljs\n\t\t.highlight(language, text, true)\n\t\t.value.replace(/\\n/g, '<br>')\n\t\t.replace(/\\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;');\n\treturn h('pre', {}, [h(`code.hljs.lang-${language}`, { innerHTML: html })]);\n}\n\n/**\n * Render a link to an element's source code\n */\nfunction createSourceLink(source: SourceReference, context: RenderContext) {\n\t// Don't try to create links for files with absolute paths\n\tif (source.fileName[0] === '/') {\n\t\treturn;\n\t}\n\n\tconst link = <HTMLElement>createGitHubLink(\n\t\t{\n\t\t\tproject: context.docSetId.project,\n\t\t\tversion: context.docSetId.version!\n\t\t},\n\t\t`src/${source.fileName}#L${source.line}`\n\t);\n\tlink.title = `${source.fileName}#L${source.line}`;\n\treturn <HTMLAnchorElement>link;\n}\n\n/**\n * Generate a string representation of a function/method signature\n */\nfunction signatureToString(\n\tsignature: SignatureReflection,\n\tisParameter = false\n): string {\n\tif (signature.name === '__index') {\n\t\tconst param = signature.parameters[0];\n\t\treturn `[${param.name}: ${typeToString(param.type)}]: ${typeToString(\n\t\t\tsignature.type\n\t\t)}`;\n\t} else {\n\t\tlet name = signature.name;\n\t\tif (name === '__call') {\n\t\t\tname = '';\n\t\t}\n\n\t\tlet text = `${name}`;\n\n\t\tif (isGenericReflection(signature)) {\n\t\t\tconst typeParams = signature.typeParameter\n\t\t\t\t.map(param => typeParameterToString(param))\n\t\t\t\t.join(', ');\n\t\t\ttext += `<${typeParams}>`;\n\t\t}\n\n\t\ttext += '(';\n\t\tif (signature.parameters) {\n\t\t\tconst params = signature.parameters.map(param => {\n\t\t\t\tconst optional = param.flags.isOptional ? '?' : '';\n\t\t\t\treturn `${param.name}${optional}: ${typeToString(param.type)}`;\n\t\t\t});\n\t\t\ttext += params.join(', ');\n\t\t}\n\n\t\ttext += `)`;\n\n\t\tif (signature.kindString !== 'Constructor signature') {\n\t\t\tconst sep = isParameter ? ' => ' : ': ';\n\t\t\ttext += `${sep}${typeToString(signature.type)}`;\n\t\t}\n\n\t\treturn text;\n\t}\n}\n\n/**\n * Generate a string representation of a type\n */\nfunction typeToString(type: Type): string {\n\tif (isStringLiteralType(type)) {\n\t\treturn `'${type.value}'`;\n\t} else if (isUnionType(type)) {\n\t\tconst strings = type.types!.map(typeToString);\n\t\treturn strings.join(' | ');\n\t} else if (isArrayType(type)) {\n\t\treturn `${typeToString(type.elementType!)}[]`;\n\t} else if (isReflectionType(type)) {\n\t\tconst d = type.declaration!;\n\t\tif (d.kindString === 'Type literal') {\n\t\t\tif (d.children) {\n\t\t\t\tconst parts = d.children.map((child: any) => {\n\t\t\t\t\treturn `${child.name}: ${typeToString(\n\t\t\t\t\t\tchild.type || child.kindString\n\t\t\t\t\t)}`;\n\t\t\t\t});\n\t\t\t\treturn `{ ${parts.join(', ')} }`;\n\t\t\t} else if (d.signatures) {\n\t\t\t\treturn signatureToString(d.signatures[0], true);\n\t\t\t} else if (d.name === '__type') {\n\t\t\t\treturn '{ ... }';\n\t\t\t}\n\t\t}\n\t} else if (isReferenceType(type)) {\n\t\tlet str = type.name!;\n\t\tif (type.typeArguments) {\n\t\t\tconst args = type.typeArguments.map((arg: any) => {\n\t\t\t\treturn typeToString(arg);\n\t\t\t});\n\t\t\tstr += `<${args.join(', ')}>`;\n\t\t}\n\t\treturn str;\n\t} else if (isIntrinsicType(type)) {\n\t\treturn type.name;\n\t} else if (isTypeParameterType(type)) {\n\t\tif (type.constraint) {\n\t\t\treturn `${type.name}<${typeToString(type.constraint)}>`;\n\t\t} else {\n\t\t\treturn type.name;\n\t\t}\n\t} else if (isUnknownType(type)) {\n\t\treturn type.name;\n\t}\n\n\treturn type.type;\n}\n\n/**\n * Indicate whether a value is a string literal\n */\nfunction isStringLiteralType(type: Type): type is StringLiteralType {\n\treturn type.type === 'stringLiteral';\n}\n\n/**\n * Indicate whether a value is a union\n */\nfunction isUnionType(type: Type): type is UnionType {\n\treturn type.type === 'union';\n}\n\n/**\n * Indicate whether a value is an array\n */\nfunction isArrayType(type: Type): type is ArrayType {\n\treturn type.type === 'array';\n}\n\n/**\n * Indicate whether a value is a reflection\n */\nfunction isReflectionType(type: Type): type is ReflectionType {\n\treturn type.type === 'reflection';\n}\n\n/**\n * Indicate whether a value is a reference type\n */\nfunction isReferenceType(type: Type): type is ReferenceType {\n\treturn type.type === 'reference';\n}\n\n/**\n * Indicate whether a value is an intrinsic type\n */\nfunction isIntrinsicType(type: Type): type is IntrinsicType {\n\treturn type.type === 'intrinsic';\n}\n\n/**\n * Indicate whether a value is a type parameter\n */\nfunction isTypeParameterType(type: Type): type is TypeParameterType {\n\treturn type.type === 'typeParameter';\n}\n\nfunction isUnknownType(type: Type): type is UnknownType {\n\treturn type.type === 'unknown';\n}\n\n// Render a type to a DOM node\nfunction renderType(type: any, context: RenderContext): HTMLElement {\n\tif (type.type === 'stringLiteral') {\n\t\treturn h('span.type-literal', {}, type.value);\n\t} else if (type.type === 'union') {\n\t\treturn h('span.type-union', {}, type.types!.map(renderType));\n\t} else if (type.type === 'array') {\n\t\tconst node = renderType(type.elementType!, context);\n\t\tnode.classList.add('type-array');\n\t\treturn node;\n\t} else if (type.type === 'reflection') {\n\t\tconst d = type.declaration!;\n\t\tif (d.kindString === 'Type literal') {\n\t\t\tif (d.children) {\n\t\t\t\tconst parts = d.children.map((child: any) => {\n\t\t\t\t\tconst typeNode = renderType(child.type, context);\n\t\t\t\t\treturn h('span', {}, [\n\t\t\t\t\t\th('span.type-label', {}, child.name),\n\t\t\t\t\t\ttypeNode\n\t\t\t\t\t]);\n\t\t\t\t});\n\n\t\t\t\treturn h('span.type-list', {}, parts);\n\t\t\t} else if (d.signatures) {\n\t\t\t\treturn h('span.type-signature', {\n\t\t\t\t\tinnerHTML: signatureToString(d.signatures[0], true)\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tconst returnType = h('span');\n\tif (type.type === 'reference' && type.id != null) {\n\t\tconst link = h('a', {}, type.name);\n\t\treturnType.appendChild(link);\n\n\t\t// Push this link onto the list to be resolved later, once all the\n\t\t// slugs have been generated\n\t\tcontext.linksToResolve.push({\n\t\t\tlink,\n\t\t\tid: type.id\n\t\t});\n\t} else {\n\t\treturnType.appendChild(document.createTextNode(type.name));\n\t}\n\n\tif (type.typeArguments) {\n\t\tconst args = type.typeArguments.map((arg: any) => {\n\t\t\treturn renderType(arg, context);\n\t\t});\n\t\treturnType.appendChild(h('span.type-list.type-arg', {}, args));\n\t}\n\n\treturn returnType;\n}\n\n/**\n * Find the module that contains a given declaration ID\n */\nfunction findModule(id: number, index: ApiIndex) {\n\tlet declaration = <Reflection>index[id];\n\twhile (declaration && declaration.kindString !== 'External module') {\n\t\tdeclaration = declaration.parent;\n\t}\n\treturn declaration;\n}\n\n/**\n * Get all the exported, public members from an API item. Members\n * prefixed by '_' and those inherited from external sources are currently\n * excluded.\n */\nfunction getExports(reflection: ContainerReflection) {\n\tif (!reflection.children) {\n\t\treturn [];\n\t}\n\tconst exports: DeclarationReflection[] = [];\n\tfor (let child of reflection.children) {\n\t\tif (child.name === '_global') {\n\t\t\texports.push(child);\n\t\t}\n\t\tif (child.flags.isExported) {\n\t\t\tconst source = child.sources[0].fileName;\n\t\t\t// Don't include private (by convention) members\n\t\t\tif (!/^_/.test(child.name) && !/node_modules\\//.test(source)) {\n\t\t\t\texports.push(child);\n\t\t\t}\n\t\t}\n\t}\n\treturn exports;\n}\n\n// Create a heading element at a given level, including an anchor ID.\nfunction getHeadingRenderer(slugify: Slugifier) {\n\treturn (\n\t\tlevel: number,\n\t\tcontent: Reflection | string,\n\t\tcontext: RenderContext\n\t) => {\n\t\tconst classes: string[] = [];\n\n\t\tlet type: string | undefined;\n\t\tif (typeof content !== 'string') {\n\t\t\ttype = content.kindString;\n\t\t} else if (content === 'Call signatures') {\n\t\t\ttype = 'Function';\n\t\t}\n\n\t\tif (type) {\n\t\t\tclasses.push('is-type');\n\t\t}\n\n\t\tif (type === 'Method' || type === 'Function') {\n\t\t\tclasses.push('is-type-callable');\n\t\t} else if (type === 'Property' || type === 'Accessor') {\n\t\t\tclasses.push('is-type-property');\n\t\t} else if (type === 'Constructor') {\n\t\t\tclasses.push('is-type-constructor');\n\t\t} else if (type === 'Class') {\n\t\t\tclasses.push('is-type-class');\n\t\t} else if (type === 'Interface') {\n\t\t\tclasses.push('is-type-interface');\n\t\t} else if (type === 'Object literal') {\n\t\t\tclasses.push('is-type-value');\n\t\t}\n\n\t\tconst text =\n\t\t\ttypeof content === 'string'\n\t\t\t\t? content\n\t\t\t\t: // Module names are surrounded by '\"'\n\t\t\t\t\tcontent.name.replace(/^\"|\"$/g, '');\n\t\tconst className = classes.join(' ');\n\t\tconst heading = <HTMLElement>h(\n\t\t\t`h${level}`,\n\t\t\t{ className, id: slugify(text) },\n\t\t\ttext\n\t\t);\n\n\t\tlet sourceLink: HTMLAnchorElement | undefined;\n\t\tif (typeof content !== 'string' && content.sources) {\n\t\t\tsourceLink = createSourceLink(content.sources[0], context);\n\t\t}\n\n\t\tif (sourceLink) {\n\t\t\tconst icons = addHeadingIcons(heading);\n\t\t\ticons.appendChild(sourceLink);\n\t\t}\n\n\t\tcontext.page.element.appendChild(heading);\n\n\t\treturn heading;\n\t};\n}\n\n// Create a DOM table\nfunction createTable(headings: string[], rows: (string | Element)[][]) {\n\treturn h('table.table.is-bordered', {}, [\n\t\th('thead', {}, [\n\t\t\th('tr', {}, [headings.map(heading => h('th', {}, heading))])\n\t\t]),\n\t\th(\n\t\t\t'tbody',\n\t\t\t{},\n\t\t\trows.map(row =>\n\t\t\t\th(\n\t\t\t\t\t'tr',\n\t\t\t\t\t{},\n\t\t\t\t\trow.map(content => {\n\t\t\t\t\t\tif (typeof content === 'string') {\n\t\t\t\t\t\t\treturn h('td', { innerHTML: content });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn h('td', {}, content);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t)\n\t\t\t)\n\t\t)\n\t]);\n}\n\n/**\n * Indicate whether a reflection has a comment element wiht content\n */\nfunction hasComment(reflection: Reflection) {\n\tconst comment = reflection.comment;\n\treturn comment && (comment.text || comment.shortText);\n}\n\n/**\n * Create an index of TypeDoc declaration IDs to data structures. This function\n * also creates parent relationships.\n */\nfunction createApiIndex(data: ProjectReflection) {\n\tconst index: ApiIndex = {};\n\tfor (const child of data.children) {\n\t\tchild.parent = data;\n\t\twalkTree(child);\n\t}\n\treturn index;\n\n\tfunction walkTree(data: DeclarationReflection) {\n\t\tindex[data.id] = data;\n\t\tif (data.children) {\n\t\t\tfor (const child of data.children) {\n\t\t\t\tchild.parent = data;\n\t\t\t\twalkTree(child);\n\t\t\t}\n\t\t}\n\t}\n}\n\n/**\n * Sorter function for sorting API reflections\n */\nfunction nameSorter(a: Reflection, b: Reflection) {\n\tif (a.name < b.name) {\n\t\treturn -1;\n\t}\n\tif (a.name > b.name) {\n\t\treturn 1;\n\t}\n\treturn 0;\n}\n\n/**\n * Format a TypeScript class or interface declaration.\n *\n * This is an extremely simple format function whose goal is to keep\n * declaration lines from being too long.\n */\nfunction formatDeclaration(text: string) {\n\tif (text.length <= preferredSignatureWidth) {\n\t\treturn text;\n\t}\n\n\treturn formatSignature(text);\n}\n\n/**\n * Format a TypeScript method signature.\n *\n * This is an extremely simple format function whose goal is to keep\n * declaration lines from being too long.\n */\nfunction formatSignature(text: string) {\n\tif (text.length <= preferredSignatureWidth) {\n\t\treturn text;\n\t}\n\n\tlet output = [text];\n\tlet input: string[] = [];\n\tlet changed = true;\n\n\twhile (\n\t\toutput.some(line => line.length > preferredSignatureWidth) &&\n\t\tchanged\n\t) {\n\t\tinput = output;\n\t\toutput = [];\n\t\tchanged = false;\n\n\t\twhile (input.length > 0) {\n\t\t\tconst text = input.shift()!;\n\t\t\tif (text.length <= preferredSignatureWidth) {\n\t\t\t\toutput.push(text);\n\t\t\t} else {\n\t\t\t\tconst range = findSplitCandidate(text);\n\t\t\t\tif (range) {\n\t\t\t\t\tconst indent = getIndent(text);\n\t\t\t\t\toutput.push(text.slice(0, range[0]));\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\t...splitList(text, range[0], range[1]).map(line => {\n\t\t\t\t\t\t\treturn `${indent}    ${line}`;\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\t\t\t\t\toutput.push(`${indent}${text.slice(range[1])}`);\n\t\t\t\t\tchanged = true;\n\t\t\t\t} else {\n\t\t\t\t\toutput.push(text);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join('\\n');\n}\n\n/**\n * Find the best group expression to split in a given line of code\n */\nfunction findSplitCandidate(text: string) {\n\tlet width = 0;\n\tlet best: number[] | undefined;\n\tlet hasGroups = true;\n\n\tfor (let i = 0; i < text.length; i++) {\n\t\tconst char = text[i];\n\t\tlet end = i;\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tend = findGroupEnd(text, i + 1);\n\t\t}\n\t\tif (end > i) {\n\t\t\thasGroups = true;\n\t\t\tif (canSplit(text, i + 1, end)) {\n\t\t\t\tif (!best || end - i > width) {\n\t\t\t\t\tif (text[i + 1] === ' ') {\n\t\t\t\t\t\t// There are spaces around the expression, like { foo }\n\t\t\t\t\t\tbest = [i + 2, end - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbest = [i + 1, end];\n\t\t\t\t\t}\n\t\t\t\t\twidth = end - i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!best && hasGroups) {\n\t\t// There wasn't a list to split, so split the longest group\n\t\tfor (let i = 0; i < text.length; i++) {\n\t\t\tconst char = text[i];\n\t\t\tlet end = i;\n\t\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\t\tend = findGroupEnd(text, i + 1);\n\t\t\t}\n\t\t\tif (end > i) {\n\t\t\t\tif (!best || end - i > width) {\n\t\t\t\t\tif (text[i + 1] === ' ') {\n\t\t\t\t\t\t// There are spaces around the expression, like { foo }\n\t\t\t\t\t\tbest = [i + 2, end - 1];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbest = [i + 1, end];\n\t\t\t\t\t}\n\t\t\t\t\twidth = end - i;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\treturn best;\n}\n\n/**\n * Find the end of a group expression\n */\nfunction findGroupEnd(text: string, start: number) {\n\tlet depth = 1;\n\tfor (let i = start; i < text.length; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t}\n\t\tif (depth === 0) {\n\t\t\treturn i;\n\t\t}\n\t}\n\treturn -1;\n}\n\n/**\n * Return true if the given segment be split as an expression list\n */\nfunction canSplit(text: string, start: number, end: number) {\n\tlet depth = 0;\n\tfor (let i = start; i < end; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t} else if (char === ',' && depth === 0) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n}\n\n/**\n * Split a list of TS expressions\n */\nfunction splitList(text: string, start: number, end: number) {\n\tlet depth = 0;\n\tlet partStart = start;\n\tconst parts: string[] = [];\n\tfor (let i = start; i < end; i++) {\n\t\tconst char = text[i];\n\t\tif (char === '(' || char === '{' || char === '<') {\n\t\t\tdepth++;\n\t\t} else if (\n\t\t\tchar === ')' ||\n\t\t\tchar === '}' ||\n\t\t\t(char === '>' && text[i - 1] !== '=')\n\t\t) {\n\t\t\tdepth--;\n\t\t} else if (char === ',' && depth === 0) {\n\t\t\tparts.push(text.slice(partStart, i + 1));\n\t\t\tpartStart = i + 2;\n\t\t}\n\t}\n\tparts.push(text.slice(partStart, end));\n\treturn parts;\n}\n\n/**\n * Get the initial blank space at the start of a string\n */\nfunction getIndent(text: string) {\n\tconst textStart = text.search(/\\S/);\n\tif (textStart !== -1) {\n\t\treturn text.slice(0, textStart);\n\t}\n\treturn '';\n}\n\ntype ApiIndex = { [key: number]: DeclarationReflection };\ntype SlugIndex = { [key: number]: string };\n\ninterface HeadingRenderer {\n\t(\n\t\tlevel: number,\n\t\tcontent: Reflection | string,\n\t\tcontext: RenderContext\n\t): HTMLElement;\n}\n\ninterface NameRefs {\n\t[key: string]: number;\n}\n\ninterface RenderContext {\n\tpage: DocPage;\n\trenderHeading: HeadingRenderer;\n\tapiIndex: ApiIndex;\n\tslugIndex: SlugIndex;\n\tapi: ProjectReflection;\n\tdocSetId: DocSetId;\n\tlinksToResolve: { link: HTMLAnchorElement; id: number }[];\n\tnameRefs: NameRefs;\n}\n\nenum Relationship {\n\tExtends = 'Extends',\n\tInherited = 'Inherited from'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/render_api.ts","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// html-element (ignored)\n// module id = 31\n// module chunks = 0","import { DocSetId, DocType, PageId, isValidPageId } from './docs';\n\n/**\n * Create a link hash for a given docset\n *\n * The hash has the following format:\n *\n *     <project>/<version>/<type>/<page>/<section>\n */\nexport function createHash(id: (DocSetId & { type: DocType }) | PageId) {\n\tconst parts = [id.project, id.version, id.type];\n\tif (isValidPageId(id)) {\n\t\tparts.push(id.page);\n\t\tif (id.section) {\n\t\t\tparts.push(id.section);\n\t\t}\n\t}\n\treturn '#' + parts.map(encodeURIComponent).join('/');\n}\n\n/**\n * Parse the hash into a DocId\n */\nexport function parseHash() {\n\tconst hash = location.hash.slice(1);\n\tlet [project, version, type, page, section] = hash\n\t\t.split('/')\n\t\t.map(part => decodeURIComponent(part));\n\treturn <PageId>{ project, version, type, page, section };\n}\n\n/**\n * Push a new URL onto the history stack.\n *\n * By default this function replaces the current URL. Set `push` to true to\n * push the new URL onto the stack instead.\n */\nexport function updateHash(\n\tnewHash: string | PageId | (DocSetId & { type: DocType }),\n\tevent = HashEvent.nav\n) {\n\tlet hash = typeof newHash === 'string' ? newHash : createHash(newHash);\n\tif (location.hash === hash) {\n\t\treturn;\n\t}\n\n\tconst state = { event };\n\n\tif (event === HashEvent.rename) {\n\t\thistory.replaceState(state, '', hash);\n\t} else if (\n\t\tevent === HashEvent.nav ||\n\t\t(!history.state || history.state.event !== event)\n\t) {\n\t\thistory.pushState(state, '', hash);\n\t} else {\n\t\thistory.replaceState(state, '', hash);\n\t}\n}\n\nexport enum HashEvent {\n\t// nav actions like norml navigation -- a new entry is pushed onto the\n\t// stack\n\tnav = 'nav',\n\n\t// rename replaces the top entry on the stack\n\trename = 'rename',\n\n\t// scroll initially pushes, then replaces as long as scroll updates are\n\t// received\n\tscroll = 'scroll'\n}\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/hash.ts","import * as MarkdownIt from 'markdown-it';\nimport * as hljs from 'highlight.js';\nimport * as h from 'hyperscript';\n\nimport {\n\tPageId,\n\tDocSetId,\n\tDocType,\n\tgetDocSet,\n\tgetCurrentDocSetId,\n\tgetProjectUrl\n} from './docs';\nimport { createHash } from './hash';\n\nhljs.registerLanguage(\n\t'html',\n\trequire('highlight.js/lib/languages/xml')\n);\nhljs.registerLanguage(\n\t'nginx',\n\trequire('highlight.js/lib/languages/nginx')\n);\nhljs.registerLanguage(\n\t'javascript',\n\trequire('highlight.js/lib/languages/javascript')\n);\nhljs.registerLanguage(\n\t'typescript',\n\trequire('highlight.js/lib/languages/typescript')\n);\n\nexport interface Slugifier {\n\t(url: string): string;\n}\n\n/**\n * Create a link to a page's source on GitHub\n */\nexport function createGitHubLink(id: DocSetId, page: string) {\n\tconst docSet = getDocSet(id);\n\tconst url = getProjectUrl(id.project);\n\treturn h('a.source-link', {\n\t\ttitle: 'View page source',\n\t\thref: `${url}/blob/${docSet.branch}/${page}`\n\t});\n}\n\n/**\n * Create a link item for a menu\n */\nexport function createLinkItem(content: Element | string, id: PageId) {\n\tlet text: string;\n\tlet classes: string[] = [];\n\tif (typeof content === 'string') {\n\t\ttext = content;\n\t} else {\n\t\ttext = content.textContent!;\n\t\tfor (let i = 0; i < content.classList.length; i++) {\n\t\t\tclasses.push(content.classList[i]);\n\t\t}\n\t}\n\treturn h(\n\t\t'li',\n\t\t{},\n\t\th(\n\t\t\t'a',\n\t\t\t{\n\t\t\t\thref: createHash(id),\n\t\t\t\ttitle: text,\n\t\t\t\tclassName: classes.join(' ')\n\t\t\t},\n\t\t\th('span', {}, text)\n\t\t)\n\t);\n}\n\n/**\n * Setup an HTML heading to support icons\n */\nexport function addHeadingIcons(heading: Element) {\n\tconst existing = heading.querySelector('.heading-icons');\n\tif (existing != null) {\n\t\treturn existing.childNodes[1];\n\t}\n\n\tconst container = h('span.heading-icons', {}, [h('span'), h('span')]);\n\tconst icons = container.childNodes[1];\n\n\tconst content = heading.textContent!;\n\theading.textContent = '';\n\theading.appendChild(document.createTextNode(content));\n\theading.appendChild(container);\n\theading.classList.add('has-heading-icons');\n\n\treturn icons;\n}\n\n/**\n * Create a function to generate URL slugs for a page.\n */\nexport function createSlugifier() {\n\tconst cache: { [slug: string]: boolean } = Object.create(null);\n\treturn (str: string) => {\n\t\tlet slug = str\n\t\t\t.toLowerCase()\n\t\t\t.replace(/[^A-Za-z0-9_ ]/g, '')\n\t\t\t.replace(/\\s+/g, '-');\n\t\tif (cache[slug]) {\n\t\t\tlet i = 1;\n\t\t\tlet next = `${slug}-${i}`;\n\t\t\twhile (cache[next]) {\n\t\t\t\ti++;\n\t\t\t\tnext = `${slug}-${i}`;\n\t\t\t}\n\t\t\tslug = next;\n\t\t}\n\t\tcache[slug] = true;\n\t\treturn slug;\n\t};\n}\n\n/**\n * Render markdown into HTML. Lazily initialize the markdown renderer.\n */\nexport function renderMarkdown(text: string, context: Partial<RenderContext>) {\n\tif (!markdown) {\n\t\tmarkdown = new MarkdownIt({\n\t\t\t// Customize the syntax highlighting process\n\t\t\thighlight: (str: string, lang: string) => {\n\t\t\t\tif (lang && hljs.getLanguage(lang)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t'<pre><code class=\"hljs language-' +\n\t\t\t\t\t\t\tlang +\n\t\t\t\t\t\t\t'\">' +\n\t\t\t\t\t\t\thljs.highlight(lang, str, true).value +\n\t\t\t\t\t\t\t'</code></pre>'\n\t\t\t\t\t\t);\n\t\t\t\t\t} catch (error) {\n\t\t\t\t\t\tconsole.error(error);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn '<pre><code class=\"hljs\">' + str + '</code></pre>';\n\t\t\t},\n\n\t\t\t// allow HTML in markdown to pass through\n\t\t\thtml: true\n\t\t});\n\n\t\t// Add 'table' class to tables\n\t\tmarkdown.renderer.rules.table_open = () => {\n\t\t\treturn '<table class=\"table is-bordered\">';\n\t\t};\n\n\t\tmarkdown.renderer.rules.thead_open = (tokens: any[], idx: number) => {\n\t\t\tlet i = idx + 2;\n\t\t\tlet token = tokens[i];\n\t\t\tlet empty = true;\n\t\t\twhile (token && token.type !== 'tr_close') {\n\t\t\t\tlet token2 = tokens[i + 2];\n\t\t\t\tif (\n\t\t\t\t\ttoken.type !== 'th_open' ||\n\t\t\t\t\t!token2 ||\n\t\t\t\t\ttoken2.type !== 'th_close'\n\t\t\t\t) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tlet token1 = tokens[i + 1];\n\t\t\t\tif (token1.type !== 'inline' || token1.children.length > 0) {\n\t\t\t\t\tempty = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\ti += 3;\n\t\t\t\ttoken = tokens[i];\n\t\t\t}\n\t\t\treturn `<thead${empty ? ' class=\"is-hidden\"' : ''}>`;\n\t\t};\n\n\t\t// Style blockquotes that are used for warning or info asides\n\t\tmarkdown.renderer.rules.blockquote_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number\n\t\t) => {\n\t\t\t// Get the token representing the first chunk of the block\n\t\t\t// quote\n\t\t\tconst token = tokens[idx + 2].children[0];\n\n\t\t\tconst warning = '';\n\t\t\tconst info = '';\n\t\t\tconst deprecated = '';\n\n\t\t\tif (token.content.indexOf(warning) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(warning, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"warning\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-warning\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t} else if (token.content.indexOf(info) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(info, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"info\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-lightbulb-o\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t} else if (token.content.indexOf(deprecated) === 0) {\n\t\t\t\ttoken.content = token.content\n\t\t\t\t\t.replace(deprecated, '')\n\t\t\t\t\t.replace(/^\\s*/, '');\n\t\t\t\treturn (\n\t\t\t\t\t'<blockquote class=\"deprecated\"><div>' +\n\t\t\t\t\t'<span class=\"fa fa-thumbs-o-down\" aria-hidden=\"true\">' +\n\t\t\t\t\t'</span></div>'\n\t\t\t\t);\n\t\t\t}\n\n\t\t\treturn '<blockquote>';\n\t\t};\n\n\t\t// Update relative links to markdown files\n\t\tconst defaultLinkRender =\n\t\t\tmarkdown.renderer.rules.link_open ||\n\t\t\t((\n\t\t\t\ttokens: any[],\n\t\t\t\tidx: number,\n\t\t\t\toptions: any,\n\t\t\t\t_env: RenderContext,\n\t\t\t\tself: any\n\t\t\t) => {\n\t\t\t\treturn self.renderToken(tokens, idx, options);\n\t\t\t});\n\t\tmarkdown.renderer.rules.link_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number,\n\t\t\toptions: any,\n\t\t\tenv: RenderContext,\n\t\t\tself: any\n\t\t) => {\n\t\t\tconst hrefIdx = tokens[idx].attrIndex('href');\n\t\t\tconst hrefToken = tokens[idx].attrs[hrefIdx];\n\t\t\tconst [file, hash] = hrefToken[1].split('#');\n\t\t\tconst docSetId = getCurrentDocSetId();\n\t\t\tconst { page, type } = env.info;\n\n\t\t\tif (!file) {\n\t\t\t\t// This is an in-page anchor link\n\t\t\t\threfToken[1] = createHash({\n\t\t\t\t\tpage,\n\t\t\t\t\ttype,\n\t\t\t\t\tsection: hash,\n\t\t\t\t\t...docSetId\n\t\t\t\t});\n\t\t\t} else if (!/\\/\\//.test(file)) {\n\t\t\t\t// Ignore api: links; these will be fixed up by the API\n\t\t\t\t// renderer later\n\t\t\t\tif (type !== 'api' || file.indexOf('api:') !== 0) {\n\t\t\t\t\tif (/\\.md$/.test(file)) {\n\t\t\t\t\t\t// This is a link to a markdown file -- make a\n\t\t\t\t\t\t// page-relative link\n\t\t\t\t\t\tconst cleanFile = file.replace(/^\\.\\//, '');\n\t\t\t\t\t\tlet pageBase = '';\n\t\t\t\t\t\tif (page.indexOf('/') !== -1) {\n\t\t\t\t\t\t\tpageBase = page.slice(0, page.lastIndexOf('/') + 1);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\threfToken[1] = createHash({\n\t\t\t\t\t\t\tpage: pageBase + cleanFile,\n\t\t\t\t\t\t\tsection: hash,\n\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t...docSetId\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// This is a link to some other local resource -- make a\n\t\t\t\t\t\t// repo link\n\t\t\t\t\t\threfToken[1] = createGitHubLink(docSetId, file);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn defaultLinkRender(tokens, idx, options, env, self);\n\t\t};\n\n\t\t// Generating heading IDs for in-page links\n\t\tmarkdown.renderer.rules.heading_open = (\n\t\t\ttokens: any[],\n\t\t\tidx: number,\n\t\t\t_options: any,\n\t\t\tenv: RenderContext\n\t\t) => {\n\t\t\tconst token = tokens[idx];\n\t\t\tconst content = tokens[idx + 1].content;\n\t\t\tconst id = env.slugify(content);\n\t\t\treturn `<${token.tag} id=\"${id}\">`;\n\t\t};\n\t}\n\n\tif (!context.slugify) {\n\t\tcontext.slugify = context.slugify || createSlugifier();\n\t}\n\n\treturn markdown.render(text, context);\n}\n\n/**\n * Create the sidebar menu for a docset\n */\nexport function renderMenu(id: DocSetId, type: DocType, maxDepth = 3) {\n\tconst docSet = getDocSet(id);\n\tconst pageNames = type === 'api' ? docSet.apiPages! : docSet.pages;\n\tconst cache = type === 'api' ? docSet.apiCache! : docSet.pageCache!;\n\tconst menu = h('ul.menu-list', { menuDepth: maxDepth });\n\n\tfor (let pageName of pageNames) {\n\t\tconst page = cache[pageName];\n\t\tlet root: MenuNode;\n\t\ttry {\n\t\t\troot = createNode(page.element.querySelector('h1')!);\n\t\t} catch (error) {\n\t\t\troot = {\n\t\t\t\tlevel: 1,\n\t\t\t\telement: h('li'),\n\t\t\t\tchildren: []\n\t\t\t};\n\t\t}\n\n\t\tconst headingTags = [];\n\t\tfor (let i = 2; i <= maxDepth; i++) {\n\t\t\theadingTags.push(`h${i}`);\n\t\t}\n\n\t\tconst headings = page.element.querySelectorAll(headingTags.join(','))!;\n\t\tconst stack: MenuNode[][] = <MenuNode[][]>[[root]];\n\t\tlet children: MenuNode[];\n\n\t\tfor (let i = 0; i < headings.length; i++) {\n\t\t\tlet heading = headings[i];\n\t\t\tlet newNode = createNode(heading);\n\t\t\tlet level = newNode.level;\n\n\t\t\tif (level === stack[0][0].level) {\n\t\t\t\tstack[0].unshift(newNode);\n\t\t\t} else if (level > stack[0][0].level) {\n\t\t\t\tstack.unshift([newNode]);\n\t\t\t} else {\n\t\t\t\twhile (stack[0][0].level > level) {\n\t\t\t\t\tchildren = stack.shift()!.reverse();\n\t\t\t\t\tstack[0][0].children = children;\n\t\t\t\t}\n\t\t\t\tif (level === stack[0][0].level) {\n\t\t\t\t\tstack[0].unshift(newNode);\n\t\t\t\t} else {\n\t\t\t\t\tstack.unshift([newNode]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\twhile (stack.length > 1) {\n\t\t\tchildren = stack.shift()!.reverse();\n\t\t\tstack[0][0].children = children;\n\t\t}\n\n\t\tconst { project, version } = id;\n\t\tconst pageId = { project, version, page: pageName, type };\n\t\tconst li = createLinkItem(page.title, pageId);\n\n\t\tif (root.children.length > 0) {\n\t\t\tli.appendChild(renderSubMenu(root.children, pageId));\n\t\t}\n\n\t\tmenu.appendChild(li);\n\t}\n\n\treturn menu;\n}\n\n/**\n * Render a doc page\n */\nexport function renderDocPage(text: string, pageName: string, id: DocSetId) {\n\ttext = filterGhContent(text);\n\tconst html = renderMarkdown(text, {\n\t\tinfo: { page: pageName, type: DocType.docs }\n\t});\n\tconst element = h('div', { innerHTML: html });\n\n\tconst h1 = element.querySelector('h1')!;\n\tconst icons = addHeadingIcons(h1);\n\tconst link = createGitHubLink(id, pageName);\n\tlink.classList.add('edit-page');\n\ticons.appendChild(link);\n\telement.insertBefore(h1, element.firstChild);\n\n\treturn element;\n}\n\n/**\n * Create a nested submenu\n */\nfunction renderSubMenu(children: MenuNode[], pageId: PageId) {\n\tconst ul = h('ul');\n\n\tfor (let child of children) {\n\t\tconst heading = child.element;\n\t\tconst li = createLinkItem(heading, {\n\t\t\t...pageId,\n\t\t\tsection: heading.id\n\t\t});\n\t\tif (child.children.length > 0) {\n\t\t\tli.appendChild(renderSubMenu(child.children, pageId));\n\t\t}\n\t\tul.appendChild(li);\n\t}\n\n\treturn ul;\n}\n\n/**\n * Create a menu node\n */\nfunction createNode(heading: Element) {\n\tconst level = parseInt(heading.tagName.slice(1), 10);\n\treturn { level, element: heading, children: <MenuNode[]>[] };\n}\n\n/**\n * Remove content that may be in the raw GH pages documents but shouldn't be\n */\nfunction filterGhContent(text: string) {\n\t// This would be simpler with regular expressions, but that makes IE10\n\t// sad.\n\tconst markers = [\n\t\t['<!-- vim-markdown-toc GFM -->', '<!-- vim-markdown-toc -->'],\n\t\t['<!-- start-github-only -->', '<!-- end-github-only -->']\n\t];\n\treturn markers.reduce((text, marker) => {\n\t\tconst chunks = [];\n\t\tlet start = 0;\n\t\tlet left = text.indexOf(marker[0]);\n\t\tlet right = 0;\n\t\twhile (left !== -1) {\n\t\t\tchunks.push(text.slice(start, left));\n\t\t\tright = text.indexOf(marker[1], left);\n\t\t\tif (right === -1) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tstart = right + marker[1].length;\n\t\t\tleft = text.indexOf(marker[0], start);\n\t\t}\n\t\tif (right !== -1) {\n\t\t\tchunks.push(text.slice(start));\n\t\t}\n\t\treturn chunks.join('');\n\t}, text);\n}\n\nlet markdown: MarkdownIt.MarkdownIt;\n\ninterface MenuNode {\n\tlevel: number;\n\telement: Element;\n\tchildren: MenuNode[];\n}\n\ninterface RenderContext {\n\tinfo: { page: string; type: DocType };\n\tslugify: Slugifier;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/render.ts","import * as h from 'hyperscript';\nimport * as Mark from 'mark.js';\n\nimport { DocType, getDocSet, getCurrentDocSetId } from './docs';\nimport { createLinkItem } from './render';\n\nconst maxSnippetLength = 60;\nconst minSearchTermLength = 4;\n\n/**\n * Search the loaded docset for a given string. Update the search results\n * box with the results.\n */\nexport default function search(\n\tterm: string,\n\tdocType: DocType,\n\tresults: Element | string\n) {\n\tconst searchResults =\n\t\ttypeof results === 'string'\n\t\t\t? document.querySelector(results)!\n\t\t\t: results;\n\tsearchResults.innerHTML = '';\n\n\tconst highlightTerm = term.trim();\n\tconst searchTerm = highlightTerm.toLowerCase();\n\n\tif (searchTerm && searchTerm.length < minSearchTermLength) {\n\t\treturn;\n\t}\n\n\tconst docSetId = getCurrentDocSetId();\n\tconst docs = getDocSet(docSetId);\n\tconst pages = docType === 'api' ? docs.apiPages! : docs.pages;\n\tconst cache = docType === 'api' ? docs.apiCache! : docs.pageCache!;\n\tconst finders: PromiseLike<any>[] = [];\n\n\tfor (let name of pages) {\n\t\tconst page = cache[name];\n\t\tfinders.push(\n\t\t\tfindAllMatches(searchTerm, page.element).then(matches => {\n\t\t\t\tif (matches.length > 0) {\n\t\t\t\t\tconst link = createLinkItem(page.title, {\n\t\t\t\t\t\tpage: name,\n\t\t\t\t\t\ttype: docType,\n\t\t\t\t\t\t...docSetId\n\t\t\t\t\t});\n\n\t\t\t\t\tconst submenu = h(\n\t\t\t\t\t\t'ul',\n\t\t\t\t\t\t{},\n\t\t\t\t\t\tmatches.map(match => {\n\t\t\t\t\t\t\treturn createLinkItem(match.snippet, {\n\t\t\t\t\t\t\t\ttype: docType,\n\t\t\t\t\t\t\t\tpage: name,\n\t\t\t\t\t\t\t\tsection: match.section,\n\t\t\t\t\t\t\t\t...docSetId\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t})\n\t\t\t\t\t);\n\n\t\t\t\t\tlink.appendChild(submenu);\n\t\t\t\t\tsearchResults.appendChild(link);\n\t\t\t\t}\n\t\t\t})\n\t\t);\n\t}\n\n\tPromise.all(finders).then(() => {\n\t\tif (searchResults.childNodes.length === 0) {\n\t\t\tif (searchTerm) {\n\t\t\t\tsearchResults.innerHTML =\n\t\t\t\t\t'<li class=\"no-results\">No results found</li>';\n\t\t\t}\n\t\t} else {\n\t\t\t// Run the finder over the search results to make the searched\n\t\t\t// word easier to see.\n\t\t\tfindAllMatches(searchTerm, searchResults, false);\n\t\t}\n\t});\n}\n\n/**\n * Find all the matches for the user's text\n */\nfunction findAllMatches(\n\tsearchTerm: string,\n\tpage: Element,\n\tsaveMatches = true\n): Promise<SearchResult[]> {\n\treturn new Promise(resolve => {\n\t\tconst highlighter = new Mark(page);\n\t\thighlighter.unmark();\n\n\t\tconst matches: SearchResult[] = [];\n\t\thighlighter.mark(searchTerm, {\n\t\t\tacrossElements: true,\n\t\t\tcaseSensitive: false,\n\t\t\tignorePunctuation: ['', '', '', ''],\n\t\t\tseparateWordSearch: false,\n\t\t\teach: (element: Element) => {\n\t\t\t\tif (saveMatches) {\n\t\t\t\t\telement.id = `search-result-${matches.length}`;\n\t\t\t\t\tmatches.push({\n\t\t\t\t\t\telement,\n\t\t\t\t\t\tsection: element.id,\n\t\t\t\t\t\tsnippet: createSnippet(element)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t},\n\t\t\tdone: () => {\n\t\t\t\tresolve(matches);\n\t\t\t}\n\t\t});\n\t});\n}\n\n/**\n * Get some text surrounding a search match\n */\nfunction createSnippet(searchMatch: Element) {\n\tconst searchText = searchMatch.textContent!;\n\tconst container = getContainer(searchMatch);\n\tconst extraLength = maxSnippetLength - searchText.length;\n\n\tconst previousSibling = (node: HTMLElement) => node.previousSibling;\n\tlet previousText = '';\n\tlet previous = getNextTextNode(searchMatch, previousSibling, getRightLeaf);\n\twhile (previous && previousText.length < extraLength) {\n\t\tpreviousText = previous.textContent! + previousText;\n\t\tprevious = getNextTextNode(previous, previousSibling, getRightLeaf)!;\n\t}\n\n\tconst nextSibling = (node: HTMLElement) => node.nextSibling;\n\tlet nextText = '';\n\tlet next = getNextTextNode(searchMatch, nextSibling, getLeftLeaf);\n\twhile (next && nextText.length < extraLength) {\n\t\tnextText += next.textContent!;\n\t\tnext = getNextTextNode(next, nextSibling, getLeftLeaf);\n\t}\n\n\tconst halfExtra = extraLength / 2;\n\tlet nextTarget = halfExtra;\n\tlet prevTarget = halfExtra;\n\tif (nextText.length > halfExtra && previousText.length > halfExtra) {\n\t\tnextTarget = halfExtra;\n\t\tprevTarget = halfExtra;\n\t} else if (nextText.length > halfExtra) {\n\t\tnextTarget = halfExtra + (halfExtra - previousText.length);\n\t} else if (previousText.length > halfExtra) {\n\t\tprevTarget = halfExtra + (halfExtra - nextText.length);\n\t}\n\n\tif (previousText.length > prevTarget) {\n\t\tpreviousText = `...${previousText.slice(\n\t\t\tpreviousText.length - prevTarget\n\t\t)}`;\n\t}\n\tif (nextText.length > nextTarget) {\n\t\tnextText = `${nextText.slice(0, nextTarget)}...`;\n\t}\n\n\treturn [previousText, searchText, nextText].join('');\n\n\t// Get the next (or previous) text node from a given node. This may\n\t// involve some traversal of the DOM.\n\tfunction getNextTextNode(\n\t\tnode: Node | null,\n\t\tgetNext: (node: Node) => Node | null,\n\t\tgetLeaf: (node: Node) => Node | null\n\t): Node | null {\n\t\tif (!node || node === container) {\n\t\t\treturn null;\n\t\t}\n\n\t\tlet next = getNext(node);\n\t\tif (!next) {\n\t\t\treturn getNextTextNode(node.parentElement, getNext, getLeaf);\n\t\t}\n\n\t\tif (next.childNodes.length > 0) {\n\t\t\tnext = getLeaf(next);\n\t\t}\n\n\t\tif (next && next.nodeType !== Node.TEXT_NODE) {\n\t\t\treturn getNextTextNode(next, getNext, getLeaf);\n\t\t}\n\n\t\treturn next;\n\t}\n\n\t// Get the leftmost leaf in the DOM, starting from a given node\n\tfunction getLeftLeaf(node: Node): Node {\n\t\twhile (node.childNodes.length > 0) {\n\t\t\treturn getLeftLeaf(node.childNodes[0]);\n\t\t}\n\t\treturn node;\n\t}\n\n\t// Get the rightmost leaf in the DOM, starting from a given node\n\tfunction getRightLeaf(node: Node): Node {\n\t\twhile (node.childNodes.length > 0) {\n\t\t\treturn getRightLeaf(node.childNodes[node.childNodes.length - 1]);\n\t\t}\n\t\treturn node;\n\t}\n\n\t// Get the container for an element. This is just the first\n\t// 'interesting' container in its ancestry tree.\n\tfunction getContainer(node: Element): Element {\n\t\tswitch (node.tagName) {\n\t\t\tcase 'H1':\n\t\t\tcase 'H2':\n\t\t\tcase 'H3':\n\t\t\tcase 'H4':\n\t\t\tcase 'P':\n\t\t\tcase 'BLOCKQUOTE':\n\t\t\tcase 'PRE':\n\t\t\tcase 'LI':\n\t\t\tcase 'TR':\n\t\t\tcase 'TABLE':\n\t\t\t\treturn node;\n\t\t\tdefault:\n\t\t\t\treturn getContainer(node.parentElement!);\n\t\t}\n\t}\n}\n\ninterface SearchResult {\n\telement: Element;\n\tsection?: string;\n\tsnippet: string;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./apiviewer/search.ts"],"sourceRoot":""}