<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
	<meta charset="utf-8">
	

	<title>Components of a Dojo application | Dojo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property="”og:image”" content="”https://dojo.io/images/og.jpg”">
	<meta name="description" content="Components of a Dojo applicationOverviewIn this tutorial, you will learn about the structure of a simple Dojo application and the purpose of each part of the application. This will not be a comprehen">
<meta property="og:type" content="website">
<meta property="og:title" content="Components of a Dojo application">
<meta property="og:url" content="https://dojo.io/tutorials/002_creating_an_application/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="Components of a Dojo applicationOverviewIn this tutorial, you will learn about the structure of a simple Dojo application and the purpose of each part of the application. This will not be a comprehen">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://dojo.io/tutorials/resources/html_js.svg">
<meta property="og:image" content="https://dojo.io/tutorials/resources/widget.svg">
<meta property="og:updated_time" content="2019-03-22T14:47:35.842Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Components of a Dojo application">
<meta name="twitter:description" content="Components of a Dojo applicationOverviewIn this tutorial, you will learn about the structure of a simple Dojo application and the purpose of each part of the application. This will not be a comprehen">
<meta name="twitter:image" content="https://dojo.io/tutorials/resources/html_js.svg">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
	
		<link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
	
	
		<link rel="icon" href="/images/favicons/favicon.ico">
	
	<link rel="stylesheet" href="/css/main.css">
	
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<link rel="stylesheet" href="/css/prism-vs.css" type="text/css"></head>
</html>
	<body class="body-tutorial
">
		<div class="page-wrapper">
			<div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
	<div class="uk-container uk-container-expand uk-navbar-container">
		<nav class="uk-navbar" uk-navbar>
			<div class="uk-navbar-left">
				<ul class="uk-navbar-nav">
					<li><a href="#sidebar-nav" uk-icon="icon: menu" class="navbar-item uk-hidden@m" uk-toggle="target: #mobile-sidebar"></a></li>
					<li><a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="uk-logo site-logo" alt="Dojo"></a></li>
				</ul>
			</div>
			<div class="uk-navbar-right uk-visible@m">
				<ul class="uk-navbar-nav">
					<li><a class="navbar-item" href="/docs.html">Docs</a></li>
<li><a class="navbar-item " href="/tutorials">Tutorials</a></li>
<li><a class="navbar-item" href="/blog">Blog</a></li>
<li><a class="navbar-item" href="/community">Community</a></li>
				</ul>
			</div>
		</nav>
	</div>
</div>

			<div class="content-wrapper">
				<div class="page-content">
					<section class="section">
	<div class="container">
		<div class="uk-offcanvas-content has-sidebar-left">
			<div class="sidebar-left uk-visible@m">
				<ul class="uk-nav uk-nav-primary">
	<h3>Tutorials</h3>
	<li class="uk-nav-header">Getting Started</li>
	<li class="uk-nav-divider"></li>

	
			<li class><a href="/tutorials/000_local_installation/">Dojo local installation</a></li>
	
			<li class><a href="/tutorials/001_static_content/">Your first Dojo application</a></li>
	
			<li class="uk-active"><a href="/tutorials/002_creating_an_application/">Components of a Dojo application</a></li>
	
			<li class><a href="/tutorials/003_creating_widgets/">Creating widgets</a></li>
	
			<li class><a href="/tutorials/004_user_interactions/">Responding to events</a></li>
	
			<li class><a href="/tutorials/005_form_widgets/">Form widgets</a></li>
	
			<li class><a href="/tutorials/006_deploying_to_production/">Deploying to production</a></li>
	
			<li class="uk-nav-header">Advanced</li>
			<li class="uk-nav-divider"></li>
	
			<li class><a href="/tutorials/007_theming/">Theming</a></li>
	
			<li class><a href="/tutorials/008_animations/">Web Animations</a></li>
	
			<li class><a href="/tutorials/1010_containers_and_injecting_state/">State management</a></li>
	
			<li class><a href="/tutorials/1015_form_validation/">Form validation</a></li>
	
			<li class><a href="/tutorials/1020_registries/">Registry</a></li>
	
			<li class><a href="/tutorials/1030_routing/">Routing</a></li>
	
			<li class><a href="/tutorials/1050_development_environment/">Setting up a development environment</a></li>
	
			<li class><a href="/tutorials/1060_data_driven_widgets/">Data-driven widgets</a></li>
	
			<li class><a href="/tutorials/1070_custom_elements/">Creating Custom Elements</a></li>
	
</ul>

			</div>
			<div class="uk-section uk-section-default">
				<div class="uk-container uk-container-small uk-position-relative">
					<section class="tutorial hidden hiding">
<h1 id="Components-of-a-Dojo-application"><a href="#Components-of-a-Dojo-application" class="headerlink" title="Components of a Dojo application"></a>Components of a Dojo application</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>In this tutorial, you will learn about the structure of a simple Dojo application and the purpose of each part of the application. This will not be a comprehensive discussion about all of the possible parts of a Dojo application. We will focus on the minimum application that we started with in <a href="../001_static_content/">Your first Dojo application</a>.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can open the <a href="https://codesandbox.io/s/github/dojo/dojo.io/tree/master/site/source/tutorials/002_creating_an_application/demo/initial/biz-e-corp" target="_blank" rel="noopener">tutorial on codesandbox.io</a> or <a href="../assets/002_creating_an_application-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p>
<p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo local installation</a> article for more information.</p>
<p>You also need to be familiar with TypeScript as Dojo uses it extensively.</p>
</section><section class="tutorial hidden hiding">
<h2 id="The-main-HTML-document"><a href="#The-main-HTML-document" class="headerlink" title="The main HTML document"></a>The main HTML document</h2><p>HTML pages are the foundation for every web application and Dojo applications are no different. In the sample application, the <code>index.html</code> file serves this role. Notice that the <code>&lt;body&gt;</code> tag contains a single element: <code>&lt;my-app&gt;</code>. While there is nothing special about this element, the application is using this node to determine where to place the Dojo application on the page. Everything that the application does should be contained within this single element. There are several benefits to this approach:</p>
<ul>
<li>A Dojo application can easily coexist on a page with other content.</li>
<li>That content can consist of static assets, a legacy application or even another Dojo application.</li>
</ul>
</section><section class="tutorial hidden hiding">
<h2 id="Mounting-Your-Dojo-Application"><a href="#Mounting-Your-Dojo-Application" class="headerlink" title="Mounting Your Dojo Application"></a>Mounting Your Dojo Application</h2><p>In <a href="../001_static_content/">Your first Dojo application</a>, we reviewed Dojo’s use of a virtual DOM to provide an abstraction between the application and the rendered page. To actually render your dojo application, we use the <code>renderer</code> function from the <code>vdom</code> module. The <code>renderer</code> accepts a function that returns virtual DOM (generated by either the <code>w()</code> or <code>v()</code> pragma, more on these later!).</p>
<div class="instruction">Review these lines in <code>main.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token function">renderer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span>
	<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>These lines are the key to allowing the projector to coordinate between the virtual DOM and the rendered HTML that the user sees. The final step is to call <code>mount</code> on the value returned from the <code>renderer</code> call. By default the <code>renderer</code> will mount the application on the HTML documents body, but this can be overridden by providing a <code>domNode</code> option to the <code>mount</code> function.</p>
<div class="instruction">The <code>mount</code> operation in <code>main.ts</code>:</div>
<pre class="language-javascript"><code class="language-javascript">r<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token punctuation">{</span> domNode<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-app'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
</section><section class="tutorial hidden hiding">
<h2 id="Widgets"><a href="#Widgets" class="headerlink" title="Widgets"></a>Widgets</h2><p>Until now, we have returned a virtual DOM that represents HTML elements directly from the <code>renderer</code>, however, that would not scale as an application grows.</p>
<p>This is where widgets are beneficial, as widgets are Dojo’s basic building blocks for user interfaces. They combine both the visual and behavioral aspects of a component into a single element. These aspects are encapsulated within the widget’s implementation. Interaction with the widget is possible from other components through the properties and methods that the widget exposes. Consider the following diagrams:</p>
<p><img src="../resources/html_js.svg" title="HTML and JavaScript" class="half-width"><img src="../resources/widget.svg" title="Widget" class="half-width"></p>
<p>The first diagram shows a traditional HTML + JavaScript architecture. Since the visual (HTML) and behavioral (JavaScript) aspects of the application are publicly accessible, the application’s components can be manipulated directly which can lead to the HTML and JavaScript getting out of sync with each other. Extensive test suites are often needed to make sure that this does not happen.</p>
<p>The second image shows how widgets ensure that components only interact according to their design intent. The widget encapsulates its visual and behavioral aspects. It then exposes properties and methods that allow other components to interact with it. By providing a controlled interface, it is much easier to keep the visual and behavioral aspects of the widget synchronized.</p>
<p>In our demo application, we do not currently have any widgets, but let’s abstract the virtual DOM from <code>main.ts</code> into a dedicated widget. You will notice that to render a widget, we use a different pragma, <code>w()</code>, than we used before to render nodes that directly represent the DOM nodes.</p>
<div class="instruction">Create a widget <code>HelloWorld.ts</code> in <code>src/widgets</code></div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> WidgetBase <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/widget-core/WidgetBase'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> v <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/widget-core/d'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">HelloWorld</span> <span class="token keyword">extends</span> <span class="token class-name">WidgetBase</span> <span class="token punctuation">{</span>
	<span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Use the <code>HelloWorld</code> widget in the <code>renderer</code> in <code>src/main.ts</code></div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> r <span class="token operator">=</span> <span class="token function">renderer</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">w</span><span class="token punctuation">(</span>HelloWorld<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This is a very simple widget, containing the virtual DOM that we previously were returning straight from the vdom <code>renderer</code>, but it demonstrates some important concepts. Notice the <code>render</code> method, which provides the virtual nodes (also known as DNodes) for the <code>renderer</code> to determine what to add to the HTML document. In this example, the widget is simple enough that the function always returns the same result. We could make this widget more sophisticated by allowing it to take additional properties that can be used to alter how the DNodes are generated. We can provide sensible default values for these properties to add more complex behavior without needing to change how the rest of the application interacts with the widget. This approach encourages the development of loosely coupled components that are easier to develop and maintain over time.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Tests"><a href="#Tests" class="headerlink" title="Tests"></a>Tests</h2><p>The final aspect that our basic application contains is its test suite. Dojo is designed to ensure that errors are either not possible or easily detected, but tests are still required to verify business logic and ensure the application’s components work together as expected. Dojo leverages the <a href="http://theintern.io" target="_blank" rel="noopener">Intern</a> testing framework to provide its testing capabilities. Intern supports several testing strategies including unit, functional, performance benchmark, accessibility and visual regression testing. The tests also use the <a href="https://github.com/dojo/framework/testing" target="_blank" rel="noopener">Dojo test-extras library</a> from <code>@dojo/framework</code> to verify the output of the widget’s render function. The test-extras library is designed to facilitate testing the functionality of Dojo widgets. For more information, refer to the <a href="../comingsoon.html">Testing Dojo Widgets</a> article.</p>
<p>Our demo application includes some tests to verify that it is working as expected. The tests are found in <code>tests/unit/widgets/HelloWorld.ts</code>. Let’s examine this part of the test code:</p>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">'should render'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> h <span class="token operator">=</span> <span class="token function">harness</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">w</span><span class="token punctuation">(</span>Banner<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	h<span class="token punctuation">.</span><span class="token function">expect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> title<span class="token punctuation">:</span> <span class="token string">'I am a title!'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>This test is ensuring that the rendering function is returning the correct tag and that the tag has the correct content. We will return to the topic of testing in a later tutorial, but for now you can use them to check your work as you progress through this series by running the following terminal commands:</p>
<pre class=" language-bash"><code class="language-bash">dojo <span class="token function">test</span>
</code></pre>
<p>Running <code>dojo test</code> compiles the application on demand (just in time compilation) by default for Node.js. However the tests can also be run against built bundles using the <code>--config</code> config with <code>dojo test</code>, but first we need to make sure we’ve built the test bundles. These bundles can be built using a watch command, meaning that the full application does not need to be rebuilt to re-run the tests after every change. There is a separate mode for unit and functional test bundles, <code>--mode unit</code> and <code>--mode functional</code> respectively.</p>
<p>In one terminal run:</p>
<pre class=" language-bash"><code class="language-bash">dojo build --mode unit --watch
</code></pre>
<p>While this is command is running, in another terminal run:</p>
<pre class=" language-bash"><code class="language-bash">dojo <span class="token function">test</span> --config local
</code></pre>
</section><section class="tutorial hidden hiding">
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>This tutorial introduced the components that make up the core of every Dojo application. While there are many other components that are optional, the main HTML document, renderer, widgets and, hopefully, tests are present in all of them.</p>
<p>If you would like, you can open the completed demo application on <a href="https://codesandbox.io/s/github/dojo/dojo.io/tree/master/site/source/tutorials/002_creating_an_application/demo/finished/biz-e-corp" target="_blank" rel="noopener">codesandbox.io</a> or alternatively <a href="../assets/002_creating_an_application-finished.zip">download</a> the project.</p>
<p>In <a href="../003_creating_widgets/">Creating widgets</a>, we will take a deeper look at Dojo widgets. We will go beyond the static widgets that we have worked with so far and learn how to create widgets that encapsulate state and behavior.</p>
</section>

				</div>
			</div>
		</div>
	</div>
</section>
<div id="mobile-sidebar" class="sidebar-left" uk-offcanvas>
	<div class="uk-offcanvas-bar">
		<div>
			<ul class="uk-nav" data-uk-nav>
	<li><a class="navbar-item" href="/docs.html">Docs</a></li>
<li><a class="navbar-item " href="/tutorials">Tutorials</a></li>
<li><a class="navbar-item" href="/blog">Blog</a></li>
<li><a class="navbar-item" href="/community">Community</a></li>
</ul>

			<hr>
			<ul class="uk-nav uk-nav-primary">
	<h3>Tutorials</h3>
	<li class="uk-nav-header">Getting Started</li>
	<li class="uk-nav-divider"></li>

	
			<li class><a href="/tutorials/000_local_installation/">Dojo local installation</a></li>
	
			<li class><a href="/tutorials/001_static_content/">Your first Dojo application</a></li>
	
			<li class="uk-active"><a href="/tutorials/002_creating_an_application/">Components of a Dojo application</a></li>
	
			<li class><a href="/tutorials/003_creating_widgets/">Creating widgets</a></li>
	
			<li class><a href="/tutorials/004_user_interactions/">Responding to events</a></li>
	
			<li class><a href="/tutorials/005_form_widgets/">Form widgets</a></li>
	
			<li class><a href="/tutorials/006_deploying_to_production/">Deploying to production</a></li>
	
			<li class="uk-nav-header">Advanced</li>
			<li class="uk-nav-divider"></li>
	
			<li class><a href="/tutorials/007_theming/">Theming</a></li>
	
			<li class><a href="/tutorials/008_animations/">Web Animations</a></li>
	
			<li class><a href="/tutorials/1010_containers_and_injecting_state/">State management</a></li>
	
			<li class><a href="/tutorials/1015_form_validation/">Form validation</a></li>
	
			<li class><a href="/tutorials/1020_registries/">Registry</a></li>
	
			<li class><a href="/tutorials/1030_routing/">Routing</a></li>
	
			<li class><a href="/tutorials/1050_development_environment/">Setting up a development environment</a></li>
	
			<li class><a href="/tutorials/1060_data_driven_widgets/">Data-driven widgets</a></li>
	
			<li class><a href="/tutorials/1070_custom_elements/">Creating Custom Elements</a></li>
	
</ul>

		</div>
	</div>
</div>

				</div>
				<footer class="footer uk-text-small uk-text-muted uk-container-expanded">
	<span>&copy; 2018 JS Foundation, All Rights Reserved.</span>
</footer>

			</div>
			
		</div>
		


<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit-icons.min.js"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.12/js/all.js" integrity="sha384-Voup2lBiiyZYkRto2XWqbzxHXwzcm4A5RfdfG6466bu5LqjwwrjXCMBQBLMWh7qR" crossorigin="anonymous"></script>

	</body>
</html>
