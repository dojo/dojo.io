<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	

	<title>Routing | Dojo</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<meta property=”og:image” content=”https://dojo.io/images/og.jpg” />
	<meta name="description" content="Application routingOverview@dojo/framework/routing is a powerful set of tools to support declarative routing using a specialized widget that accepts a render property called an Outlet and a widget th">
<meta property="og:type" content="website">
<meta property="og:title" content="Routing">
<meta property="og:url" content="https://dojo.io/tutorials/1030_routing/index.html">
<meta property="og:site_name" content="Dojo">
<meta property="og:description" content="Application routingOverview@dojo/framework/routing is a powerful set of tools to support declarative routing using a specialized widget that accepts a render property called an Outlet and a widget th">
<meta property="og:locale" content="en">
<meta property="og:updated_time" content="2018-10-16T13:01:29.955Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Routing">
<meta name="twitter:description" content="Application routingOverview@dojo/framework/routing is a powerful set of tools to support declarative routing using a specialized widget that accepts a render property called an Outlet and a widget th">
<meta name="twitter:creator" content="@https:&#x2F;&#x2F;twitter.com&#x2F;dojo">
	
		<link rel="alternate" href="/atom.xml" title="Dojo" type="application/atom+xml">
	
	
		<link rel="icon" href="/images/favicons/favicon.ico">
	
	<link rel="stylesheet" href="/css/main.css">
	
<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-3242977-15', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->


<link rel="stylesheet" href="/css/prism-vs.css" type="text/css"></head>

	<body class="body-tutorial
">
		<div class="page-wrapper">
			<div uk-sticky="sel-target: .uk-navbar-container; cls-active: uk-navbar-sticky">
	<div class="uk-container uk-container-expand uk-navbar-container">
		<nav class="uk-navbar" uk-navbar>
			<div class="uk-navbar-left">
				<ul class="uk-navbar-nav">
					<li><a href="#sidebar-nav" uk-icon="icon: menu" class="navbar-item uk-hidden@m" uk-toggle="target: #mobile-sidebar"></a></li>
					<li><a href="/" class="navbar-item"><img src="/images/logos/dojo2-logo-white.svg" class="uk-logo site-logo" alt="Dojo"></a></li>
				</ul>
			</div>
			<div class="uk-navbar-right uk-visible@m">
				<ul class="uk-navbar-nav">
					<li><a class="navbar-item" href="/docs.html">Docs</a></li>
<li><a class="navbar-item " href="/tutorials">Tutorials</a></li>
<li><a class="navbar-item" href="/blog">Blog</a></li>
<li><a class="navbar-item" href="/community">Community</a></li>
				</ul>
			</div>
		</nav>
	</div>
</div>

			<div class="content-wrapper">
				<div class="page-content">
					<section class="section">
	<div class="container">
		<div class="uk-offcanvas-content has-sidebar-left">
			<div class="sidebar-left uk-visible@m">
				<ul class="uk-nav uk-nav-primary">
	<h3>Tutorials</h3>
	<li class="uk-nav-header">Getting Started</li>
	<li class="uk-nav-divider"></li>

	
			<li class=""><a href="/tutorials/000_local_installation/">Dojo local installation</a></li>
	
			<li class=""><a href="/tutorials/001_static_content/">Your first Dojo application</a></li>
	
			<li class=""><a href="/tutorials/002_creating_an_application/">Components of a Dojo application</a></li>
	
			<li class=""><a href="/tutorials/003_creating_widgets/">Creating widgets</a></li>
	
			<li class=""><a href="/tutorials/004_user_interactions/">Responding to events</a></li>
	
			<li class=""><a href="/tutorials/005_form_widgets/">Form widgets</a></li>
	
			<li class=""><a href="/tutorials/006_deploying_to_production/">Deploying to production</a></li>
	
			<li class="uk-nav-header">Advanced</li>
			<li class="uk-nav-divider"></li>
	
			<li class=""><a href="/tutorials/007_theming/">Theming</a></li>
	
			<li class=""><a href="/tutorials/008_animations/">Web Animations</a></li>
	
			<li class=""><a href="/tutorials/1010_containers_and_injecting_state/">State management</a></li>
	
			<li class=""><a href="/tutorials/1015_form_validation/">Form validation</a></li>
	
			<li class=""><a href="/tutorials/1020_registries/">Registry</a></li>
	
			<li class="uk-active"><a href="/tutorials/1030_routing/">Routing</a></li>
	
			<li class=""><a href="/tutorials/1050_development_environment/">Setting up a development environment</a></li>
	
			<li class=""><a href="/tutorials/1060_data_driven_widgets/">Data-driven widgets</a></li>
	
</ul>

			</div>
			<div class="uk-section uk-section-default">
				<div class="uk-container uk-container-small uk-position-relative">
					<section class="tutorial hidden hiding">
<h1 id="Application-routing"><a href="#Application-routing" class="headerlink" title="Application routing"></a>Application routing</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p><code>@dojo/framework/routing</code> is a powerful set of tools to support declarative routing using a specialized widget that accepts a render property called an <code>Outlet</code> and a widget that creates links with a <code>href</code> generated from an <code>outlet</code> id.</p>
<p>In this tutorial, we will start with a basic application with no routing. We will use Dojo’s declarative routing to configure some routes, use the <code>Outlet</code> widget to define the view for each route and use the <code>Link</code> widget to create links for the application’s outlets.</p>
<h2 id="Prerequisites"><a href="#Prerequisites" class="headerlink" title="Prerequisites"></a>Prerequisites</h2><p>You can open the <a href="https://codesandbox.io/s/github/dojo/dojo.io/tree/master/site/source/tutorials/1030_routing/demo/initial/biz-e-corp" target="_blank" rel="noopener">tutorial on codesandbox.io</a> or <a href="../assets/1030_routing-initial.zip">download</a> the demo project and run <code>npm install</code> to get started.</p>
<p>The <code>@dojo/cli</code> command line tool should be installed globally. Refer to the <a href="../000_local_installation/">Dojo local installation</a> article for more information.</p>
<p>You also need to be familiar with TypeScript as Dojo uses it extensively.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Configuring-the-router"><a href="#Configuring-the-router" class="headerlink" title="Configuring the router"></a>Configuring the router</h2><div class="task">Create the routing configuration</div>
<p>All application routes needs to be to configured when creating the router instance, otherwise entering a route will not trigger a transition within the application. The <code>RouteConfig</code> object is an object consisting of various properties:</p>
<ul>
<li><code>path</code> - the URL path to match against</li>
<li><code>outlet</code> - a unique identifier associated with a route</li>
<li><code>defaultParams</code> - default parameters are used as a fallback when parameters do not exist in the current route</li>
<li><code>defaultRoute</code> - a default route to be used if there is no other matching route</li>
<li><code>children</code> - nested route configurations which can represent a nested path within a parent route</li>
</ul>
<p>The route configuration should be static, i.e. not dynamically determined at runtime and defined as the default export of a module called <code>routes.ts</code> in the project’s <code>src</code> directory.</p>
<p>Application routing paths are assembled into a hierarchy based on the routing configuration. The <code>children</code> property of a parent route accepts an array of more route configurations.</p>
<div class="instruction">Include the required imports in the file <code>main.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Registry <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/widget-core/Registry'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> registerRouterInjector <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/routing/RouterInjector'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">'./routes'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Define the routing configuration in <code>routes.ts</code></div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
	<span class="token punctuation">{</span>
		path<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span>
		outlet<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span>
		children<span class="token punctuation">:</span> <span class="token punctuation">[</span>
			<span class="token punctuation">{</span>
				path<span class="token punctuation">:</span> <span class="token string">'{filter}'</span><span class="token punctuation">,</span>
				outlet<span class="token punctuation">:</span> <span class="token string">'filter'</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span>
		path<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span>
		outlet<span class="token punctuation">:</span> <span class="token string">'new-worker'</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token punctuation">{</span>
		path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
		outlet<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
		defaultRoute<span class="token punctuation">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Explanations for the route configuration in the above code block are explained earlier in this step.</p>
<div class="instruction">Now, register the router in a <code>registry</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">const</span> registry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Registry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">registerRouterInjector</span><span class="token punctuation">(</span>routes<span class="token punctuation">,</span> registry<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<article class="aside"><strong class="label">History Managers</strong><p>The default history manager uses hash-based (fragment style) URLs. To use one of the other provided history managers pass it as the <code>HistoryManager</code> in the third argument of <code>registerRouterInjector</code>.</p></article>
<p>The <code>registerRouterInjector</code> helper utility used in the code above is provided by <code>@dojo/framework/routing</code>, and can be used to create a routing instance. The utility accepts:</p>
<ul>
<li>The application’s routing configuration</li>
<li>A <code>registry</code> to define a <code>router</code> injector against</li>
<li>An object which specifies the <a href="https://github.com/dojo/routing#history-management" target="_blank" rel="noopener">history manager</a> to be used</li>
</ul>
<p>The utility returns the <code>router</code> instance if required.</p>
<div class="instruction">Initialize the routing</div>
<p>To initialize the routing, pass the registry to the renderer’s <code>mount</code> function.</p>
<pre class="language-javascript"><code class="language-javascript">r<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token punctuation">{</span> domNode<span class="token punctuation">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'my-app'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">,</span> registry <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Next, we will create <code>outlets</code> to control when our widgets are displayed.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Routing-Outlets"><a href="#Routing-Outlets" class="headerlink" title="Routing Outlets"></a>Routing Outlets</h2><div class="task">Wrap the application widgets with the <code>Outlet</code> widget.</div>
<article class="aside"><strong class="label">Reminder</strong><p>The path that is associated to an outlet name is defined by the routing configuration from the first section of this tutorial.</p></article>
<p>The <code>Outlet</code> widget accepts two properties, <code>id</code> and <code>renderer</code>. The <code>id</code> is the <code>outlet</code> from the routing configuration and the <code>renderer</code> is a function that returns widgets and nodes to display using <code>v()</code> and <code>w()</code>.</p>
<p>The <code>renderer</code> function receives a <code>MatchDetails</code> object that provides information about the route match.</p>
<ul>
<li><code>router</code>: The router instance, which can be used to generate links.</li>
<li><code>queryParams</code>: An object that contains any query params for the route.</li>
<li><code>params</code>: An object that contains any path params for the route.</li>
<li><code>type</code>: The type of match:<ul>
<li><code>index</code>: An exact match</li>
<li><code>partial</code>: The route is a match but not exact</li>
<li><code>error</code>: The route is an error match</li>
</ul>
</li>
<li><code>isError</code>: Helper function that returns true when the match type is error</li>
<li><code>isExact</code>: Helper function that returns true when the match type is exact</li>
</ul>
<p>Consider an <code>outlet</code> configured for a <code>path</code> of <code>about</code>, the widget that it returns from the <code>renderer</code> will render for a selected route <code>about</code> (described as an <code>index</code> match). The widget will also display for any route that the outlet’s <code>path</code> partially matches, for example, <code>about/company</code> or <code>about/company/team</code>.</p>
<article class="aside"><strong class="label">Warning: Make sure functions used in render property are bound!</strong><p>Functions passed to <code>v()</code> and <code>w()</code> in a render property need to already have been bound to the correct context. This is because the render property is actually executed and returned from the <code>Outlet</code> and therefore will be bound to the context of the <code>Outlet</code> and not your widget.</p></article>
<p>Simply returning the widget or nodes that need to be displayed when an outlet has matched is usually all that is required, however there are scenarios where it is necessary to explicitly define a widget for an <code>index</code> or <code>error</code> match. This is where <code>matchDetails</code> is beneficial. By using the information from <code>matchDetails</code>, we can create simple logic to determine which widget to render for each scenario.</p>
<pre class=" language-ts"><code class="language-ts"><span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    id<span class="token punctuation">:</span> <span class="token string">'outlet-name'</span><span class="token punctuation">,</span>
    renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">:</span> MatchDetails<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">.</span><span class="token function">isExact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>MyIndexComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">.</span><span class="token function">isError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>MyErrorComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>MyComponent<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Import the <code>Outlet</code> widget and <code>MatchDetails</code> interface.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Outlet <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/routing/Outlet'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> MatchDetails <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/routing/interfaces'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Replace <code>Banner</code> with an <code>Outlet</code> that returns <code>Banner</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>Banner<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre>
<div class="instruction">Replace <code>WorkerForm</code> with an <code>Outlet</code> that returns <code>WorkerForm</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerForm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
		formData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_newWorker<span class="token punctuation">,</span>
		onFormInput<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_onFormInput<span class="token punctuation">,</span>
		onFormSave<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_addWorker
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre>
<p>The <code>filter</code> outlet use the match details information to determine if the <code>filter</code> param should be passed to the <code>WorkerContainer</code> widget.</p>
<div class="instruction">Replace <code>WorkerContainer</code> with an <code>Outlet</code> that returns <code>WorkerContainer</code>.</div>
<pre class="language-javascript"><code class="language-javascript">	<span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">:</span> MatchDetails<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">.</span><span class="token function">isExact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData<span class="token punctuation">,</span>
				filter<span class="token punctuation">:</span> matchDetails<span class="token punctuation">.</span>params<span class="token punctuation">.</span>filter
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span> workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<p>Running the application now should display the <code>Banner.ts</code> by default, but also enable routing to the other widgets using the <code>/directory</code> and <code>/new-worker</code> routes.</p>
<p>Next, we will add a side menu with links for the created outlets.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Adding-Links"><a href="#Adding-Links" class="headerlink" title="Adding Links"></a>Adding Links</h2><div class="task">Add a sidebar menu to the application.</div>
<p>In this section we will be using the <code>Link</code> widget, provided by <code>@dojo/framework/routing</code>, to create link elements with an <code>href</code> attribute for an outlet name. A <code>label</code> for the <code>Link</code> can be passed as children and parameter values for the outlet can be passed to a <code>Link</code> widget using the <code>params</code> property.</p>
<pre class=" language-ts"><code class="language-ts"><span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> to<span class="token punctuation">:</span> <span class="token string">'outlet-name'</span><span class="token punctuation">,</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span> paramName<span class="token punctuation">:</span> <span class="token string">'value'</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add the <code>Link</code> import in <code>App.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/routing/Link'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Replace the <code>render</code> function in <code>App.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
		<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>root<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>container<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
				<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Biz-E-Bodies'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>links<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
					<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Home'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'directory'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Worker Directory'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> <span class="token string">'newWorker'</span><span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>link<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'New Worker'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span>
				<span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>main<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>  <span class="token punctuation">[</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>Banner<span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'new-worker'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerForm<span class="token punctuation">,</span> <span class="token punctuation">{</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function">w</span><span class="token punctuation">(</span>Outlet<span class="token punctuation">,</span> <span class="token punctuation">{</span> id<span class="token punctuation">:</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> renderer<span class="token punctuation">:</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">:</span> MatchDetails<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>matchDetails<span class="token punctuation">.</span><span class="token function">isExact</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span>
						workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData<span class="token punctuation">,</span>
						filter<span class="token punctuation">:</span> matchDetails<span class="token punctuation">.</span>params<span class="token punctuation">.</span>filter
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token function">w</span><span class="token punctuation">(</span>WorkerContainer<span class="token punctuation">,</span> <span class="token punctuation">{</span> workerData<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_workerData <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">]</span><span class="token punctuation">)</span>
	<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>The updated block of code continues to render the banner, worker form and worker container widgets, and additionally renders three <code>Link</code> widgets:</p>
<ol>
<li>A link to the home</li>
<li>A link to the worker directory</li>
<li>A link to the new worker form</li>
</ol>
<p>Now, the links in the side menu can be used to navigate around the application!</p>
</section><section class="tutorial hidden hiding">
<h2 id="Dynamic-Outlet"><a href="#Dynamic-Outlet" class="headerlink" title="Dynamic Outlet"></a>Dynamic <code>Outlet</code></h2><div class="task">Add filters to the <code>WorkerContainer.ts</code> widget and create an outlet.</div>
<p>Finally, we are going to enhance the <code>WorkerContainer.ts</code> with a filter on the workers’ last name. To do this we need to use the <code>filter</code> outlet configured in the first section. The key difference for the <code>filter</code> outlet is that the path is using a placeholder that indicates a path parameter, <code>{filter}</code>.</p>
<article class="aside"><strong class="label">URL matching in routes</strong><p>The <a href="https://github.com/dojo/routing/#route-registration" target="_blank" rel="noopener">Dojo Routing documentation</a> on GitHub further explains how outlets map to URLs.</p></article>
<p>This means a route with any value will match the <code>filter</code> as long as the previous path segments match, so for the <code>filter</code> outlet a route of <code>directory/any-value-here</code> would be considered a match.</p>
<div class="instruction">Add the new property to the <code>WidgetContainerProperties</code> interface in <code>WorkerContainer.ts</code>.</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">WorkerContainerProperties</span> <span class="token punctuation">{</span>
	workerData<span class="token punctuation">:</span> WorkerProperties<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	filter<span class="token operator">?</span><span class="token punctuation">:</span> string<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Include the <code>Link</code> import</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">import</span> <span class="token punctuation">{</span> Link <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@dojo/framework/routing/Link'</span><span class="token punctuation">;</span>
</code></pre>
<div class="instruction">Add a private function to generate the filter links</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">private</span> <span class="token function">_createFilterLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> alphabet <span class="token operator">=</span> <span class="token string">'ABCDEFGHIJKLMNOPQRSTUVWXYZ'</span><span class="token punctuation">;</span>
	<span class="token keyword">const</span> links <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> alphabet<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">const</span> char <span class="token operator">=</span> alphabet<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
		links<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
			<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>links<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
				<span class="token function">w</span><span class="token punctuation">(</span>Link<span class="token punctuation">,</span> <span class="token punctuation">{</span> key<span class="token punctuation">:</span> char<span class="token punctuation">,</span> to<span class="token punctuation">:</span> <span class="token string">'filter'</span><span class="token punctuation">,</span> params<span class="token punctuation">:</span> <span class="token punctuation">{</span> filter<span class="token punctuation">:</span> char <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> char <span class="token punctuation">]</span><span class="token punctuation">)</span>
			<span class="token punctuation">]</span><span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> links<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<div class="instruction">Re-work the render function to filter using the new property</div>
<pre class="language-javascript"><code class="language-javascript"><span class="token keyword">protected</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">const</span> <span class="token punctuation">{</span>
		workerData <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		filter
	<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>properties<span class="token punctuation">;</span>

	<span class="token keyword">const</span> workers <span class="token operator">=</span> workerData<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span>worker<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>filter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> worker<span class="token punctuation">.</span>lastName <span class="token operator">&amp;&amp;</span> worker<span class="token punctuation">.</span>lastName<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> filter<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>worker<span class="token punctuation">,</span> i<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">w</span><span class="token punctuation">(</span>Worker<span class="token punctuation">,</span> <span class="token punctuation">{</span>
		key<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`worker-</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>i<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">,</span>
		<span class="token operator">...</span>worker
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
		<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'h1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>title<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> <span class="token string">'Worker Directory'</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>filters<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_createFilterLinks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function">v</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> classes<span class="token punctuation">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">theme</span><span class="token punctuation">(</span>css<span class="token punctuation">.</span>container<span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> workers<span class="token punctuation">)</span>
	<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We have added a new property named <code>filter</code> to <code>WorkerContainerProperties</code> in <code>WorkerContainer.ts</code>, which will be used to filter the workers based on their last name. When used by a normal widget this would be determined by its parent and passed in like any normal property. However for this application we need the route param value to be passed as the filter property. To achieve this, we can add a mapping function callback which receives an object argument consisting of four properties:</p>
<p>Previously, the raw Dojo widgets were rendered. Now, Outlets (which are also widgets) are rendered instead. These outlets ‘wrap’ the original widgets and pass-through parameters to the wrapped widget, as you define them in the Outlet callback function.</p>
</section><section class="tutorial hidden hiding">
<h2 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h2><p>Dojo routing is a declarative, non-intrusive, mechanism to add complicated route logic to a web application. Importantly, by using a specialized widget with a render property, the widgets for the routes should not need to be updated and can remain solely responsible for their existing view logic.</p>
<p>If you would like, you can open the completed demo application on <a href="https://codesandbox.io/s/github/dojo/dojo.io/tree/master/site/source/tutorials/1030_routing/demo/finished/biz-e-corp" target="_blank" rel="noopener">codesandbox.io</a> or alternatively <a href="../assets/1030_routing-finished.zip">download</a> the project.</p>
</section>

				</div>
			</div>
		</div>
	</div>
</section>
<div id="mobile-sidebar" class="sidebar-left" uk-offcanvas>
	<div class="uk-offcanvas-bar">
		<div>
			<ul class="uk-nav" data-uk-nav>
	<li><a class="navbar-item" href="/docs.html">Docs</a></li>
<li><a class="navbar-item " href="/tutorials">Tutorials</a></li>
<li><a class="navbar-item" href="/blog">Blog</a></li>
<li><a class="navbar-item" href="/community">Community</a></li>
</ul>

			<hr>
			<ul class="uk-nav uk-nav-primary">
	<h3>Tutorials</h3>
	<li class="uk-nav-header">Getting Started</li>
	<li class="uk-nav-divider"></li>

	
			<li class=""><a href="/tutorials/000_local_installation/">Dojo local installation</a></li>
	
			<li class=""><a href="/tutorials/001_static_content/">Your first Dojo application</a></li>
	
			<li class=""><a href="/tutorials/002_creating_an_application/">Components of a Dojo application</a></li>
	
			<li class=""><a href="/tutorials/003_creating_widgets/">Creating widgets</a></li>
	
			<li class=""><a href="/tutorials/004_user_interactions/">Responding to events</a></li>
	
			<li class=""><a href="/tutorials/005_form_widgets/">Form widgets</a></li>
	
			<li class=""><a href="/tutorials/006_deploying_to_production/">Deploying to production</a></li>
	
			<li class="uk-nav-header">Advanced</li>
			<li class="uk-nav-divider"></li>
	
			<li class=""><a href="/tutorials/007_theming/">Theming</a></li>
	
			<li class=""><a href="/tutorials/008_animations/">Web Animations</a></li>
	
			<li class=""><a href="/tutorials/1010_containers_and_injecting_state/">State management</a></li>
	
			<li class=""><a href="/tutorials/1015_form_validation/">Form validation</a></li>
	
			<li class=""><a href="/tutorials/1020_registries/">Registry</a></li>
	
			<li class="uk-active"><a href="/tutorials/1030_routing/">Routing</a></li>
	
			<li class=""><a href="/tutorials/1050_development_environment/">Setting up a development environment</a></li>
	
			<li class=""><a href="/tutorials/1060_data_driven_widgets/">Data-driven widgets</a></li>
	
</ul>

		</div>
	</div>
</div>

				</div>
				<footer class="footer uk-text-small uk-text-muted uk-container-expanded">
	<span>&copy; 2018 JS Foundation, All Rights Reserved.</span>
</footer>

			</div>
			
		</div>
		


<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-rc.10/js/uikit-icons.min.js"></script>
<script defer src="https://use.fontawesome.com/releases/v5.0.12/js/all.js" integrity="sha384-Voup2lBiiyZYkRto2XWqbzxHXwzcm4A5RfdfG6466bu5LqjwwrjXCMBQBLMWh7qR" crossorigin="anonymous"></script>

	</body>
</html>
